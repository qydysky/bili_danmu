/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={2148:(e,t,r)=>{e=r.nmd(e),function(t,i,n,a){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{},s="function"==typeof o[a]&&o[a],l=s.cache||{},u="function"==typeof e.require&&e.require.bind(e);function c(e,r){if(!l[e]){if(!t[e]){var i="function"==typeof o[a]&&o[a];if(!r&&i)return i(e,!0);if(s)return s(e,!0);if(u&&"string"==typeof e)return u(e);var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}h.resolve=function(r){var i=t[e][1][r];return null!=i?i:r},h.cache={};var d=l[e]=new c.Module(e);t[e][0].call(d.exports,h,d,d.exports,this)}return l[e].exports;function h(e){var t=h.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=l,c.parent=s,c.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return o[a]}}),o[a]=c;for(var d=0;d<i.length;d++)c(i[d]);if(n){var h=c(n);e.exports=h}}({bgm6t:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>c));var n=e("./danmuku"),a=i.interopDefault(n),o=e("./setting"),s=i.interopDefault(o),l=e("./heatmap"),u=i.interopDefault(l);function c(e){return t=>{let r=new a.default(t,e),i=new s.default(t,r);return r.option.heatmap&&(0,u.default)(t,r,r.option.heatmap),{name:"artplayerPluginDanmuku",emit:r.emit.bind(r),load:r.load.bind(r),config:r.config.bind(r),hide:r.hide.bind(r),show:r.show.bind(r),reset:r.reset.bind(r),mount:i.mount.bind(i),get option(){return r.option},get isHide(){return r.isHide},get isStop(){return r.isStop}}}}c.icons=s.default.icons,"undefined"!=typeof window&&(window.artplayerPluginDanmuku=c)},{"./danmuku":"4ns48","./setting":"lO8OT","./heatmap":"8AxLD","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4ns48":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./bilibili"),a=e("bundle-text:./worker"),o=i.interopDefault(a);class s{constructor(e,t){let{constructor:r,template:i}=e;this.utils=r.utils,this.validator=r.validator,this.$danmuku=i.$danmuku,this.$player=i.$player,this.art=e,this.danmus=[],this.queue=[],this.option={},this.$refs=[],this.isStop=!1,this.isHide=!1,this.timer=null,this.index=0,this.states={wait:[],ready:[],emit:[],stop:[]},this.config(t),this.worker=new Worker(URL.createObjectURL(new Blob([o.default]))),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.reset=this.reset.bind(this),this.resize=this.resize.bind(this),this.destroy=this.destroy.bind(this),e.on("video:play",this.start),e.on("video:playing",this.start),e.on("video:pause",this.stop),e.on("video:waiting",this.stop),e.on("destroy",this.destroy),e.on("resize",this.resize),this.load()}static get option(){return{danmuku:[],speed:5,margin:[10,"25%"],opacity:1,color:"#FFFFFF",mode:0,modes:[0,1,2],fontSize:25,antiOverlap:!0,synchronousPlayback:!1,mount:void 0,heatmap:!1,points:[],filter:()=>!0,beforeEmit:()=>!0,beforeVisible:()=>!0,visible:!0,emitter:!0,maxLength:200,lockTime:5,theme:"dark",OPACITY:{},FONT_SIZE:{},MARGIN:{},SPEED:{},COLOR:[]}}static get scheme(){return{danmuku:"array|function|string",speed:"number",margin:"array",opacity:"number",color:"string",mode:"number",modes:"array",fontSize:"number|string",antiOverlap:"boolean",synchronousPlayback:"boolean",mount:"?htmldivelement|string",heatmap:"object|boolean",points:"array",filter:"function",beforeEmit:"function",beforeVisible:"function",visible:"boolean",emitter:"boolean",maxLength:"number",lockTime:"number",theme:"string",OPACITY:"object",FONT_SIZE:"object",MARGIN:"object",SPEED:"object",COLOR:"array"}}static get cssText(){return' user-select: none; position: absolute; white-space: pre; pointer-events: none; perspective: 500px; display: inline-block; will-change: transform; font-weight: normal; line-height: 1.125; visibility: hidden; font-family: SimHei, "Microsoft JhengHei", Arial, Helvetica, sans-serif; text-shadow: rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px; '}get isRotate(){return this.art.plugins?.autoOrientation?.state}get marginTop(){let{clamp:e}=this.utils,t=this.option.margin[0],{clientHeight:r}=this.$player;return"number"==typeof t?e(t,0,r):"string"==typeof t&&t.endsWith("%")?e(r*(parseFloat(t)/100),0,r):s.option.margin[0]}get marginBottom(){let{clamp:e}=this.utils,t=this.option.margin[1],{clientHeight:r}=this.$player;return"number"==typeof t?e(t,0,r):"string"==typeof t&&t.endsWith("%")?e(r*(parseFloat(t)/100),0,r):s.option.margin[1]}get fontSize(){let{clamp:e}=this.utils,{clientHeight:t}=this.$player,r=this.option.fontSize;return"number"==typeof r?e(r,12,t):"string"==typeof r&&r.endsWith("%")?e(t*(parseFloat(r)/100),12,t):s.option.fontSize}get $ref(){let e=this.$refs.pop()||document.createElement("div");return e.style.cssText=s.cssText,e.dataset.mode="",e.className="",e}get readys(){let{currentTime:e}=this.art,t=[];return this.filter("ready",(e=>t.push(e))),this.filter("wait",(r=>{e+.1>=r.time&&r.time>=e-.1&&t.push(r)})),t}get visibles(){let e=[],{clientWidth:t}=this.$player,r=this.getLeft(this.$player);return this.filter("emit",(i=>{let n=i.$ref.offsetTop,a=this.getLeft(i.$ref)-r,o=i.$ref.clientHeight,s=i.$ref.clientWidth,l=a+s,u=l/i.$restTime,c={};c.top=n,c.left=a,c.height=o,c.width=s,c.right=t-l,c.speed=u,c.distance=l,c.time=i.$restTime,c.mode=i.mode,e.push(c)})),e}get speed(){return this.option.synchronousPlayback&&this.art.playbackRate?this.option.speed/Number(this.art.playbackRate):this.option.speed}async load(){let{errorHandle:e}=this.utils;try{"function"==typeof this.option.danmuku?this.danmus=await this.option.danmuku():"function"==typeof this.option.danmuku.then?this.danmus=await this.option.danmuku:"string"==typeof this.option.danmuku?this.danmus=await(0,n.bilibiliDanmuParseFromUrl)(this.option.danmuku):this.danmus=this.option.danmuku,e(Array.isArray(this.danmus),"Danmuku need return an array as result"),this.queue=[],this.$danmuku.innerText="",this.danmus.forEach((e=>this.emit(e))),this.art.emit("artplayerPluginDanmuku:loaded",this.queue)}catch(e){throw this.art.emit("artplayerPluginDanmuku:error",e),e}return this}emit(e){let{clamp:t}=this.utils;if(this.validator(e,{text:"string",mode:"?number",color:"?string",time:"?number",border:"?boolean",style:"?object"}),!e.text.trim()||(e.time?e.time=t(e.time,0,1/0):e.time=this.art.currentTime+.5,void 0===e.mode&&(e.mode=this.option.mode),void 0===e.style&&(e.style={}),void 0===e.color&&(e.color=this.option.color),![0,1,2].includes(e.mode)||!this.option.filter(e)))return this;let r={...e,$state:"wait",$id:this.index++,$ref:null,$restTime:0,$lastStartTime:0};return this.setState(r,"wait"),this.queue.push(r),this}config(e){let{clamp:t}=this.utils,{$controlsCenter:r}=this.art.template;return Object.keys(e).some((t=>JSON.stringify(this.option[t])!==JSON.stringify(e[t])))&&(this.option=Object.assign({},s.option,this.option,e),this.validator(this.option,s.scheme),this.option.mode=t(this.option.mode,0,2),this.option.speed=t(this.option.speed,1,10),this.option.opacity=t(this.option.opacity,0,1),this.option.lockTime=t(this.option.lockTime,1,60),this.option.maxLength=t(this.option.maxLength,1,1e3),this.option.mount=this.option.mount||r,e.fontSize&&this.reset(),this.option.visible?this.show():this.hide(),this.art.emit("artplayerPluginDanmuku:config",this.option)),this}getLeft(e){let t=e.getBoundingClientRect();return this.isRotate?t.top:t.left}postMessage(e={}){return new Promise((t=>{e.id=Date.now(),this.worker.postMessage(e),this.worker.onmessage=r=>{let{data:i}=r;i.id===e.id&&t(i)}}))}filter(e,t){let r=this.states[e]||[];for(let e=0;e<r.length;e++)t(r[e]);return r}setState(e,t){this.states[e.$state]=this.states[e.$state].filter((t=>t!==e)),e.$state=t,e.$ref&&(e.$ref.dataset.state=t),this.states[t].push(e)}makeWait(e){this.setState(e,"wait"),e.$ref&&(e.$ref.style.cssText=s.cssText,e.$ref.style.visibility="hidden",e.$ref.style.marginLeft="0px",e.$ref.style.transform="translateX(0px)",e.$ref.style.transition="transform 0s linear 0s",this.$refs.push(e.$ref),e.$ref=null)}update(){let{setStyles:e}=this.utils;return this.timer=window.requestAnimationFrame((async()=>{if(this.art.playing&&!this.isHide){this.filter("emit",(e=>{let t=(Date.now()-e.$lastStartTime)/1e3;e.$restTime-=t,e.$lastStartTime=Date.now(),e.$restTime<=0&&this.makeWait(e)}));let t=this.readys;for(let r=0;r<t.length;r++){let i=t[r];if(await this.option.beforeVisible(i)){let{clientWidth:t,clientHeight:r}=this.$player;i.$ref=this.$ref,i.$ref.innerText=i.text,this.$danmuku.appendChild(i.$ref),i.$ref.style.opacity=this.option.opacity,i.$ref.style.fontSize=`${this.fontSize}px`,i.$ref.style.color=i.color,i.$ref.style.border=i.border?`1px solid ${i.color}`:null,i.$ref.style.backgroundColor=i.border?"rgb(0 0 0 / 50%)":null,e(i.$ref,i.style),i.$lastStartTime=Date.now(),i.$restTime=this.speed;let n=t+i.$ref.clientWidth,{top:a}=await this.postMessage({target:{mode:i.mode,height:i.$ref.clientHeight,speed:n/i.$restTime},visibles:this.visibles,antiOverlap:this.option.antiOverlap,clientWidth:t,clientHeight:r,marginBottom:this.marginBottom,marginTop:this.marginTop});if(i.$ref)if(this.isStop||void 0===a)this.setState(i,"ready"),this.$refs.push(i.$ref),i.$ref=null;else{switch(this.setState(i,"emit"),i.$ref.style.top=`${a}px`,i.$ref.style.visibility="visible",i.$ref.dataset.mode=i.mode,i.mode){case 0:i.$ref.style.left=`${t}px`,i.$ref.style.marginLeft="0px",i.$ref.style.transform=`translateX(${-n}px)`,i.$ref.style.transition=`transform ${i.$restTime}s linear 0s`;break;case 1:case 2:i.$ref.style.left="50%",i.$ref.style.marginLeft=`-${i.$ref.clientWidth/2}px`}this.art.emit("artplayerPluginDanmuku:visible",i)}}}}this.isStop||this.update()})),this}resize(){let{clientWidth:e}=this.$player;this.filter("stop",(t=>{0===t.mode&&(t.$ref.style.left=`${e}px`)})),this.filter("emit",(t=>{if(t.$lastStartTime=Date.now(),0===t.mode){let r=e+t.$ref.clientWidth;t.$ref.style.left=`${e}px`,t.$ref.style.transform=`translateX(${-r}px)`,t.$ref.style.transition=`transform ${t.$restTime}s linear 0s`}}))}continue(){let{clientWidth:e}=this.$player;return this.filter("stop",(t=>{if(this.setState(t,"emit"),t.$lastStartTime=Date.now(),0===t.mode){let r=e+t.$ref.clientWidth;t.$ref.style.transform=`translateX(${-r}px)`,t.$ref.style.transition=`transform ${t.$restTime}s linear 0s`}})),this}suspend(){let{clientWidth:e}=this.$player;return this.filter("emit",(t=>{if(this.setState(t,"stop"),0===t.mode){let r=e-(this.getLeft(t.$ref)-this.getLeft(this.$player));t.$ref.style.transform=`translateX(${-r}px)`,t.$ref.style.transition="transform 0s linear 0s"}})),this}stop(){return this.isStop=!0,this.suspend(),window.cancelAnimationFrame(this.timer),this.art.emit("artplayerPluginDanmuku:stop"),this}start(){return this.isStop=!1,this.continue(),this.update(),this.art.emit("artplayerPluginDanmuku:start"),this}reset(){return this.queue.forEach((e=>this.makeWait(e))),this.art.emit("artplayerPluginDanmuku:reset"),this}show(){return this.isHide=!1,this.$danmuku.style.opacity=1,this.option.visible=!0,this.art.emit("artplayerPluginDanmuku:show"),this}hide(){return this.isHide=!0,this.$danmuku.style.opacity=0,this.option.visible=!1,this.art.emit("artplayerPluginDanmuku:hide"),this}destroy(){this.stop(),this.worker.terminate(),this.art.off("video:play",this.start),this.art.off("video:playing",this.start),this.art.off("video:pause",this.stop),this.art.off("video:waiting",this.stop),this.art.off("resize",this.reset),this.art.off("destroy",this.destroy),this.art.emit("artplayerPluginDanmuku:destroy")}}r.default=s},{"./bilibili":"f83sx","bundle-text:./worker":"lfIAi","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f83sx:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){switch(e){case 1:case 2:case 3:default:return 0;case 4:return 2;case 5:return 1}}function a(e){return"string"!=typeof e?[]:Array.from(e.matchAll(/<d (?:.*? )??p="(?<p>.+?)"(?: .*?)?>(?<text>.+?)<\/d>/gs)).map((e=>{let t=e.groups.p.split(",");return t.length>=8?{text:e.groups.text.trim().replaceAll("&quot;",'"').replaceAll("&apos;","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),time:Number(t[0]),mode:n(Number(t[1])),fontSize:Number(t[2]),color:`#${Number(t[3]).toString(16)}`,timestamp:Number(t[4]),pool:Number(t[5]),userID:t[6],rowID:Number(t[7])}:null})).filter(Boolean)}async function o(e){let t=await fetch(e);return a(await t.text())}i.defineInteropFlag(r),i.export(r,"getMode",(()=>n)),i.export(r,"bilibiliDanmuParseFromXml",(()=>a)),i.export(r,"bilibiliDanmuParseFromUrl",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],lfIAi:[function(e,t,r){t.exports='!function(e,t,n,o,i){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},f="function"==typeof r[o]&&r[o],l=f.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,n){if(!l[t]){if(!e[t]){var i="function"==typeof r[o]&&r[o];if(!n&&i)return i(t,!0);if(f)return f(t,!0);if(d&&"string"==typeof t)return d(t);var h=Error("Cannot find module \'"+t+"\'");throw h.code="MODULE_NOT_FOUND",h}p.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},p.cache={};var s=l[t]=new u.Module(t);e[t][0].call(s.exports,p,s,s.exports,this)}return l[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=l,u.parent=f,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return r[o]}}),r[o]=u;for(var h=0;h<t.length;h++)u(t[h]);if(n){var s=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=s:"function"==typeof define&&define.amd&&define(function(){return s})}}({"59OZS":[function(e,t,n){onmessage=e=>{let{data:t}=e;if(!t.id)return;let n=function({target:e,visibles:t,clientWidth:n,clientHeight:o,marginBottom:i,marginTop:r,antiOverlap:f}){let l=o-i,d=t.filter(t=>t.mode===e.mode&&t.top<=l).sort((e,t)=>e.top-t.top);if(0===d.length)return 2===e.mode?l-e.height:r;if(d.unshift({type:"top",top:0,left:0,right:0,height:r,width:n,speed:0,distance:n}),d.push({type:"bottom",top:l,left:0,right:0,height:i,width:n,speed:0,distance:n}),2===e.mode)for(let t=d.length-2;t>=0;t-=1){let n=d[t],o=d[t+1],i=n.top+n.height;if(o.top-i>=e.height)return o.top-e.height}else for(let t=1;t<d.length;t+=1){let n=d[t],o=d[t-1],i=o.top+o.height;if(n.top-i>=e.height)return i}let u=[];for(let e=1;e<d.length-1;e+=1){let t=d[e];if(u.length){let e=u[u.length-1];e[0].top===t.top?e.push(t):u.push([t])}else u.push([t])}if(f)switch(e.mode){case 0:{let t=u.find(t=>t.every(t=>!(n<t.distance)&&(e.speed<t.speed||t.right/(e.speed-t.speed)>t.time)));return t&&t[0]?t[0].top:void 0}case 1:case 2:return}else{switch(e.mode){case 0:u.sort((e,t)=>{let n=Math.min(...t.map(e=>e.right)),o=Math.min(...e.map(e=>e.right));return n*t.length-o*e.length});break;case 1:case 2:u.sort((e,t)=>{let n=Math.max(...t.map(e=>e.width));return Math.max(...e.map(e=>e.width))*e.length-n*t.length})}return u[0][0].top}}(t);self.postMessage({top:n,id:t.id})}},{}]},["59OZS"],"59OZS","parcelRequire4dc0");'},{}],lO8OT:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("bundle-text:./style.less"),a=i.interopDefault(n),o=e("bundle-text:./img/on.svg"),s=i.interopDefault(o),l=e("bundle-text:./img/off.svg"),u=i.interopDefault(l),c=e("bundle-text:./img/config.svg"),d=i.interopDefault(c),h=e("bundle-text:./img/style.svg"),p=i.interopDefault(h),f=e("bundle-text:./img/mode_0_off.svg"),m=i.interopDefault(f),g=e("bundle-text:./img/mode_0_on.svg"),y=i.interopDefault(g),_=e("bundle-text:./img/mode_1_off.svg"),v=i.interopDefault(_),b=e("bundle-text:./img/mode_1_on.svg"),w=i.interopDefault(b),S=e("bundle-text:./img/mode_2_off.svg"),E=i.interopDefault(S),A=e("bundle-text:./img/mode_2_on.svg"),x=i.interopDefault(A),k=e("bundle-text:./img/check_on.svg"),T=i.interopDefault(k),M=e("bundle-text:./img/check_off.svg"),L=i.interopDefault(M);if(r.default=class{constructor(e,t){this.art=e,this.danmuku=t,this.utils=e.constructor.utils;let{setStyle:r}=this.utils,{$controlsCenter:i}=e.template;r(i,"display","flex"),this.template={$controlsCenter:i,$mount:i,$danmuku:null,$toggle:null,$configModes:null,$styleModes:null,$colors:null,$opacitySlider:null,$opacityValue:null,$marginSlider:null,$marginValue:null,$fontSizeSlider:null,$fontSizeValue:null,$speedSlider:null,$speedValue:null,$input:null,$send:null},this.slider={opacity:null,margin:null,fontSize:null,speed:null},this.emitting=!1,this.isLock=!1,this.timer=null,this.createTemplate(),this.createSliders(),this.createEvents(),this.mount(this.option.mount),e.on("fullscreen",(e=>this.onFullscreen(e))),e.on("fullscreenWeb",(e=>this.onFullscreen(e)))}static get icons(){return{$on:s.default,$off:u.default,$config:d.default,$style:p.default,$mode_0_off:m.default,$mode_0_on:y.default,$mode_1_off:v.default,$mode_1_on:w.default,$mode_2_off:E.default,$mode_2_on:x.default,$check_on:T.default,$check_off:L.default}}get option(){return this.danmuku.option}get outside(){return this.template.$mount!==this.template.$controlsCenter}get TEMPLATE(){let{option:e}=this;return`<div class="apd-toggle">${s.default}${u.default}</div><div class="apd-config">${d.default}<div class="apd-config-panel"><div class="apd-config-panel-inner"><div class="apd-config-mode">按类型屏蔽<div class="apd-modes"><div data-mode="0" class="apd-mode">${m.default}${y.default}<div>滚动</div></div><div data-mode="1" class="apd-mode">${v.default}${w.default}<div>顶部</div></div><div data-mode="2" class="apd-mode">${E.default}${x.default}<div>底部</div></div></div></div><div class="apd-config-other"><div class="apd-other apd-anti-overlap">${T.default}${L.default} 防止弹幕重叠</div><div class="apd-other apd-sync-video">${T.default}${L.default} 同步视频速度</div></div><div class="apd-config-slider apd-config-opacity">不透明度<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-margin">显示区域<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-fontSize">弹幕字号<div class="apd-slider"></div><div class="apd-value">未知</div></div><div class="apd-config-slider apd-config-speed">弹幕速度<div class="apd-slider"></div><div class="apd-value">未知</div></div></div></div></div><div class="apd-emitter"><div class="apd-style">${p.default}<div class="apd-style-panel"><div class="apd-style-panel-inner"><div class="apd-style-mode">模式<div class="apd-modes"><div data-mode="0" class="apd-mode">${y.default}<div>滚动</div></div><div data-mode="1" class="apd-mode">${w.default}<div>顶部</div></div><div data-mode="2" class="apd-mode">${x.default}<div>底部</div></div></div></div><div class="apd-style-color">颜色<div class="apd-colors">${this.COLOR.map((e=>`<div data-color="${e}" class="apd-color" style="background-color: ${e}"></div>`)).join("")}</div></div></div></div></div><input class="apd-input" placeholder="发个友善的弹幕见证当下" autocomplete="off" maxLength="${e.maxLength}" /><div class="apd-send">发送</div></div>`}get OPACITY(){return{min:0,max:100,steps:[],...this.option.OPACITY}}get FONT_SIZE(){return{min:12,max:120,steps:[],...this.option.FONT_SIZE}}get MARGIN(){return{min:0,max:3,steps:[{name:"1/4",value:[10,"75%"]},{name:"半屏",value:[10,"50%"]},{name:"3/4",value:[10,"25%"]},{name:"满屏",value:[10,10]}],...this.option.MARGIN}}get SPEED(){return{min:0,max:4,steps:[{name:"极慢",value:10},{name:"较慢",value:7.5,hide:!0},{name:"适中",value:5},{name:"较快",value:2.5,hide:!0},{name:"极快",value:1}],...this.option.SPEED}}get COLOR(){return this.option.COLOR.length?this.option.COLOR:["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00","#019899","#4266BE","#89D5FF","#CC0273","#222222","#9B9B9B","#FFFFFF"]}query(e){let{query:t}=this.utils,{$danmuku:r}=this.template;return t(e,r)}setData(e,t){let{$player:r}=this.art.template,{$mount:i}=this.template;r.dataset[e]=t,this.outside&&(i.dataset[e]=t)}createTemplate(){let{createElement:e,tooltip:t}=this.utils,r=e("div");r.className="artplayer-plugin-danmuku",r.innerHTML=this.TEMPLATE,this.template.$danmuku=r,this.template.$toggle=this.query(".apd-toggle"),this.template.$configModes=this.query(".apd-config-mode .apd-modes"),this.template.$styleModes=this.query(".apd-style-mode .apd-modes"),this.template.$colors=this.query(".apd-colors"),this.template.$antiOverlap=this.query(".apd-anti-overlap"),this.template.$syncVideo=this.query(".apd-sync-video"),this.template.$opacitySlider=this.query(".apd-config-opacity .apd-slider"),this.template.$opacityValue=this.query(".apd-config-opacity .apd-value"),this.template.$marginSlider=this.query(".apd-config-margin .apd-slider"),this.template.$marginValue=this.query(".apd-config-margin .apd-value"),this.template.$fontSizeSlider=this.query(".apd-config-fontSize .apd-slider"),this.template.$fontSizeValue=this.query(".apd-config-fontSize .apd-value"),this.template.$speedSlider=this.query(".apd-config-speed .apd-slider"),this.template.$speedValue=this.query(".apd-config-speed .apd-value"),this.template.$input=this.query(".apd-input"),this.template.$send=this.query(".apd-send");let{$toggle:i}=this.template;this.art.on("artplayerPluginDanmuku:show",(()=>{t(i,"关闭弹幕")})),this.art.on("artplayerPluginDanmuku:hide",(()=>{t(i,"打开弹幕")}))}createEvents(){let{$toggle:e,$configModes:t,$styleModes:r,$colors:i,$antiOverlap:n,$syncVideo:a,$send:o,$input:s}=this.template;this.art.proxy(e,"click",(()=>{this.danmuku.config({visible:!this.option.visible}),this.reset()})),this.art.proxy(t,"click",(e=>{let t=e.target.closest(".apd-mode");if(!t)return;let r=Number(t.dataset.mode);this.option.modes.includes(r)?this.danmuku.config({modes:this.option.modes.filter((e=>e!==r))}):this.danmuku.config({modes:[...this.option.modes,r]}),this.reset()})),this.art.proxy(n,"click",(()=>{this.danmuku.config({antiOverlap:!this.option.antiOverlap}),this.reset()})),this.art.proxy(a,"click",(()=>{this.danmuku.config({synchronousPlayback:!this.option.synchronousPlayback}),this.reset()})),this.art.proxy(r,"click",(e=>{let t=e.target.closest(".apd-mode");if(!t)return;let r=Number(t.dataset.mode);this.danmuku.config({mode:r}),this.reset()})),this.art.proxy(i,"click",(e=>{let t=e.target.closest(".apd-color");t&&(this.danmuku.config({color:t.dataset.color}),this.reset())})),this.art.proxy(o,"click",(()=>this.emit())),this.art.proxy(s,"keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),this.emit())}))}createSliders(){this.slider.opacity=this.createSlider({...this.OPACITY,container:this.template.$opacitySlider,findIndex:()=>Math.round(100*this.option.opacity),onChange:e=>{let{$opacityValue:t}=this.template;t.textContent=`${e}%`,this.danmuku.config({opacity:e/100})}}),this.slider.margin=this.createSlider({...this.MARGIN,container:this.template.$marginSlider,findIndex:()=>this.MARGIN.steps.findIndex((e=>e.value[0]===this.option.margin[0]&&e.value[1]===this.option.margin[1])),onChange:e=>{let t=this.MARGIN.steps[e];if(!t)return;let{$marginValue:r}=this.template;r.textContent=t.name,this.danmuku.config({margin:t.value})}}),this.slider.fontSize=this.createSlider({...this.FONT_SIZE,container:this.template.$fontSizeSlider,findIndex:()=>Math.round(this.danmuku.fontSize),onChange:e=>{let{$fontSizeValue:t}=this.template;t.textContent=`${e}px`,this.danmuku.config({fontSize:e})}}),this.slider.speed=this.createSlider({...this.SPEED,container:this.template.$speedSlider,findIndex:()=>this.SPEED.steps.findIndex((e=>e.value===this.option.speed)),onChange:e=>{let t=this.SPEED.steps[e];if(!t)return;let{$speedValue:r}=this.template;r.textContent=t.name,this.danmuku.config({speed:t.value})}})}createSlider({min:e,max:t,container:r,findIndex:i,onChange:n,steps:a=[]}){let{query:o,clamp:s}=this.utils;r.innerHTML=`<div class="apd-slider-line"><div class="apd-slider-points">${a.map((()=>'<div class="apd-slider-point"></div>')).join("")}</div><div class="apd-slider-progress"></div></div><div class="apd-slider-dot"></div><div class="apd-slider-steps">${a.map((e=>e.hide?"":`<div class="apd-slider-step">${e.name}</div>`)).join("")}</div>`;let l=o(".apd-slider-dot",r),u=o(".apd-slider-progress",r),c=!1;function d(r=i()){if(r<e||r>t)return;let o=(r-e)/(t-e);l.style.left=100*o+"%",0===a.length&&(u.style.width=l.style.left),n(r)}function h(i){let{left:n,width:a}=r.getBoundingClientRect();d(Math.round(s(i.clientX-n,0,a)/a*(t-e)+e))}return this.art.proxy(r,"click",(e=>{h(e)})),this.art.proxy(r,"mousedown",(e=>{c=0===e.button})),this.art.on("document:mousemove",(e=>{c&&h(e)})),this.art.on("document:mouseup",(e=>{c&&(c=!1,h(e))})),{reset:d}}onFullscreen(e){if(this.outside){let{$danmuku:t,$controlsCenter:r,$mount:i}=this.template;e?r.appendChild(t):i.appendChild(t)}}async emit(){let{$input:e}=this.template,t=e.value.trim();if(!t.length||this.isLock||this.emitting)return;let r={text:t,mode:this.option.mode,color:this.option.color,time:this.art.currentTime};try{this.emitting=!0;let t=await this.option.beforeEmit(r);if(this.emitting=!1,!0!==t)return;r.border=!0,delete r.time,this.danmuku.emit(r),e.value="",this.lock()}catch(e){this.emitting=!1}}lock(){let{addClass:e}=this.utils,{$send:t}=this.template;this.isLock=!0;let r=this.option.lockTime;t.innerText=r,e(t,"apd-lock");let i=()=>{this.timer=setTimeout((()=>{0===r?this.unlock():(r-=1,t.innerText=r,i())}),1e3)};i()}unlock(){let{removeClass:e}=this.utils,{$send:t}=this.template;clearTimeout(this.timer),this.isLock=!1,t.innerText="发送",e(t,"apd-lock")}reset(){let{inverseClass:e,tooltip:t}=this.utils,{$toggle:r,$colors:i}=this.template;this.slider.opacity.reset(),this.slider.margin.reset(),this.slider.fontSize.reset(),this.slider.speed.reset(),this.setData("danmukuVisible",this.option.visible),this.setData("danmukuMode",this.option.mode),this.setData("danmukuColor",this.option.color),this.setData("danmukuMode0",this.option.modes.includes(0)),this.setData("danmukuMode1",this.option.modes.includes(1)),this.setData("danmukuMode2",this.option.modes.includes(2)),this.setData("danmukuAntiOverlap",this.option.antiOverlap),this.setData("danmukuSyncVideo",this.option.synchronousPlayback),this.setData("danmukuTheme",this.option.theme),this.setData("danmukuEmitter",this.option.emitter);let n=Array.from(i.children).find((e=>e.dataset.color===this.option.color.toUpperCase()));n&&e(n,"apd-active"),t(r,this.option.visible?"关闭弹幕":"打开弹幕")}mount(e){let t="string"==typeof e?document.querySelector(e):e;t.appendChild(this.template.$danmuku),this.template.$mount=t,this.reset()}},"undefined"!=typeof document){let e="artplayer-plugin-danmuku",t=document.getElementById(e);if(t)t.textContent=a.default;else{let t=document.createElement("style");t.id=e,t.textContent=a.default,document.head.appendChild(t)}}},{"bundle-text:./style.less":"hViDo","bundle-text:./img/on.svg":"9pjcf","bundle-text:./img/off.svg":"b2dkP","bundle-text:./img/config.svg":"l8tyy","bundle-text:./img/style.svg":"5iZC3","bundle-text:./img/mode_0_off.svg":"i0Vut","bundle-text:./img/mode_0_on.svg":"hOSvZ","bundle-text:./img/mode_1_off.svg":"bOXC3","bundle-text:./img/mode_1_on.svg":"lKuh0","bundle-text:./img/mode_2_off.svg":"eB8W6","bundle-text:./img/mode_2_on.svg":"bpe2E","bundle-text:./img/check_on.svg":"kL9zy","bundle-text:./img/check_off.svg":"22xpM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hViDo:[function(e,t,r){t.exports='.artplayer-plugin-danmuku{z-index:99;color:#fff;flex-shrink:0;justify-content:center;align-items:center;gap:10px;width:100%;height:32px;font-size:12px;font-weight:300;display:flex;position:relative}.artplayer-plugin-danmuku .apd-icon{cursor:pointer;opacity:.75;fill:#fff;transition:all .2s}.artplayer-plugin-danmuku .apd-icon:hover{opacity:1}.artplayer-plugin-danmuku .apd-config{display:flex;position:relative}.artplayer-plugin-danmuku .apd-config .apd-config-panel{width:320px;padding:10px;display:none;position:absolute;bottom:24px;left:-148px}.artplayer-plugin-danmuku .apd-config .apd-config-panel .apd-config-panel-inner{background-color:#000000d9;border-radius:3px;width:100%;padding:10px}.artplayer-plugin-danmuku .apd-config:hover .apd-config-panel{display:flex}.artplayer-plugin-danmuku .apd-config-mode,.artplayer-plugin-danmuku .apd-config-slider,.artplayer-plugin-danmuku .apd-config-other,.artplayer-plugin-danmuku .apd-style-mode{margin-bottom:15px}.artplayer-plugin-danmuku .apd-modes{align-items:center;gap:20px;margin-top:5px;display:flex}.artplayer-plugin-danmuku .apd-modes .apd-mode{cursor:pointer;text-align:center}.artplayer-plugin-danmuku .apd-modes .apd-mode:hover{color:#00a1d6}.artplayer-plugin-danmuku .apd-config-slider{align-items:center;gap:12px;display:flex}.artplayer-plugin-danmuku .apd-config-slider .apd-value{text-align:right;width:32px}.artplayer-plugin-danmuku .apd-slider{cursor:pointer;flex:1;justify-content:center;align-items:center;height:20px;display:flex;position:relative}.artplayer-plugin-danmuku .apd-slider .apd-slider-line{background-color:#ffffff40;border-radius:3px;width:100%;height:2px;position:relative;overflow:hidden}.artplayer-plugin-danmuku .apd-slider .apd-slider-points{justify-content:space-between;align-items:center;display:flex;position:absolute;inset:0}.artplayer-plugin-danmuku .apd-slider .apd-slider-points .apd-slider-point{background-color:#ffffff80;border-radius:50%;width:2px;height:2px}.artplayer-plugin-danmuku .apd-slider .apd-slider-progress{background-color:#00a1d6;width:0%;height:100%}.artplayer-plugin-danmuku .apd-slider .apd-slider-dot{background-color:#00a1d6;border-radius:50%;width:12px;height:12px;position:absolute;left:0%;transform:translate(-6px)}.artplayer-plugin-danmuku .apd-slider .apd-slider-steps{color:#777;justify-content:space-between;align-items:center;width:calc(100% + 32px);display:flex;position:absolute;bottom:-12px}.artplayer-plugin-danmuku .apd-slider .apd-slider-steps .apd-slider-step{text-align:center;flex-shrink:0;width:36px;scale:.95}.artplayer-plugin-danmuku .apd-config-other{align-items:center;gap:20px;display:flex}.artplayer-plugin-danmuku .apd-config-other .apd-check-off,.artplayer-plugin-danmuku .apd-config-other .apd-check-on{width:16px;height:16px}.artplayer-plugin-danmuku .apd-config-other .apd-other{cursor:pointer;align-items:center;gap:2px;display:flex}.artplayer-plugin-danmuku .apd-config-other .apd-other:hover{color:#00a1d6}.artplayer-plugin-danmuku .apd-emitter{background-color:#ffffff40;border-radius:5px;flex:1;align-items:center;height:100%;display:flex}.artplayer-plugin-danmuku .apd-style{justify-content:center;align-items:center;display:flex;position:relative}.artplayer-plugin-danmuku .apd-style .apd-style-panel{width:200px;padding:10px;display:none;position:absolute;bottom:24px;left:-88px}.artplayer-plugin-danmuku .apd-style .apd-style-panel .apd-style-panel-inner{background-color:#000000d9;border-radius:3px;width:100%;padding:10px}.artplayer-plugin-danmuku .apd-style:hover .apd-style-panel{display:flex}.artplayer-plugin-danmuku .apd-colors{flex-wrap:wrap;gap:8px;margin-top:5px;display:flex}.artplayer-plugin-danmuku .apd-colors .apd-color{cursor:pointer;border-radius:2px;width:16px;height:16px}.artplayer-plugin-danmuku .apd-colors .apd-color.apd-active{border:1px solid #000;box-shadow:0 0 0 1px #fff}.artplayer-plugin-danmuku .apd-input{color:#fff;background-color:#0000;border:none;outline:none;flex:1;width:auto;min-width:0;height:100%;line-height:1}.artplayer-plugin-danmuku .apd-input::placeholder{color:#ffffff80}.artplayer-plugin-danmuku .apd-send{cursor:pointer;text-shadow:none;background-color:#00a1d6;border-top-right-radius:5px;border-bottom-right-radius:5px;flex-shrink:0;justify-content:center;align-items:center;width:60px;height:100%;display:flex}.artplayer-plugin-danmuku .apd-send.apd-lock{cursor:not-allowed;color:#666;background-color:#e7e7e7}.art-controls-center .apd-emitter{flex:none;width:260px}.art-fullscreen .artplayer-plugin-danmuku,.art-fullscreen-web .artplayer-plugin-danmuku{gap:16px;height:38px}.art-fullscreen .artplayer-plugin-danmuku .apd-config-icon,.art-fullscreen-web .artplayer-plugin-danmuku .apd-config-icon,.art-fullscreen .artplayer-plugin-danmuku .apd-toggle-off,.art-fullscreen-web .artplayer-plugin-danmuku .apd-toggle-off,.art-fullscreen .artplayer-plugin-danmuku .apd-toggle-on,.art-fullscreen-web .artplayer-plugin-danmuku .apd-toggle-on{width:28px;height:28px}.art-fullscreen .artplayer-plugin-danmuku .apd-emitter,.art-fullscreen-web .artplayer-plugin-danmuku .apd-emitter{flex:none;width:400px}[data-danmuku-emitter=false] .apd-emitter{display:none!important}[data-danmuku-emitter=false] .art-controls-center .artplayer-plugin-danmuku{justify-content:flex-end;gap:18px}[data-danmuku-emitter=false].art-fullscreen .art-controls-center .artplayer-plugin-danmuku,[data-danmuku-emitter=false].art-fullscreen-web .art-controls-center .artplayer-plugin-danmuku{gap:24px}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-icon{fill:#333}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-emitter{background-color:#f1f2f3}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-input{color:#000}[data-danmuku-theme=light]>.artplayer-plugin-danmuku .apd-input::placeholder{color:#0000004d}[data-danmuku-visible=false] .apd-toggle-off{display:block}[data-danmuku-visible=false] .apd-toggle-on,[data-danmuku-visible=true] .apd-toggle-off{display:none}[data-danmuku-visible=true] .apd-toggle-on{display:block}[data-danmuku-anti-overlap=false] .apd-anti-overlap .apd-check-on{display:none}[data-danmuku-anti-overlap=false] .apd-anti-overlap .apd-check-off,[data-danmuku-anti-overlap=true] .apd-anti-overlap .apd-check-on{display:block}[data-danmuku-anti-overlap=true] .apd-anti-overlap .apd-check-off,[data-danmuku-sync-video=false] .apd-sync-video .apd-check-on{display:none}[data-danmuku-sync-video=false] .apd-sync-video .apd-check-off,[data-danmuku-sync-video=true] .apd-sync-video .apd-check-on{display:block}[data-danmuku-sync-video=true] .apd-sync-video .apd-check-off{display:none}[data-danmuku-mode0=false] .apd-config-mode .apd-mode-0-off{display:block}[data-danmuku-mode0=false] .apd-config-mode .apd-mode-0-on{display:none}[data-danmuku-mode0=false] .art-danmuku [data-mode="0"]{opacity:0!important}[data-danmuku-mode0=true] .apd-config-mode .apd-mode-0-off{display:none}[data-danmuku-mode0=true] .apd-config-mode .apd-mode-0-on{display:block}[data-danmuku-mode="0"] .apd-style-mode [data-mode="0"]{color:#00a1d6}[data-danmuku-mode="0"] .apd-style-mode [data-mode="0"] path{fill:#00a1d6}[data-danmuku-mode1=false] .apd-config-mode .apd-mode-1-off{display:block}[data-danmuku-mode1=false] .apd-config-mode .apd-mode-1-on{display:none}[data-danmuku-mode1=false] .art-danmuku [data-mode="1"]{opacity:0!important}[data-danmuku-mode1=true] .apd-config-mode .apd-mode-1-off{display:none}[data-danmuku-mode1=true] .apd-config-mode .apd-mode-1-on{display:block}[data-danmuku-mode="1"] .apd-style-mode [data-mode="1"]{color:#00a1d6}[data-danmuku-mode="1"] .apd-style-mode [data-mode="1"] path{fill:#00a1d6}[data-danmuku-mode2=false] .apd-config-mode .apd-mode-2-off{display:block}[data-danmuku-mode2=false] .apd-config-mode .apd-mode-2-on{display:none}[data-danmuku-mode2=false] .art-danmuku [data-mode="2"]{opacity:0!important}[data-danmuku-mode2=true] .apd-config-mode .apd-mode-2-off{display:none}[data-danmuku-mode2=true] .apd-config-mode .apd-mode-2-on{display:block}[data-danmuku-mode="2"] .apd-style-mode [data-mode="2"]{color:#00a1d6}[data-danmuku-mode="2"] .apd-style-mode [data-mode="2"] path{fill:#00a1d6}'},{}],"9pjcf":[function(e,t,r){t.exports='<svg class="apd-icon apd-toggle-on" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="M11.989 4.828c-.47 0-.975.004-1.515.012l-1.71-2.566a1.008 1.008 0 0 0-1.678 1.118l.999 1.5c-.681.018-1.403.04-2.164.068a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363l.906.046c1.205.063 1.808.095 3.607.095a.988.988 0 0 0 0-1.975c-1.758 0-2.339-.03-3.501-.092l-.915-.047a2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.01.342.017.65.025.88a.987.987 0 1 0 1.974-.068c-.008-.226-.016-.523-.025-.856v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.9-.032-1.743-.058-2.531-.078l1.05-1.46a1.008 1.008 0 0 0-1.638-1.177l-1.862 2.59c-.38-.004-.744-.007-1.088-.007h-.13Zm.521 4.775h-1.32v4.631h2.222v.847h-2.618v1.078h2.618l.003.678c.36.026.714.163 1.01.407h.11v-1.085h2.694v-1.078h-2.695v-.847H16.8v-4.63h-1.276a8.59 8.59 0 0 0 .748-1.42L15.183 7.8a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.294h-3.2v.98H9.33v1.43H7.472l-.308 3.453h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.005c.285.02.551.04.818.04 1.001-.067 1.562-.419 1.694-1.057.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858h1.254Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902h1.254v.902h-1.254Z" clip-rule="evenodd"/><path fill="#00AEEC" fill-rule="evenodd" d="M22.846 14.627a1 1 0 0 0-1.412.075l-5.091 5.703-2.216-2.275-.097-.086-.008-.005a1 1 0 0 0-1.322 1.493l2.963 3.041.093.083.007.005a1 1 0 0 0 1.354-.124l5.81-6.505.08-.102.005-.008a1 1 0 0 0-.166-1.295Z" clip-rule="evenodd"/></svg>'},{}],b2dkP:[function(e,t,r){t.exports='<svg class="apd-icon apd-toggle-off" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="m8.085 4.891-.999-1.499a1.008 1.008 0 0 1 1.679-1.118l1.709 2.566c.54-.008 1.045-.012 1.515-.012h.13c.345 0 .707.003 1.088.007l1.862-2.59a1.008 1.008 0 0 1 1.637 1.177l-1.049 1.46c.788.02 1.631.046 2.53.078 1.958.069 3.468 1.6 3.74 3.507.088.613.13 2.158.16 3.276l.001.027c.01.333.017.63.025.856a.987.987 0 0 1-1.974.069c-.008-.23-.016-.539-.025-.881v-.002c-.028-1.103-.066-2.541-.142-3.065-.143-1.004-.895-1.78-1.854-1.813a179.14 179.14 0 0 0-6.064-.131c-1.598 0-3.619.044-6.063.13a2.037 2.037 0 0 0-1.945 1.748c-.15 1.04-.225 2.341-.225 3.904 0 1.874.11 3.474.325 4.798.154.949.95 1.66 1.91 1.708a97.58 97.58 0 0 0 5.416.139.988.988 0 0 1 0 1.975 99.78 99.78 0 0 1-5.513-.141A4.012 4.012 0 0 1 2.197 17.7c-.236-1.446-.351-3.151-.351-5.116 0-1.64.08-3.035.245-4.184A4.013 4.013 0 0 1 5.92 4.96c.761-.027 1.483-.05 2.164-.069Zm4.436 4.707h-1.32v4.63h2.222v.848h-2.618v1.078h2.431a5.01 5.01 0 0 1 3.575-3.115V9.598h-1.276a8.59 8.59 0 0 0 .748-1.42l-1.089-.384a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.289h-3.2v.979h2.067v1.43H7.483l-.308 3.454h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.004c.285.02.551.04.818.04 1.001-.066 1.562-.418 1.694-1.056.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858H15.8Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902H15.8v.902h-1.254Zm3.517 10.594a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm-.002-1.502a2.5 2.5 0 0 1-2.217-3.657l3.326 3.398a2.49 2.49 0 0 1-1.109.259Zm2.5-2.5c0 .42-.103.815-.286 1.162l-3.328-3.401a2.5 2.5 0 0 1 3.614 2.239Z" clip-rule="evenodd"/></svg>'},{}],l8tyy:[function(e,t,r){t.exports='<svg class="apd-icon apd-config-icon" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 24 24" width="24" height="24"><path fill-rule="evenodd" d="m15.645 4.881 1.06-1.473a.998.998 0 1 0-1.622-1.166L13.22 4.835a110.67 110.67 0 0 0-1.1-.007h-.131c-.47 0-.975.004-1.515.012L8.783 2.3A.998.998 0 0 0 7.12 3.408l.988 1.484c-.688.019-1.418.042-2.188.069a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363 99.78 99.78 0 0 0 5.513.141.988.988 0 0 0 0-1.975 97.58 97.58 0 0 1-5.416-.139 2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.005.183.01.07.014-.038.004-.096.008-.189.011-.081a.987.987 0 1 0 1.974-.069c-.004-.105-.007-.009-.011.09a2.175 2.175 0 0 1-.007.135l-.002.01a.574.574 0 0 1-.005-.091v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.905-.032-1.752-.058-2.543-.079Zm-3.113 4.703h-1.307v4.643h2.2v.04l.651-1.234c.113-.215.281-.389.482-.509v-.11h.235c.137-.049.283-.074.433-.074h1.553V9.584h-1.264a8.5 8.5 0 0 0 .741-1.405l-1.078-.381c-.24.631-.501 1.23-.806 1.786h-1.503l.686-.305a8.613 8.613 0 0 0-.806-1.394l-1.034.348c.294.392.566.839.817 1.35Zm-1.7 5.502h2.16l-.564 1.068h-1.595v-1.068Zm-2.498-1.863.152-1.561h1.96V8.289H7.277v.969h2.048v1.435h-1.84l-.306 3.51h2.254c0 1.155-.043 1.906-.12 2.255-.076.348-.38.523-.925.523-.305 0-.61-.022-.893-.055l.294 1.056.061.005c.282.02.546.039.81.039.991-.065 1.547-.414 1.677-1.046.11-.631.175-1.883.175-3.757H8.334Zm5.09-.8v.85h-1.188v-.85h1.187Zm-1.188-.955h1.187v-.893h-1.187v.893Zm2.322.007v-.893h1.241v.893h-1.241Zm.528 2.757a1.26 1.26 0 0 1 1.087-.627l4.003-.009a1.26 1.26 0 0 1 1.094.63l1.721 2.982c.226.39.225.872-.001 1.263l-1.743 3a1.26 1.26 0 0 1-1.086.628l-4.003.009a1.26 1.26 0 0 1-1.094-.63l-1.722-2.982a1.26 1.26 0 0 1 .002-1.263l1.742-3Zm1.967.858a1.26 1.26 0 0 0-1.08.614l-.903 1.513a1.26 1.26 0 0 0-.002 1.289l.885 1.492c.227.384.64.62 1.086.618l2.192-.005a1.26 1.26 0 0 0 1.08-.615l.904-1.518a1.26 1.26 0 0 0 .001-1.288l-.884-1.489a1.26 1.26 0 0 0-1.086-.616l-2.193.005Zm2.517 2.76a1.4 1.4 0 1 1-2.8 0 1.4 1.4 0 0 1 2.8 0Z" clip-rule="evenodd"/></svg>'},{}],"5iZC3":[function(e,t,r){t.exports='<svg class="apd-icon apd-style-icon" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 22 22" viewBox="0 0 22 22" width="36" height="24"><path d="M17 16H5c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM6.96 15c.39 0 .74-.24.89-.6l.65-1.6h5l.66 1.6c.15.36.5.6.89.6.69 0 1.15-.71.88-1.34l-3.88-8.97C11.87 4.27 11.46 4 11 4s-.87.27-1.05.69l-3.88 8.97c-.27.63.2 1.34.89 1.34zM11 5.98 12.87 11H9.13L11 5.98z"/></svg>'},{}],i0Vut:[function(e,t,r){t.exports='<svg class="apd-icon apd-mode-0-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm2-1a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2h-1a1 1 0 0 1-1-1z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],hOSvZ:[function(e,t,r){t.exports='<svg class="apd-icon apd-mode-0-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm9 0h-6a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z" fill="#FFF"/></svg>'},{}],bOXC3:[function(e,t,r){t.exports='<svg class="apd-icon apd-mode-1-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zm-4-8h2v2h-2V7zM9 9H7V7h2v2zm4 0h-2V7h2v2zm2-2h2v2h-2V7z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],lKuh0:[function(e,t,r){t.exports='<svg class="apd-icon apd-mode-1-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 9H7V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2z" fill="#FFF"/></svg>'},{}],eB8W6:[function(e,t,r){t.exports='<svg class="apd-icon apd-mode-2-off" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM9 21H7v-2h2v2zm4 0h-2v-2h2v2z" fill="#00AEEC"/><path d="M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z" fill="#00AEEC"/></svg>'},{}],bpe2E:[function(e,t,r){t.exports='<svg class="apd-icon apd-mode-2-on" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" data-pointer="none" style="enable-background:new 0 0 28 28" viewBox="0 0 28 28" width="28" height="28"><path d="M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 21H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z" fill="#FFF"/></svg>'},{}],kL9zy:[function(e,t,r){t.exports='<svg class="apd-icon apd-check-on" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 32 32" width="32" height="32"><path d="m13 18.25-1.8-1.8c-.6-.6-1.65-.6-2.25 0s-.6 1.5 0 2.25l2.85 2.85c.318.318.762.468 1.2.448.438.02.882-.13 1.2-.448l8.85-8.85c.6-.6.6-1.65 0-2.25s-1.65-.6-2.25 0l-7.8 7.8zM8 4h16c2.21 0 4 1.79 4 4v16c0 2.21-1.79 4-4 4H8c-2.21 0-4-1.79-4-4V8c0-2.21 1.79-4 4-4z" fill="#00AEEC"/></svg>'},{}],"22xpM":[function(e,t,r){t.exports='<svg class="apd-icon apd-check-off" xmlns="http://www.w3.org/2000/svg" data-pointer="none" viewBox="0 0 32 32" width="32" height="32"><path d="M8 6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H8zm0-2h16c2.21 0 4 1.79 4 4v16c0 2.21-1.79 4-4 4H8c-2.21 0-4-1.79-4-4V8c0-2.21 1.79-4 4-4z" fill="#FFF"/></svg>'},{}],"8AxLD":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>o));let n={map:(e,t,r,i,n)=>(e-t)*(n-i)/(r-t)+i,range(e,t,r){let i=Math.round(e/r)*r;return Array.from({length:Math.floor((t-e)/r)},((e,t)=>t*r+i))}},a=(e,t)=>{let r=t[0]-e[0],i=t[1]-e[1];return{length:Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),angle:Math.atan2(i,r)}};function o(e,t,r){let{query:i}=e.constructor.utils;e.controls.add({name:"heatmap",position:"top",html:"",style:{position:"absolute",top:"-100px",left:"0px",right:"0px",height:"100px",width:"100%",pointerEvents:"none"},mounted(o){let s=null,l=null;function u(u=[]){if(s=null,l=null,o.innerHTML="",!e.duration||e.option.isLive)return;let c={w:o.offsetWidth,h:o.offsetHeight},d={xMin:0,xMax:c.w,yMin:0,yMax:128,scale:.25,opacity:.2,minHeight:Math.floor(.05*c.h),sampling:Math.floor(c.w/100),smoothing:.2,flattening:.2};"object"==typeof r&&Object.assign(d,r);let h=[];if(Array.isArray(u)&&u.length)h=[...u];else{let r=e.duration/c.w;for(let e=0;e<=c.w;e+=d.sampling){let i=t.danmus.filter((({time:t})=>t>e*r&&t<=(e+d.sampling)*r)).length;h.push([e,i])}}if(0===h.length)return;let p=h[h.length-1],f=p[0],m=p[1];f!==c.w&&h.push([c.w,m]);let g=h.map((e=>e[1])),y=(Math.min(...g)+Math.max(...g))/2;for(let e=0;e<h.length;e++){let t=h[e],r=t[1];t[1]=r*(r>y?1+d.scale:1-d.scale)+d.minHeight}let _=(e,t,r,i)=>{let o=a(t||e,r||e),s=n.map(Math.cos(o.angle)*d.flattening,0,1,1,0),l=o.angle*s+(i?Math.PI:0),u=o.length*d.smoothing;return[e[0]+Math.cos(l)*u,e[1]+Math.sin(l)*u]},v=h.map((e=>[n.map(e[0],d.xMin,d.xMax,0,c.w),n.map(e[1],d.yMin,d.yMax,c.h,0)])).reduce(((e,t,r,i)=>0===r?`M ${i[i.length-1][0]},${c.h} L ${t[0]},${c.h} L ${t[0]},${t[1]}`:`${e} ${((e,t,r)=>{let i=_(r[t-1],r[t-2],e),n=_(e,r[t-1],r[t+1],!0),a=t===r.length-1?" z":"";return`C ${i[0]},${i[1]} ${n[0]},${n[1]} ${e[0]},${e[1]}${a}`})(t,r,i)}`),"");o.innerHTML=`<svg viewBox="0 0 ${c.w} ${c.h}"><defs><linearGradient id="heatmap-solids" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${d.opacity}" /><stop offset="0%" style="stop-color:var(--art-theme);stop-opacity:${d.opacity}" id="heatmap-start" /><stop offset="0%" style="stop-color:var(--art-progress-color);stop-opacity:1" id="heatmap-stop" /><stop offset="100%" style="stop-color:var(--art-progress-color);stop-opacity:1" /></linearGradient></defs><path fill="url(#heatmap-solids)" d="${v}"></path></svg>`,s=i("#heatmap-start",o),l=i("#heatmap-stop",o),s.setAttribute("offset",100*e.played+"%"),l.setAttribute("offset",100*e.played+"%")}e.on("video:timeupdate",(()=>{s&&l&&(s.setAttribute("offset",100*e.played+"%"),l.setAttribute("offset",100*e.played+"%"))})),e.on("setBar",((e,t)=>{s&&l&&"played"===e&&(s.setAttribute("offset",100*t+"%"),l.setAttribute("offset",100*t+"%"))})),e.on("ready",(()=>u())),e.on("resize",(()=>u())),e.on("artplayerPluginDanmuku:loaded",(()=>u())),e.on("artplayerPluginDanmuku:points",(e=>u(e)))}})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["bgm6t"],"bgm6t","parcelRequire4dc0")},8708:(e,t,r)=>{e=r.nmd(e),function(t,i,n,a){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{},s="function"==typeof o[a]&&o[a],l=s.cache||{},u="function"==typeof e.require&&e.require.bind(e);function c(e,r){if(!l[e]){if(!t[e]){var i="function"==typeof o[a]&&o[a];if(!r&&i)return i(e,!0);if(s)return s(e,!0);if(u&&"string"==typeof e)return u(e);var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}h.resolve=function(r){var i=t[e][1][r];return null!=i?i:r},h.cache={};var d=l[e]=new c.Module(e);t[e][0].call(d.exports,h,d,d.exports,this)}return l[e].exports;function h(e){var t=h.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=t,c.cache=l,c.parent=s,c.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return o[a]}}),o[a]=c;for(var d=0;d<i.length;d++)c(i[d]);if(n){var h=c(n);e.exports=h}}({"5lTcX":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("bundle-text:./style/index.less"),a=i.interopDefault(n),o=e("option-validator"),s=i.interopDefault(o),l=e("./utils/emitter"),u=i.interopDefault(l),c=e("./utils"),d=e("./scheme"),h=i.interopDefault(d),p=e("./config"),f=i.interopDefault(p),m=e("./template"),g=i.interopDefault(m),y=e("./i18n"),_=i.interopDefault(y),v=e("./player"),b=i.interopDefault(v),w=e("./control"),S=i.interopDefault(w),E=e("./contextmenu"),A=i.interopDefault(E),x=e("./info"),k=i.interopDefault(x),T=e("./subtitle"),M=i.interopDefault(T),L=e("./events"),R=i.interopDefault(L),I=e("./hotkey"),C=i.interopDefault(I),D=e("./layer"),O=i.interopDefault(D),j=e("./loading"),P=i.interopDefault(j),B=e("./notice"),N=i.interopDefault(B),U=e("./mask"),F=i.interopDefault(U),z=e("./icons"),V=i.interopDefault(z),H=e("./setting"),G=i.interopDefault(H),q=e("./storage"),W=i.interopDefault(q),Y=e("./plugins"),$=i.interopDefault(Y);let Z=0,K=[];class X extends u.default{constructor(e,t){super(),this.id=++Z;let r=c.mergeDeep(X.option,e);if(r.container=e.container,this.option=(0,s.default)(r,h.default),this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isRotate=!1,this.isDestroy=!1,this.template=new g.default(this),this.events=new R.default(this),this.storage=new W.default(this),this.icons=new V.default(this),this.i18n=new _.default(this),this.notice=new N.default(this),this.player=new b.default(this),this.layers=new O.default(this),this.controls=new S.default(this),this.contextmenu=new A.default(this),this.subtitle=new M.default(this),this.info=new k.default(this),this.loading=new P.default(this),this.hotkey=new C.default(this),this.mask=new F.default(this),this.setting=new G.default(this),this.plugins=new $.default(this),"function"==typeof t&&this.on("ready",(()=>t.call(this,this))),X.DEBUG){let e=e=>console.log(`[ART.${this.id}] -> ${e}`);e("Version@"+X.version),e("Env@"+X.env),e("Build@"+X.build);for(let t=0;t<f.default.events.length;t++)this.on("video:"+f.default.events[t],(t=>e("Event@"+t.type)))}K.push(this)}static get instances(){return K}static get version(){return"5.2.2"}static get env(){return"production"}static get build(){return"2025-01-19 17:32:44"}static get config(){return f.default}static get utils(){return c}static get scheme(){return h.default}static get Emitter(){return u.default}static get validator(){return s.default}static get kindOf(){return s.default.kindOf}static get html(){return g.default.html}static get option(){return{id:"",container:"#artplayer",url:"",poster:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,fastForward:!1,autoPlayback:!1,autoOrientation:!1,airplay:!1,proxy:void 0,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],thumbnails:{url:"",number:60,column:10,width:0,height:0,scale:1},subtitle:{url:"",type:"",style:{},name:"",escape:!0,encoding:"utf-8",onVttLoad:e=>e},moreVideoAttr:{controls:!1,preload:c.isSafari?"auto":"metadata"},i18n:{},icons:{},cssVar:{},customType:{},lang:navigator?.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}get video(){return this.template.$video}destroy(e=!0){this.events.destroy(),this.template.destroy(e),K.splice(K.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}r.default=X,X.STYLE=a.default,X.DEBUG=!1,X.CONTEXTMENU=!0,X.NOTICE_TIME=2e3,X.SETTING_WIDTH=250,X.SETTING_ITEM_WIDTH=200,X.SETTING_ITEM_HEIGHT=35,X.RESIZE_TIME=200,X.SCROLL_TIME=200,X.SCROLL_GAP=50,X.AUTO_PLAYBACK_MAX=10,X.AUTO_PLAYBACK_MIN=5,X.AUTO_PLAYBACK_TIMEOUT=3e3,X.RECONNECT_TIME_MAX=5,X.RECONNECT_SLEEP_TIME=1e3,X.CONTROL_HIDE_TIME=3e3,X.DBCLICK_TIME=300,X.DBCLICK_FULLSCREEN=!0,X.MOBILE_DBCLICK_PLAY=!0,X.MOBILE_CLICK_PLAY=!1,X.AUTO_ORIENTATION_TIME=200,X.INFO_LOOP_TIME=1e3,X.FAST_FORWARD_VALUE=3,X.FAST_FORWARD_TIME=1e3,X.TOUCH_MOVE_RATIO=.5,X.VOLUME_STEP=.1,X.SEEK_STEP=5,X.PLAYBACK_RATE=[.5,.75,1,1.25,1.5,2],X.ASPECT_RATIO=["default","4:3","16:9"],X.FLIP=["normal","horizontal","vertical"],X.FULLSCREEN_WEB_IN_BODY=!1,X.LOG_VERSION=!0,X.USE_RAF=!1,c.isBrowser&&(window.Artplayer=X,c.setStyleText("artplayer-style",a.default),setTimeout((()=>{X.LOG_VERSION&&console.log(`%c ArtPlayer %c ${X.version} %c https://artplayer.org`,"color: #fff; background: #5f5f5f","color: #fff; background: #4bc729","")}),100))},{"bundle-text:./style/index.less":"0016T","option-validator":"bAWi2","./utils/emitter":"66mFZ","./utils":"71aH7","./scheme":"AKEiO","./config":"lyjeQ","./template":"X13Zf","./i18n":"3jKkj","./player":"a90nx","./control":"8Z0Uf","./contextmenu":"2KYsr","./info":"02ajl","./subtitle":"eSWto","./events":"jo4S1","./hotkey":"6NoFy","./layer":"6G6hZ","./loading":"3dsEe","./notice":"dWGTw","./mask":"5POkG","./icons":"6OeNg","./setting":"3eYNH","./storage":"2aaJe","./plugins":"8MTUM","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"0016T":[function(e,t,r){t.exports='.art-video-player{--art-theme:red;--art-font-color:#fff;--art-background-color:#000;--art-text-shadow-color:#00000080;--art-transition-duration:.2s;--art-padding:10px;--art-border-radius:3px;--art-progress-height:6px;--art-progress-color:#ffffff40;--art-hover-color:#ffffff40;--art-loaded-color:#ffffff40;--art-state-size:80px;--art-state-opacity:.8;--art-bottom-height:100px;--art-bottom-offset:20px;--art-bottom-gap:5px;--art-highlight-width:8px;--art-highlight-color:#ffffff80;--art-control-height:46px;--art-control-opacity:.75;--art-control-icon-size:36px;--art-control-icon-scale:1.1;--art-volume-height:120px;--art-volume-handle-size:14px;--art-lock-size:36px;--art-indicator-scale:0;--art-indicator-size:16px;--art-fullscreen-web-index:9999;--art-settings-icon-size:24px;--art-settings-max-height:300px;--art-selector-max-height:300px;--art-contextmenus-min-width:250px;--art-subtitle-font-size:20px;--art-subtitle-gap:5px;--art-subtitle-bottom:15px;--art-subtitle-border:#000;--art-widget-background:#000000d9;--art-tip-background:#000000b3;--art-scrollbar-size:4px;--art-scrollbar-background:#ffffff40;--art-scrollbar-background-hover:#ffffff80;--art-mini-progress-height:2px}.art-bg-cover{background-position:50%;background-repeat:no-repeat;background-size:cover}.art-bottom-gradient{background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x}.art-backdrop-filter{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.art-video-player{zoom:1;text-align:left;user-select:none;box-sizing:border-box;color:var(--art-font-color);background-color:var(--art-background-color);text-shadow:0 0 2px var(--art-text-shadow-color);-webkit-tap-highlight-color:#0000;-ms-touch-action:manipulation;touch-action:manipulation;-ms-high-contrast-adjust:none;direction:ltr;outline:0;width:100%;height:100%;margin:0 auto;padding:0;font-family:PingFang SC,Helvetica Neue,Microsoft YaHei,Roboto,Arial,sans-serif;font-size:14px;line-height:1.3;position:relative}.art-video-player *,.art-video-player :before,.art-video-player :after{box-sizing:border-box}.art-video-player ::-webkit-scrollbar{width:var(--art-scrollbar-size);height:var(--art-scrollbar-size)}.art-video-player ::-webkit-scrollbar-thumb{background-color:var(--art-scrollbar-background)}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:var(--art-scrollbar-background-hover)}.art-video-player img{vertical-align:top;max-width:100%}.art-video-player svg{fill:var(--art-font-color)}.art-video-player a{color:var(--art-font-color);text-decoration:none}.art-icon{justify-content:center;align-items:center;line-height:1;display:flex}.art-video-player.art-backdrop .art-contextmenus,.art-video-player.art-backdrop .art-info,.art-video-player.art-backdrop .art-settings,.art-video-player.art-backdrop .art-layer-auto-playback,.art-video-player.art-backdrop .art-selector-list,.art-video-player.art-backdrop .art-volume-inner{backdrop-filter:saturate(180%)blur(20px);background-color:#000000bf!important}.art-video{z-index:10;cursor:pointer;width:100%;height:100%;position:absolute;inset:0}.art-poster{z-index:11;pointer-events:none;background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%;position:absolute;inset:0}.art-video-player .art-subtitle{z-index:20;text-align:center;pointer-events:none;justify-content:center;align-items:center;gap:var(--art-subtitle-gap);bottom:var(--art-subtitle-bottom);font-size:var(--art-subtitle-font-size);transition:bottom var(--art-transition-duration)ease;text-shadow:var(--art-subtitle-border)1px 0 1px,var(--art-subtitle-border)0 1px 1px,var(--art-subtitle-border)-1px 0 1px,var(--art-subtitle-border)0 -1px 1px,var(--art-subtitle-border)1px 1px 1px,var(--art-subtitle-border)-1px -1px 1px,var(--art-subtitle-border)1px -1px 1px,var(--art-subtitle-border)-1px 1px 1px;flex-direction:column;width:100%;padding:0 5%;display:none;position:absolute}.art-video-player.art-subtitle-show .art-subtitle{display:flex}.art-video-player.art-control-show .art-subtitle{bottom:calc(var(--art-control-height) + var(--art-subtitle-bottom))}.art-danmuku{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers{z-index:40;pointer-events:none;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:flex}.art-video-player .art-mask{z-index:50;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:flex;position:absolute;inset:0}.art-video-player .art-mask .art-state{opacity:0;width:var(--art-state-size);height:var(--art-state-size);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;display:flex;transform:scale(2)}.art-video-player.art-mask-show .art-state{cursor:pointer;pointer-events:auto;opacity:var(--art-state-opacity);transform:scale(1)}.art-video-player.art-loading-show .art-state{display:none}.art-video-player .art-loading{z-index:70;pointer-events:none;justify-content:center;align-items:center;width:100%;height:100%;display:none;position:absolute;inset:0}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{z-index:60;opacity:0;pointer-events:none;padding:0 var(--art-padding);transition:all var(--art-transition-duration)ease;background-size:100% var(--art-bottom-height);background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x;flex-direction:column;justify-content:flex-end;width:100%;height:100%;display:flex;position:absolute;inset:0;overflow:hidden}.art-video-player .art-bottom .art-controls,.art-video-player .art-bottom .art-progress{transform:translateY(var(--art-bottom-offset));transition:transform var(--art-transition-duration)ease}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1}.art-video-player.art-control-show .art-bottom .art-controls,.art-video-player.art-hover .art-bottom .art-controls,.art-video-player.art-control-show .art-bottom .art-progress,.art-video-player.art-hover .art-bottom .art-progress{transform:translateY(0)}.art-bottom .art-progress{z-index:0;pointer-events:auto;padding-bottom:var(--art-bottom-gap);position:relative}.art-bottom .art-progress .art-control-progress{cursor:pointer;height:var(--art-progress-height);justify-content:center;align-items:center;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner{transition:height var(--art-transition-duration)ease;background-color:var(--art-progress-color);align-items:center;width:100%;height:50%;display:flex;position:relative}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-hover{z-index:0;background-color:var(--art-hover-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{z-index:10;background-color:var(--art-loaded-color);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{z-index:20;background-color:var(--art-theme);width:0%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{z-index:30;pointer-events:none;width:100%;height:100%;position:absolute;inset:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{z-index:0;pointer-events:auto;transform:translateX(calc(var(--art-highlight-width)/-2));background-color:var(--art-highlight-color);width:100%;height:100%;position:absolute;inset:0 auto 0 0;width:var(--art-highlight-width)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{z-index:40;width:var(--art-indicator-size);height:var(--art-indicator-size);transform:scale(var(--art-indicator-scale));margin-left:calc(var(--art-indicator-size)/-2);transition:transform var(--art-transition-duration)ease;border-radius:50%;justify-content:center;align-items:center;display:flex;position:absolute;left:0}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{pointer-events:none;width:100%;height:100%}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:hover{transform:scale(1.2)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator:active{transform:scale(1)!important}.art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{z-index:50;border-radius:var(--art-border-radius);white-space:nowrap;background-color:var(--art-tip-background);padding:3px 5px;font-size:12px;line-height:1;display:none;position:absolute;top:-25px;left:0}.art-bottom .art-progress .art-control-progress:hover .art-control-progress-inner{height:100%}.art-bottom .art-progress .art-control-thumbnails{bottom:calc(var(--art-bottom-gap) + 10px);border-radius:var(--art-border-radius);pointer-events:none;background-color:var(--art-widget-background);display:none;position:absolute;left:0;box-shadow:0 1px 3px #0003,0 1px 2px -1px #0003}.art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{transform:scale(1)}.art-controls{z-index:10;pointer-events:auto;height:var(--art-control-height);justify-content:space-between;align-items:center;display:flex;position:relative}.art-controls .art-controls-left,.art-controls .art-controls-right{height:100%;display:flex}.art-controls .art-controls-center{flex:1;justify-content:center;align-items:center;height:100%;padding:0 10px;display:none}.art-controls .art-controls-right{justify-content:flex-end}.art-controls .art-control{cursor:pointer;white-space:nowrap;opacity:var(--art-control-opacity);min-height:var(--art-control-height);min-width:var(--art-control-height);transition:opacity var(--art-transition-duration)ease;flex-shrink:0;justify-content:center;align-items:center;display:flex}.art-controls .art-control .art-icon{height:var(--art-control-icon-size);width:var(--art-control-icon-size);transform:scale(var(--art-control-icon-scale));transition:transform var(--art-transition-duration)ease}.art-controls .art-control .art-icon:active{transform:scale(calc(var(--art-control-icon-scale)*.8))}.art-controls .art-control:hover{opacity:1}.art-control-volume{position:relative}.art-control-volume .art-volume-panel{text-align:center;cursor:default;opacity:0;pointer-events:none;left:0;right:0;bottom:var(--art-control-height);width:var(--art-control-height);height:var(--art-volume-height);transition:all var(--art-transition-duration)ease;justify-content:center;align-items:center;padding:0 5px;font-size:12px;display:flex;position:absolute;transform:translateY(10px)}.art-control-volume .art-volume-panel .art-volume-inner{border-radius:var(--art-border-radius);background-color:var(--art-widget-background);flex-direction:column;align-items:center;gap:10px;width:100%;height:100%;padding:10px 0 12px;display:flex}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider{cursor:pointer;flex:1;justify-content:center;width:100%;display:flex;position:relative}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle{border-radius:var(--art-border-radius);background-color:#ffffff40;justify-content:center;width:2px;display:flex;position:relative;overflow:hidden}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-handle .art-volume-loaded{z-index:0;background-color:var(--art-theme);width:100%;height:100%;position:absolute;inset:0}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider .art-volume-indicator{width:var(--art-volume-handle-size);height:var(--art-volume-handle-size);margin-top:calc(var(--art-volume-handle-size)/-2);background-color:var(--art-theme);transition:transform var(--art-transition-duration)ease;border-radius:100%;flex-shrink:0;position:absolute;transform:scale(1)}.art-control-volume .art-volume-panel .art-volume-inner .art-volume-slider:active .art-volume-indicator{transform:scale(.9)}.art-control-volume:hover .art-volume-panel{opacity:1;pointer-events:auto;transform:translateY(0)}.art-video-player .art-notice{z-index:80;padding:var(--art-padding);pointer-events:none;width:100%;height:auto;display:none;position:absolute;inset:0 0 auto}.art-video-player .art-notice .art-notice-inner{border-radius:var(--art-border-radius);background-color:var(--art-tip-background);padding:5px;line-height:1;display:inline-flex}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{z-index:120;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);min-width:var(--art-contextmenus-min-width);flex-direction:column;padding:5px 0;font-size:12px;display:none;position:absolute}.art-video-player .art-contextmenus .art-contextmenu{cursor:pointer;border-bottom:1px solid #ffffff1a;padding:10px 15px;display:flex}.art-video-player .art-contextmenus .art-contextmenu span{padding:0 8px}.art-video-player .art-contextmenus .art-contextmenu span:hover,.art-video-player .art-contextmenus .art-contextmenu span.art-current{color:var(--art-theme)}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:#ffffff1a}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{z-index:90;border-radius:var(--art-border-radius);max-height:var(--art-settings-max-height);left:auto;right:var(--art-padding);bottom:var(--art-control-height);transition:all var(--art-transition-duration)ease;background-color:var(--art-widget-background);flex-direction:column;display:none;position:absolute;overflow:hidden auto}.art-video-player .art-settings .art-setting-panel{flex-direction:column;display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item{cursor:pointer;transition:background-color var(--art-transition-duration)ease;justify-content:space-between;align-items:center;padding:0 5px;display:flex;overflow:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item:hover{background-color:#ffffff1a}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current{color:var(--art-theme)}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{visibility:hidden;height:15px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{flex-shrink:0;justify-content:center;align-items:center;gap:5px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{height:var(--art-settings-icon-size);width:var(--art-settings-icon-size);justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{justify-content:center;align-items:center;gap:5px;font-size:12px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{white-space:nowrap;color:#ffffff80}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{justify-content:center;align-items:center;min-width:32px;height:24px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-range{appearance:none;background-color:#fff3;outline:none;width:80px;height:3px}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid #ffffff1a}.art-video-player.art-setting-show .art-settings{display:flex}.art-video-player .art-info{left:var(--art-padding);top:var(--art-padding);z-index:100;border-radius:var(--art-border-radius);background-color:var(--art-widget-background);padding:10px;font-size:12px;display:none;position:absolute}.art-video-player .art-info .art-info-panel{flex-direction:column;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item{align-items:center;gap:5px;display:flex}.art-video-player .art-info .art-info-panel .art-info-item .art-info-title{text-align:right;width:100px}.art-video-player .art-info .art-info-panel .art-info-item .art-info-content{text-overflow:ellipsis;white-space:nowrap;user-select:all;width:250px;overflow:hidden}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;top:5px;right:5px}.art-video-player.art-info-show .art-info{display:flex}.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio]{overflow:hidden}.art-video-player[data-aspect-ratio] .art-video{object-fit:fill;box-sizing:content-box}.art-fullscreen{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3}.art-fullscreen-web{--art-progress-height:8px;--art-indicator-size:20px;--art-control-height:60px;--art-control-icon-scale:1.3;z-index:var(--art-fullscreen-web-index);width:100%;height:100%;position:fixed;inset:0}.art-mini-popup{z-index:9999;border-radius:var(--art-border-radius);cursor:move;user-select:none;background:#000;width:320px;height:180px;transition:opacity .2s;position:fixed;overflow:hidden;box-shadow:0 0 5px #00000080}.art-mini-popup svg{fill:#fff}.art-mini-popup .art-video{pointer-events:none}.art-mini-popup .art-mini-close{z-index:20;cursor:pointer;opacity:0;transition:opacity .2s;position:absolute;top:10px;right:10px}.art-mini-popup .art-mini-state{z-index:30;pointer-events:none;opacity:0;background-color:#00000040;justify-content:center;align-items:center;width:100%;height:100%;transition:opacity .2s;display:flex;position:absolute;inset:0}.art-mini-popup .art-mini-state .art-icon{opacity:.75;cursor:pointer;pointer-events:auto;transition:transform .2s;transform:scale(3)}.art-mini-popup .art-mini-state .art-icon:active{transform:scale(2.5)}.art-mini-popup.art-mini-droging{opacity:.9}.art-mini-popup:hover .art-mini-close,.art-mini-popup:hover .art-mini-state{opacity:1}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-lock{height:var(--art-lock-size);width:var(--art-lock-size);top:50%;left:var(--art-padding);background-color:var(--art-tip-background);border-radius:50%;justify-content:center;align-items:center;display:none;position:absolute;transform:translateY(-50%)}.art-video-player .art-layer-auto-playback{border-radius:var(--art-border-radius);left:var(--art-padding);bottom:calc(var(--art-control-height) + var(--art-bottom-gap) + 10px);background-color:var(--art-widget-background);align-items:center;gap:10px;padding:10px;line-height:1;display:none;position:absolute}.art-video-player .art-layer-auto-playback .art-auto-playback-close{cursor:pointer;justify-content:center;align-items:center;display:flex}.art-video-player .art-layer-auto-playback .art-auto-playback-close svg{fill:var(--art-theme);width:15px;height:15px}.art-video-player .art-layer-auto-playback .art-auto-playback-jump{color:var(--art-theme);cursor:pointer}.art-video-player.art-lock .art-subtitle{bottom:var(--art-subtitle-bottom)!important}.art-video-player.art-mini-progress-bar .art-bottom,.art-video-player.art-lock .art-bottom{opacity:1;background-image:none;padding:0}.art-video-player.art-mini-progress-bar .art-bottom .art-controls,.art-video-player.art-lock .art-bottom .art-controls,.art-video-player.art-mini-progress-bar .art-bottom .art-progress,.art-video-player.art-lock .art-bottom .art-progress{transform:translateY(calc(var(--art-control-height) + var(--art-bottom-gap) + var(--art-progress-height)/4))}.art-video-player.art-mini-progress-bar .art-bottom .art-progress-indicator,.art-video-player.art-lock .art-bottom .art-progress-indicator{display:none!important}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-control-selector{justify-content:center;display:flex;position:relative}.art-control-selector .art-selector-list{text-align:center;border-radius:var(--art-border-radius);opacity:0;pointer-events:none;bottom:var(--art-control-height);max-height:var(--art-selector-max-height);background-color:var(--art-widget-background);transition:all var(--art-transition-duration)ease;flex-direction:column;align-items:center;display:flex;position:absolute;overflow:hidden auto;transform:translateY(10px)}.art-control-selector .art-selector-list .art-selector-item{flex-shrink:0;justify-content:center;align-items:center;width:100%;padding:10px 15px;line-height:1;display:flex}.art-control-selector .art-selector-list .art-selector-item:hover{background-color:#ffffff1a}.art-control-selector .art-selector-list .art-selector-item:hover,.art-control-selector .art-selector-list .art-selector-item.art-current{color:var(--art-theme)}.art-control-selector:hover .art-selector-list{opacity:1;pointer-events:auto;transform:translateY(0)}[class*=hint--]{font-style:normal;display:inline-block;position:relative}[class*=hint--]:before,[class*=hint--]:after{visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;transition:all .3s;position:absolute;transform:translate(0,0)}[class*=hint--]:hover:before,[class*=hint--]:hover:after{visibility:visible;opacity:1;transition-delay:.1s}[class*=hint--]:before{content:"";z-index:1000001;background:0 0;border:6px solid #0000;position:absolute}[class*=hint--]:after{color:#fff;white-space:nowrap;background:#000;padding:8px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:12px}[class*=hint--][aria-label]:after{content:attr(aria-label)}[class*=hint--][data-hint]:after{content:attr(data-hint)}[aria-label=""]:before,[aria-label=""]:after,[data-hint=""]:before,[data-hint=""]:after{display:none!important}.hint--top-left:before,.hint--top-right:before,.hint--top:before{border-top-color:#000}.hint--bottom-left:before,.hint--bottom-right:before,.hint--bottom:before{border-bottom-color:#000}.hint--left:before{border-left-color:#000}.hint--right:before{border-right-color:#000}.hint--top:before{margin-bottom:-11px}.hint--top:before,.hint--top:after{bottom:100%;left:50%}.hint--top:before{left:calc(50% - 6px)}.hint--top:after{transform:translate(-50%)}.hint--top:hover:before{transform:translateY(-8px)}.hint--top:hover:after{transform:translate(-50%)translateY(-8px)}.hint--bottom:before{margin-top:-11px}.hint--bottom:before,.hint--bottom:after{top:100%;left:50%}.hint--bottom:before{left:calc(50% - 6px)}.hint--bottom:after{transform:translate(-50%)}.hint--bottom:hover:before{transform:translateY(8px)}.hint--bottom:hover:after{transform:translate(-50%)translateY(8px)}.hint--right:before{margin-bottom:-6px;margin-left:-11px}.hint--right:after{margin-bottom:-14px}.hint--right:before,.hint--right:after{bottom:50%;left:100%}.hint--right:hover:before,.hint--right:hover:after{transform:translate(8px)}.hint--left:before{margin-bottom:-6px;margin-right:-11px}.hint--left:after{margin-bottom:-14px}.hint--left:before,.hint--left:after{bottom:50%;right:100%}.hint--left:hover:before,.hint--left:hover:after{transform:translate(-8px)}.hint--top-left:before{margin-bottom:-11px}.hint--top-left:before,.hint--top-left:after{bottom:100%;left:50%}.hint--top-left:before{left:calc(50% - 6px)}.hint--top-left:after{margin-left:12px;transform:translate(-100%)}.hint--top-left:hover:before{transform:translateY(-8px)}.hint--top-left:hover:after{transform:translate(-100%)translateY(-8px)}.hint--top-right:before{margin-bottom:-11px}.hint--top-right:before,.hint--top-right:after{bottom:100%;left:50%}.hint--top-right:before{left:calc(50% - 6px)}.hint--top-right:after{margin-left:-12px;transform:translate(0)}.hint--top-right:hover:before,.hint--top-right:hover:after{transform:translateY(-8px)}.hint--bottom-left:before{margin-top:-11px}.hint--bottom-left:before,.hint--bottom-left:after{top:100%;left:50%}.hint--bottom-left:before{left:calc(50% - 6px)}.hint--bottom-left:after{margin-left:12px;transform:translate(-100%)}.hint--bottom-left:hover:before{transform:translateY(8px)}.hint--bottom-left:hover:after{transform:translate(-100%)translateY(8px)}.hint--bottom-right:before{margin-top:-11px}.hint--bottom-right:before,.hint--bottom-right:after{top:100%;left:50%}.hint--bottom-right:before{left:calc(50% - 6px)}.hint--bottom-right:after{margin-left:-12px;transform:translate(0)}.hint--bottom-right:hover:before,.hint--bottom-right:hover:after{transform:translateY(8px)}.hint--small:after,.hint--medium:after,.hint--large:after{white-space:normal;word-wrap:break-word;line-height:1.4em}.hint--small:after{width:80px}.hint--medium:after{width:150px}.hint--large:after{width:300px}[class*=hint--]:after{text-shadow:0 -1px #000;box-shadow:4px 4px 8px #0000004d}.hint--error:after{text-shadow:0 -1px #592726;background-color:#b34e4d}.hint--error.hint--top-left:before,.hint--error.hint--top-right:before,.hint--error.hint--top:before{border-top-color:#b34e4d}.hint--error.hint--bottom-left:before,.hint--error.hint--bottom-right:before,.hint--error.hint--bottom:before{border-bottom-color:#b34e4d}.hint--error.hint--left:before{border-left-color:#b34e4d}.hint--error.hint--right:before{border-right-color:#b34e4d}.hint--warning:after{text-shadow:0 -1px #6c5328;background-color:#c09854}.hint--warning.hint--top-left:before,.hint--warning.hint--top-right:before,.hint--warning.hint--top:before{border-top-color:#c09854}.hint--warning.hint--bottom-left:before,.hint--warning.hint--bottom-right:before,.hint--warning.hint--bottom:before{border-bottom-color:#c09854}.hint--warning.hint--left:before{border-left-color:#c09854}.hint--warning.hint--right:before{border-right-color:#c09854}.hint--info:after{text-shadow:0 -1px #1a3c4d;background-color:#3986ac}.hint--info.hint--top-left:before,.hint--info.hint--top-right:before,.hint--info.hint--top:before{border-top-color:#3986ac}.hint--info.hint--bottom-left:before,.hint--info.hint--bottom-right:before,.hint--info.hint--bottom:before{border-bottom-color:#3986ac}.hint--info.hint--left:before{border-left-color:#3986ac}.hint--info.hint--right:before{border-right-color:#3986ac}.hint--success:after{text-shadow:0 -1px #1a321a;background-color:#458746}.hint--success.hint--top-left:before,.hint--success.hint--top-right:before,.hint--success.hint--top:before{border-top-color:#458746}.hint--success.hint--bottom-left:before,.hint--success.hint--bottom-right:before,.hint--success.hint--bottom:before{border-bottom-color:#458746}.hint--success.hint--left:before{border-left-color:#458746}.hint--success.hint--right:before{border-right-color:#458746}.hint--always:after,.hint--always:before{opacity:1;visibility:visible}.hint--always.hint--top:before{transform:translateY(-8px)}.hint--always.hint--top:after{transform:translate(-50%)translateY(-8px)}.hint--always.hint--top-left:before{transform:translateY(-8px)}.hint--always.hint--top-left:after{transform:translate(-100%)translateY(-8px)}.hint--always.hint--top-right:before,.hint--always.hint--top-right:after{transform:translateY(-8px)}.hint--always.hint--bottom:before{transform:translateY(8px)}.hint--always.hint--bottom:after{transform:translate(-50%)translateY(8px)}.hint--always.hint--bottom-left:before{transform:translateY(8px)}.hint--always.hint--bottom-left:after{transform:translate(-100%)translateY(8px)}.hint--always.hint--bottom-right:before,.hint--always.hint--bottom-right:after{transform:translateY(8px)}.hint--always.hint--left:before,.hint--always.hint--left:after{transform:translate(-8px)}.hint--always.hint--right:before,.hint--always.hint--right:after{transform:translate(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:before,.hint--no-animate:after{transition-duration:0s}.hint--bounce:before,.hint--bounce:after{-webkit-transition:opacity .3s,visibility .3s,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s,visibility .3s,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s,visibility .3s,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--no-shadow:before,.hint--no-shadow:after{text-shadow:initial;box-shadow:initial}.hint--no-arrow:before{display:none}.art-video-player.art-mobile{--art-bottom-gap:10px;--art-control-height:38px;--art-control-icon-scale:1;--art-state-size:60px;--art-settings-max-height:180px;--art-selector-max-height:180px;--art-indicator-scale:1;--art-control-opacity:1}.art-video-player.art-mobile .art-controls-left{margin-left:calc(var(--art-padding)/-1)}.art-video-player.art-mobile .art-controls-right{margin-right:calc(var(--art-padding)/-1)}'},{}],bAWi2:[function(e,t,r){var i;i=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=Object.prototype.toString,r=function(r){if(void 0===r)return"undefined";if(null===r)return"null";var n=e(r);if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return"GeneratorFunction"===i(r)?"generatorfunction":"function";if(Array.isArray?Array.isArray(r):r instanceof Array)return"array";if(r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(r))return"arguments";if(r instanceof Date||"function"==typeof r.toDateString&&"function"==typeof r.getDate&&"function"==typeof r.setDate)return"date";if(r instanceof Error||"string"==typeof r.message&&r.constructor&&"number"==typeof r.constructor.stackTraceLimit)return"error";if(r instanceof RegExp||"string"==typeof r.flags&&"boolean"==typeof r.ignoreCase&&"boolean"==typeof r.multiline&&"boolean"==typeof r.global)return"regexp";switch(i(r)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if("function"==typeof r.throw&&"function"==typeof r.return&&"function"==typeof r.next)return"generator";switch(n=t.call(r)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")};function i(e){return e.constructor?e.constructor.name:null}function n(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["option"];return a(e,t,i),o(e,t,i),function(e,t,i){var s=r(t),l=r(e);if("object"===s){if("object"!==l)throw Error("[Type Error]: '".concat(i.join("."),"' require 'object' type, but got '").concat(l,"'"));Object.keys(t).forEach((function(r){var s=e[r],l=t[r],u=i.slice();u.push(r),a(s,l,u),o(s,l,u),n(s,l,u)}))}if("array"===s){if("array"!==l)throw Error("[Type Error]: '".concat(i.join("."),"' require 'array' type, but got '").concat(l,"'"));e.forEach((function(r,s){var l=e[s],u=t[s]||t[0],c=i.slice();c.push(s),a(l,u,c),o(l,u,c),n(l,u,c)}))}}(e,t,i),e}function a(e,t,i){if("string"===r(t)){var n=r(e);if("?"===t[0]&&(t=t.slice(1)+"|undefined"),!(-1<t.indexOf("|")?t.split("|").map((function(e){return e.toLowerCase().trim()})).filter(Boolean).some((function(e){return n===e})):t.toLowerCase().trim()===n))throw Error("[Type Error]: '".concat(i.join("."),"' require '").concat(t,"' type, but got '").concat(n,"'"))}}function o(e,t,i){if("function"===r(t)){var n=t(e,r(e),i);if(!0!==n){var a=r(n);throw"string"===a?Error(n):"error"===a?n:Error("[Validator Error]: The scheme for '".concat(i.join("."),"' validator require return true, but got '").concat(n,"'"))}}}return n.kindOf=r,n},t.exports=i()},{}],"66mFZ":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=class{on(e,t,r){let i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:r}),this}once(e,t,r){let i=this;function n(...a){i.off(e,n),t.apply(r,a)}return n._=t,this.on(e,n,r)}emit(e,...t){let r=((this.e||(this.e={}))[e]||[]).slice();for(let e=0;e<r.length;e+=1)r[e].fn.apply(r[e].ctx,t);return this}off(e,t){let r=this.e||(this.e={}),i=r[e],n=[];if(i&&t)for(let e=0,r=i.length;e<r;e+=1)i[e].fn!==t&&i[e].fn._!==t&&n.push(i[e]);return n.length?r[e]=n:delete r[e],this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9pCYc":[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach((function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],"71aH7":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./dom");i.exportAll(n,r);var a=e("./error");i.exportAll(a,r);var o=e("./subtitle");i.exportAll(o,r);var s=e("./file");i.exportAll(s,r);var l=e("./property");i.exportAll(l,r);var u=e("./time");i.exportAll(u,r);var c=e("./format");i.exportAll(c,r);var d=e("./compatibility");i.exportAll(d,r)},{"./dom":"bSNiV","./error":"hwmZz","./subtitle":"inzwq","./file":"6b7Ip","./property":"5NSdr","./time":"epmNy","./format":"gapRl","./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bSNiV:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"query",(()=>a)),i.export(r,"queryAll",(()=>o)),i.export(r,"addClass",(()=>s)),i.export(r,"removeClass",(()=>l)),i.export(r,"hasClass",(()=>u)),i.export(r,"append",(()=>c)),i.export(r,"remove",(()=>d)),i.export(r,"setStyle",(()=>h)),i.export(r,"setStyles",(()=>p)),i.export(r,"getStyle",(()=>f)),i.export(r,"sublings",(()=>m)),i.export(r,"inverseClass",(()=>g)),i.export(r,"tooltip",(()=>y)),i.export(r,"isInViewport",(()=>_)),i.export(r,"includeFromEvent",(()=>v)),i.export(r,"replaceElement",(()=>b)),i.export(r,"createElement",(()=>w)),i.export(r,"getIcon",(()=>S)),i.export(r,"setStyleText",(()=>E)),i.export(r,"supportsFlex",(()=>A)),i.export(r,"getRect",(()=>x)),i.export(r,"loadImg",(()=>k));var n=e("./compatibility");function a(e,t=document){return t.querySelector(e)}function o(e,t=document){return Array.from(t.querySelectorAll(e))}function s(e,t){return e.classList.add(t)}function l(e,t){return e.classList.remove(t)}function u(e,t){return e.classList.contains(t)}function c(e,t){return t instanceof Element?e.appendChild(t):e.insertAdjacentHTML("beforeend",String(t)),e.lastElementChild||e.lastChild}function d(e){return e.parentNode.removeChild(e)}function h(e,t,r){return e.style[t]=r,e}function p(e,t){for(let r in t)h(e,r,t[r]);return e}function f(e,t,r=!0){let i=window.getComputedStyle(e,null).getPropertyValue(t);return r?parseFloat(i):i}function m(e){return Array.from(e.parentElement.children).filter((t=>t!==e))}function g(e,t){m(e).forEach((e=>l(e,t))),s(e,t)}function y(e,t,r="top"){n.isMobile||(e.setAttribute("aria-label",t),s(e,"hint--rounded"),s(e,`hint--${r}`))}function _(e,t=0){let r=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,a=r.top-t<=i&&r.top+r.height+t>=0,o=r.left-t<=n+t&&r.left+r.width+t>=0;return a&&o}function v(e,t){return e.composedPath&&e.composedPath().indexOf(t)>-1}function b(e,t){return t.parentNode.replaceChild(e,t),e}function w(e){return document.createElement(e)}function S(e="",t=""){let r=w("i");return s(r,"art-icon"),s(r,`art-icon-${e}`),c(r,t),r}function E(e,t){let r=document.getElementById(e);r||((r=document.createElement("style")).id=e,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{document.head.appendChild(r)})):(document.head||document.documentElement).appendChild(r)),r.textContent=t}function A(){let e=document.createElement("div");return e.style.display="flex","flex"===e.style.display}function x(e){return e.getBoundingClientRect()}function k(e,t){return new Promise(((r,i)=>{let n=new Image;n.onload=function(){if(t&&1!==t){let a=document.createElement("canvas"),o=a.getContext("2d");a.width=n.width*t,a.height=n.height*t,o.drawImage(n,0,0,a.width,a.height),a.toBlob((t=>{let n=URL.createObjectURL(t),a=new Image;a.onload=function(){r(a)},a.onerror=function(){URL.revokeObjectURL(n),i(Error(`Image load failed: ${e}`))},a.src=n}))}else r(n)},n.onerror=function(){i(Error(`Image load failed: ${e}`))},n.src=e}))}},{"./compatibility":"6ZTr6","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6ZTr6":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"userAgent",(()=>n)),i.export(r,"isSafari",(()=>a)),i.export(r,"isWechat",(()=>o)),i.export(r,"isIE",(()=>s)),i.export(r,"isAndroid",(()=>l)),i.export(r,"isIOS",(()=>u)),i.export(r,"isIOS13",(()=>c)),i.export(r,"isMobile",(()=>d)),i.export(r,"isBrowser",(()=>h));let n="undefined"!=typeof navigator?navigator.userAgent:"",a=/^((?!chrome|android).)*safari/i.test(n),o=/MicroMessenger/i.test(n),s=/MSIE|Trident/i.test(n),l=/android/i.test(n),u=/iPad|iPhone|iPod/i.test(n)&&!window.MSStream,c=u||n.includes("Macintosh")&&navigator.maxTouchPoints>=1,d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n)||c,h="undefined"!=typeof window},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hwmZz:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"ArtPlayerError",(()=>n)),i.export(r,"errorHandle",(()=>a));class n extends Error{constructor(e,t){super(e),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t||this.constructor),this.name="ArtPlayerError"}}function a(e,t){if(!e)throw new n(t);return e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],inzwq:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return"WEBVTT \r\n\r\n".concat(e.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,((e,t,r)=>{let i=r.slice(0,3);return 1===r.length&&(i=r+"00"),2===r.length&&(i=r+"0"),`${t},${i}`})).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat("\r\n\r\n"))}function a(e){return URL.createObjectURL(new Blob([e],{type:"text/vtt"}))}function o(e){let t=RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function r(e=""){return e.split(/[:.]/).map(((e,t,r)=>{if(t===r.length-1){if(1===e.length)return`.${e}00`;if(2===e.length)return`.${e}0`}else if(1===e.length)return(0===t?"0":":0")+e;return 0===t?e:t===r.length-1?`.${e}`:`:${e}`})).join("")}return"WEBVTT\n\n"+e.split(/\r?\n/).map((e=>{let i=e.match(t);return i?{start:r(i[1].trim()),end:r(i[2].trim()),text:i[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,"\n").trim().split(/\r?\n/).map((e=>e.trim())).join("\n")}:null})).filter((e=>e)).map(((e,t)=>e?t+1+"\n"+`${e.start} --\x3e ${e.end}\n`+`${e.text}`:"")).filter((e=>e.trim())).join("\n\n")}i.defineInteropFlag(r),i.export(r,"srtToVtt",(()=>n)),i.export(r,"vttToBlob",(()=>a)),i.export(r,"assToVtt",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6b7Ip":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e,t){let r=document.createElement("a");r.style.display="none",r.href=e,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}i.defineInteropFlag(r),i.export(r,"getExt",(()=>function e(t){return t.includes("?")?e(t.split("?")[0]):t.includes("#")?e(t.split("#")[0]):t.trim().toLowerCase().split(".").pop()})),i.export(r,"download",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5NSdr":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"def",(()=>n)),i.export(r,"has",(()=>o)),i.export(r,"get",(()=>s)),i.export(r,"mergeDeep",(()=>function e(...t){let r=e=>e&&"object"==typeof e&&!Array.isArray(e);return t.reduce(((t,i)=>(Object.keys(i).forEach((n=>{let a=t[n],o=i[n];Array.isArray(a)&&Array.isArray(o)?t[n]=a.concat(...o):r(a)&&r(o)?t[n]=e(a,o):t[n]=o})),t)),{})}));let n=Object.defineProperty,{hasOwnProperty:a}=Object.prototype;function o(e,t){return a.call(e,t)}function s(e,t){return Object.getOwnPropertyDescriptor(e,t)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],epmNy:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e=0){return new Promise((t=>setTimeout(t,e)))}function a(e,t){let r;return function(...i){clearTimeout(r),r=setTimeout((()=>(r=null,e.apply(this,i))),t)}}function o(e,t){let r=!1;return function(...i){r||(e.apply(this,i),r=!0,setTimeout((function(){r=!1}),t))}}i.defineInteropFlag(r),i.export(r,"sleep",(()=>n)),i.export(r,"debounce",(()=>a)),i.export(r,"throttle",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gapRl:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e,t,r){return Math.max(Math.min(e,Math.max(t,r)),Math.min(t,r))}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){if(!e)return"00:00";let t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*r);return(t>0?[t,r,i]:[r,i]).map((e=>e<10?`0${e}`:String(e))).join(":")}function s(e){return e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e)))}function l(e){let t={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'},r=RegExp(`(${Object.keys(t).join("|")})`,"g");return e.replace(r,(e=>t[e]||e))}i.defineInteropFlag(r),i.export(r,"clamp",(()=>n)),i.export(r,"capitalize",(()=>a)),i.export(r,"secondToTime",(()=>o)),i.export(r,"escape",(()=>s)),i.export(r,"unescape",(()=>l))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],AKEiO:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"ComponentOption",(()=>h));var n=e("../utils");let a="array",o="boolean",s="string",l="number",u="object",c="function";function d(e,t,r){return(0,n.errorHandle)(t===s||t===l||e instanceof Element,`${r.join(".")} require '${s}' or 'Element' type`)}let h={html:d,disable:`?${o}`,name:`?${s}`,index:`?${l}`,style:`?${u}`,click:`?${c}`,mounted:`?${c}`,tooltip:`?${s}|${l}`,width:`?${l}`,selector:`?${a}`,onSelect:`?${c}`,switch:`?${o}`,onSwitch:`?${c}`,range:`?${a}`,onRange:`?${c}`,onChange:`?${c}`};r.default={id:s,container:d,url:s,poster:s,type:s,theme:s,lang:s,volume:l,isLive:o,muted:o,autoplay:o,autoSize:o,autoMini:o,loop:o,flip:o,playbackRate:o,aspectRatio:o,screenshot:o,setting:o,hotkey:o,pip:o,mutex:o,backdrop:o,fullscreen:o,fullscreenWeb:o,subtitleOffset:o,miniProgressBar:o,useSSR:o,playsInline:o,lock:o,fastForward:o,autoPlayback:o,autoOrientation:o,airplay:o,proxy:`?${c}`,plugins:[c],layers:[h],contextmenu:[h],settings:[h],controls:[{...h,position:(e,t,r)=>{let i=["top","left","right"];return(0,n.errorHandle)(i.includes(e),`${r.join(".")} only accept ${i.toString()} as parameters`)}}],quality:[{default:`?${o}`,html:s,url:s}],highlight:[{time:l,text:s}],thumbnails:{url:s,number:l,column:l,width:l,height:l,scale:l},subtitle:{url:s,name:s,type:s,style:u,escape:o,encoding:s,onVttLoad:c},moreVideoAttr:u,i18n:u,icons:u,cssVar:u,customType:u}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lyjeQ:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],X13Zf:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var i=e("./utils");class n{constructor(e){this.art=e;let{option:t,constructor:r}=e;t.container instanceof Element?this.$container=t.container:(this.$container=(0,i.query)(t.container),(0,i.errorHandle)(this.$container,`No container element found by ${t.container}`)),(0,i.errorHandle)((0,i.supportsFlex)(),"The current browser does not support flex layout");let n=this.$container.tagName.toLowerCase();(0,i.errorHandle)("div"===n,`Unsupported container element type, only support 'div' but got '${n}'`),(0,i.errorHandle)(r.instances.every((e=>e.template.$container!==this.$container)),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=e.id,this.init()}static get html(){return'<div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show"><video class="art-video"><track default kind="metadata" src=""></track></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-center"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">5.2.2</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span>x<span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-contextmenus"></div></div>'}query(e){return(0,i.query)(e,this.$container)}init(){let{option:e}=this.art;if(e.useSSR||(this.$container.innerHTML=n.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$track=this.query("track"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$contextmenu=this.query(".art-contextmenus"),e.proxy){let t=e.proxy.call(this.art,this.art);(0,i.errorHandle)(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement,"Function 'option.proxy' needs to return 'HTMLVideoElement' or 'HTMLCanvasElement'"),(0,i.replaceElement)(t,this.$video),t.className="art-video",this.$video=t}e.backdrop&&(0,i.addClass)(this.$player,"art-backdrop"),i.isMobile&&(0,i.addClass)(this.$player,"art-mobile")}destroy(e){e?this.$container.innerHTML="":(0,i.addClass)(this.$player,"art-destroy")}}r.default=n},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3jKkj":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("../utils"),a=e("./zh-cn"),o=i.interopDefault(a);r.default=class{constructor(e){this.art=e,this.languages={"zh-cn":o.default},this.language={},this.update(e.option.i18n)}init(){let e=this.art.option.lang.toLowerCase();this.language=this.languages[e]||{}}get(e){return this.language[e]||e}update(e){this.languages=(0,n.mergeDeep)(this.languages,e),this.init()}}},{"../utils":"71aH7","./zh-cn":"5Y91w","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5Y91w":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);let i={"Video Info":"统计信息",Close:"关闭","Video Load Failed":"加载失败",Volume:"音量",Play:"播放",Pause:"暂停",Rate:"速度",Mute:"静音","Video Flip":"画面翻转",Horizontal:"水平",Vertical:"垂直",Reconnect:"重新连接","Show Setting":"显示设置","Hide Setting":"隐藏设置",Screenshot:"截图","Play Speed":"播放速度","Aspect Ratio":"画面比例",Default:"默认",Normal:"正常",Open:"打开","Switch Video":"切换","Switch Subtitle":"切换字幕",Fullscreen:"全屏","Exit Fullscreen":"退出全屏","Web Fullscreen":"网页全屏","Exit Web Fullscreen":"退出网页全屏","Mini Player":"迷你播放器","PIP Mode":"开启画中画","Exit PIP Mode":"退出画中画","PIP Not Supported":"不支持画中画","Fullscreen Not Supported":"不支持全屏","Subtitle Offset":"字幕偏移","Last Seen":"上次看到","Jump Play":"跳转播放",AirPlay:"隔空播放","AirPlay Not Available":"隔空播放不可用"};r.default=i,"undefined"!=typeof window&&(window["artplayer-i18n-zh-cn"]=i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],a90nx:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./urlMix"),a=i.interopDefault(n),o=e("./attrMix"),s=i.interopDefault(o),l=e("./playMix"),u=i.interopDefault(l),c=e("./pauseMix"),d=i.interopDefault(c),h=e("./toggleMix"),p=i.interopDefault(h),f=e("./seekMix"),m=i.interopDefault(f),g=e("./volumeMix"),y=i.interopDefault(g),_=e("./currentTimeMix"),v=i.interopDefault(_),b=e("./durationMix"),w=i.interopDefault(b),S=e("./switchMix"),E=i.interopDefault(S),A=e("./playbackRateMix"),x=i.interopDefault(A),k=e("./aspectRatioMix"),T=i.interopDefault(k),M=e("./screenshotMix"),L=i.interopDefault(M),R=e("./fullscreenMix"),I=i.interopDefault(R),C=e("./fullscreenWebMix"),D=i.interopDefault(C),O=e("./pipMix"),j=i.interopDefault(O),P=e("./loadedMix"),B=i.interopDefault(P),N=e("./playedMix"),U=i.interopDefault(N),F=e("./playingMix"),z=i.interopDefault(F),V=e("./autoSizeMix"),H=i.interopDefault(V),G=e("./rectMix"),q=i.interopDefault(G),W=e("./flipMix"),Y=i.interopDefault(W),$=e("./miniMix"),Z=i.interopDefault($),K=e("./posterMix"),X=i.interopDefault(K),Q=e("./autoHeightMix"),J=i.interopDefault(Q),ee=e("./cssVarMix"),te=i.interopDefault(ee),re=e("./themeMix"),ie=i.interopDefault(re),ne=e("./typeMix"),ae=i.interopDefault(ne),oe=e("./stateMix"),se=i.interopDefault(oe),le=e("./subtitleOffsetMix"),ue=i.interopDefault(le),ce=e("./airplayMix"),de=i.interopDefault(ce),he=e("./qualityMix"),pe=i.interopDefault(he),fe=e("./thumbnailsMix"),me=i.interopDefault(fe),ge=e("./optionInit"),ye=i.interopDefault(ge),_e=e("./eventInit"),ve=i.interopDefault(_e);r.default=class{constructor(e){(0,a.default)(e),(0,s.default)(e),(0,u.default)(e),(0,d.default)(e),(0,p.default)(e),(0,m.default)(e),(0,y.default)(e),(0,v.default)(e),(0,w.default)(e),(0,E.default)(e),(0,x.default)(e),(0,T.default)(e),(0,L.default)(e),(0,I.default)(e),(0,D.default)(e),(0,j.default)(e),(0,B.default)(e),(0,U.default)(e),(0,z.default)(e),(0,H.default)(e),(0,q.default)(e),(0,Y.default)(e),(0,Z.default)(e),(0,X.default)(e),(0,J.default)(e),(0,te.default)(e),(0,ie.default)(e),(0,ae.default)(e),(0,se.default)(e),(0,ue.default)(e),(0,de.default)(e),(0,pe.default)(e),(0,me.default)(e),(0,ve.default)(e),(0,ye.default)(e)}}},{"./urlMix":"kQoac","./attrMix":"deCma","./playMix":"fOJuP","./pauseMix":"fzHAy","./toggleMix":"cBHxQ","./seekMix":"koAPr","./volumeMix":"6eyuR","./currentTimeMix":"faaWv","./durationMix":"5y91K","./switchMix":"iceD8","./playbackRateMix":"keKwh","./aspectRatioMix":"jihET","./screenshotMix":"36kPY","./fullscreenMix":"2GYOJ","./fullscreenWebMix":"5aYAP","./pipMix":"7EnIB","./loadedMix":"3N9mP","./playedMix":"et96R","./playingMix":"9DzzM","./autoSizeMix":"i1LDY","./rectMix":"IqARI","./flipMix":"7E7Vs","./miniMix":"gpugx","./posterMix":"1SuFS","./autoHeightMix":"8x4te","./cssVarMix":"1CaTA","./themeMix":"2FqhO","./typeMix":"1fQQs","./stateMix":"iBOQW","./subtitleOffsetMix":"6vlBV","./airplayMix":"eftqT","./qualityMix":"5SdyX","./thumbnailsMix":"4HcqV","./optionInit":"fCWZK","./eventInit":"f8Lv3","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kQoac:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{option:t,template:{$video:r}}=e;(0,n.def)(e,"url",{get:()=>r.src,async set(i){if(i){let a=e.url,o=t.type||(0,n.getExt)(i),s=t.customType[o];o&&s?(await(0,n.sleep)(),e.loading.show=!0,s.call(e,r,i,e)):(URL.revokeObjectURL(a),r.src=i),a!==e.url&&(e.option.url=i,e.isReady&&a&&e.once("video:canplay",(()=>{e.emit("restart",i)})))}else await(0,n.sleep)(),e.loading.show=!0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],deCma:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{template:{$video:t}}=e;(0,n.def)(e,"attr",{value(e,r){if(void 0===r)return t[e];t[e]=r}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fOJuP:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{i18n:t,notice:r,option:i,constructor:{instances:a},template:{$video:o}}=e;(0,n.def)(e,"play",{value:async function(){let n=await o.play();if(r.show=t.get("Play"),e.emit("play"),i.mutex)for(let t=0;t<a.length;t++){let r=a[t];r!==e&&r.pause()}return n}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fzHAy:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{template:{$video:t},i18n:r,notice:i}=e;(0,n.def)(e,"pause",{value(){let n=t.pause();return i.show=r.get("Pause"),e.emit("pause"),n}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cBHxQ:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){(0,n.def)(e,"toggle",{value:()=>e.playing?e.pause():e.play()})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],koAPr:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{notice:t}=e;(0,n.def)(e,"seek",{set(r){e.currentTime=r,e.emit("seek",e.currentTime),e.duration&&(t.show=`${(0,n.secondToTime)(e.currentTime)} / ${(0,n.secondToTime)(e.duration)}`)}}),(0,n.def)(e,"forward",{set(t){e.seek=e.currentTime+t}}),(0,n.def)(e,"backward",{set(t){e.seek=e.currentTime-t}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6eyuR":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{template:{$video:t},i18n:r,notice:i,storage:a}=e;(0,n.def)(e,"volume",{get:()=>t.volume||0,set:e=>{t.volume=(0,n.clamp)(e,0,1),i.show=`${r.get("Volume")}: ${parseInt(100*t.volume,10)}`,0!==t.volume&&a.set("volume",t.volume)}}),(0,n.def)(e,"muted",{get:()=>t.muted,set:r=>{t.muted=r,e.emit("muted",r)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],faaWv:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{$video:t}=e.template;(0,n.def)(e,"currentTime",{get:()=>t.currentTime||0,set:r=>{Number.isNaN(r=parseFloat(r))||(t.currentTime=(0,n.clamp)(r,0,e.duration))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5y91K":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){(0,n.def)(e,"duration",{get:()=>{let{duration:t}=e.template.$video;return t===1/0?0:t||0}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iceD8:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){function t(t,r){return new Promise(((i,n)=>{if(t===e.url)return;let{playing:a,aspectRatio:o,playbackRate:s}=e;e.pause(),e.url=t,e.notice.show="",e.once("video:error",n),e.once("video:loadedmetadata",(()=>{e.currentTime=r})),e.once("video:canplay",(async()=>{e.playbackRate=s,e.aspectRatio=o,a&&await e.play(),e.notice.show="",i()}))}))}(0,n.def)(e,"switchQuality",{value:r=>t(r,e.currentTime)}),(0,n.def)(e,"switchUrl",{value:e=>t(e,0)}),(0,n.def)(e,"switch",{set:e.switchUrl})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],keKwh:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{template:{$video:t},i18n:r,notice:i}=e;(0,n.def)(e,"playbackRate",{get:()=>t.playbackRate,set(n){n?n!==t.playbackRate&&(t.playbackRate=n,i.show=`${r.get("Rate")}: ${1===n?r.get("Normal"):`${n}x`}`):e.playbackRate=1}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jihET:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{i18n:t,notice:r,template:{$video:i,$player:a}}=e;(0,n.def)(e,"aspectRatio",{get:()=>a.dataset.aspectRatio||"default",set(o){if(o||(o="default"),"default"===o)(0,n.setStyle)(i,"width",null),(0,n.setStyle)(i,"height",null),(0,n.setStyle)(i,"margin",null),delete a.dataset.aspectRatio;else{let e=o.split(":").map(Number),{clientWidth:t,clientHeight:r}=a,s=e[0]/e[1];t/r>s?((0,n.setStyle)(i,"width",s*r+"px"),(0,n.setStyle)(i,"height","100%"),(0,n.setStyle)(i,"margin","0 auto")):((0,n.setStyle)(i,"width","100%"),(0,n.setStyle)(i,"height",t/s+"px"),(0,n.setStyle)(i,"margin","auto 0")),a.dataset.aspectRatio=o}r.show=`${t.get("Aspect Ratio")}: ${"default"===o?t.get("Default"):o}`,e.emit("aspectRatio",o)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"36kPY":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{notice:t,template:{$video:r}}=e,i=(0,n.createElement)("canvas");(0,n.def)(e,"getDataURL",{value:()=>new Promise(((e,n)=>{try{i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),e(i.toDataURL("image/png"))}catch(e){t.show=e,n(e)}}))}),(0,n.def)(e,"getBlobUrl",{value:()=>new Promise(((e,n)=>{try{i.width=r.videoWidth,i.height=r.videoHeight,i.getContext("2d").drawImage(r,0,0),i.toBlob((t=>{e(URL.createObjectURL(t))}))}catch(e){t.show=e,n(e)}}))}),(0,n.def)(e,"screenshot",{value:async t=>{let i=await e.getDataURL(),a=t||`artplayer_${(0,n.secondToTime)(r.currentTime)}`;return(0,n.download)(i,`${a}.png`),e.emit("screenshot",i),i}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2GYOJ":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>s));var n=e("../libs/screenfull"),a=i.interopDefault(n),o=e("../utils");function s(e){let{i18n:t,notice:r,template:{$video:i,$player:n}}=e;e.once("video:loadedmetadata",(()=>{a.default.isEnabled?(e=>{a.default.on("change",(()=>{e.emit("fullscreen",a.default.isFullscreen),a.default.isFullscreen?(e.state="fullscreen",(0,o.addClass)(n,"art-fullscreen")):(0,o.removeClass)(n,"art-fullscreen"),e.emit("resize")})),a.default.on("error",(t=>{e.emit("fullscreenError",t)})),(0,o.def)(e,"fullscreen",{get:()=>a.default.isFullscreen,async set(e){e?await a.default.request(n):await a.default.exit()}})})(e):i.webkitSupportsFullscreen?(e=>{e.proxy(document,"webkitfullscreenchange",(()=>{e.emit("fullscreen",e.fullscreen),e.emit("resize")})),(0,o.def)(e,"fullscreen",{get:()=>document.fullscreenElement===i,set(t){t?(e.state="fullscreen",i.webkitEnterFullscreen()):i.webkitExitFullscreen()}})})(e):(0,o.def)(e,"fullscreen",{get:()=>!1,set(){r.show=t.get("Fullscreen Not Supported")}}),(0,o.def)(e,"fullscreen",(0,o.get)(e,"fullscreen"))}))}},{"../libs/screenfull":"8v40z","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8v40z":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);let i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=(()=>{if("undefined"==typeof document)return!1;let e=i[0],t={};for(let r of i)if(r[1]in document){for(let[i,n]of r.entries())t[e[i]]=n;return t}return!1})(),a={change:n.fullscreenchange,error:n.fullscreenerror},o={request:(e=document.documentElement,t)=>new Promise(((r,i)=>{let a=()=>{o.off("change",a),r()};o.on("change",a);let s=e[n.requestFullscreen](t);s instanceof Promise&&s.then(a).catch(i)})),exit:()=>new Promise(((e,t)=>{if(!o.isFullscreen)return void e();let r=()=>{o.off("change",r),e()};o.on("change",r);let i=document[n.exitFullscreen]();i instanceof Promise&&i.then(r).catch(t)})),toggle:(e,t)=>o.isFullscreen?o.exit():o.request(e,t),onchange(e){o.on("change",e)},onerror(e){o.on("error",e)},on(e,t){let r=a[e];r&&document.addEventListener(r,t,!1)},off(e,t){let r=a[e];r&&document.removeEventListener(r,t,!1)},raw:n};Object.defineProperties(o,{isFullscreen:{get:()=>!!document[n.fullscreenElement]},element:{enumerable:!0,get:()=>document[n.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>!!document[n.fullscreenEnabled]}}),n||(o={isEnabled:!1}),r.default=o},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5aYAP":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{constructor:t,template:{$container:r,$player:i}}=e,a="";(0,n.def)(e,"fullscreenWeb",{get:()=>(0,n.hasClass)(i,"art-fullscreen-web"),set(o){o?(a=i.style.cssText,t.FULLSCREEN_WEB_IN_BODY&&(0,n.append)(document.body,i),e.state="fullscreenWeb",(0,n.setStyle)(i,"width","100%"),(0,n.setStyle)(i,"height","100%"),(0,n.addClass)(i,"art-fullscreen-web"),e.emit("fullscreenWeb",!0)):(t.FULLSCREEN_WEB_IN_BODY&&(0,n.append)(r,i),a&&(i.style.cssText=a,a=""),(0,n.removeClass)(i,"art-fullscreen-web"),e.emit("fullscreenWeb",!1)),e.emit("resize")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7EnIB":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{i18n:t,notice:r,template:{$video:i}}=e;document.pictureInPictureEnabled?function(e){let{template:{$video:t},proxy:r,notice:i}=e;t.disablePictureInPicture=!1,(0,n.def)(e,"pip",{get:()=>document.pictureInPictureElement,set(r){r?(e.state="pip",t.requestPictureInPicture().catch((e=>{throw i.show=e,e}))):document.exitPictureInPicture().catch((e=>{throw i.show=e,e}))}}),r(t,"enterpictureinpicture",(()=>{e.emit("pip",!0)})),r(t,"leavepictureinpicture",(()=>{e.emit("pip",!1)}))}(e):i.webkitSupportsPresentationMode?function(e){let{$video:t}=e.template;t.webkitSetPresentationMode("inline"),(0,n.def)(e,"pip",{get:()=>"picture-in-picture"===t.webkitPresentationMode,set(r){r?(e.state="pip",t.webkitSetPresentationMode("picture-in-picture"),e.emit("pip",!0)):(t.webkitSetPresentationMode("inline"),e.emit("pip",!1))}})}(e):(0,n.def)(e,"pip",{get:()=>!1,set(){r.show=t.get("PIP Not Supported")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3N9mP":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{$video:t}=e.template;(0,n.def)(e,"loaded",{get:()=>e.loadedTime/t.duration}),(0,n.def)(e,"loadedTime",{get:()=>t.buffered.length?t.buffered.end(t.buffered.length-1):0})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],et96R:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){(0,n.def)(e,"played",{get:()=>e.currentTime/e.duration})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"9DzzM":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{$video:t}=e.template;(0,n.def)(e,"playing",{get:()=>"boolean"==typeof t.playing?t.playing:!!(t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],i1LDY:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{$container:t,$player:r,$video:i}=e.template;(0,n.def)(e,"autoSize",{value(){let{videoWidth:a,videoHeight:o}=i,{width:s,height:l}=(0,n.getRect)(t),u=a/o;s/l>u?((0,n.setStyle)(r,"width",l*u/s*100+"%"),(0,n.setStyle)(r,"height","100%")):((0,n.setStyle)(r,"width","100%"),(0,n.setStyle)(r,"height",s/u/l*100+"%")),e.emit("autoSize",{width:e.width,height:e.height})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],IqARI:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){(0,n.def)(e,"rect",{get:()=>(0,n.getRect)(e.template.$player)});let t=["bottom","height","left","right","top","width"];for(let r=0;r<t.length;r++){let i=t[r];(0,n.def)(e,i,{get:()=>e.rect[i]})}(0,n.def)(e,"x",{get:()=>e.left+window.pageXOffset}),(0,n.def)(e,"y",{get:()=>e.top+window.pageYOffset})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7E7Vs":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{template:{$player:t},i18n:r,notice:i}=e;(0,n.def)(e,"flip",{get:()=>t.dataset.flip||"normal",set(a){a||(a="normal"),"normal"===a?delete t.dataset.flip:t.dataset.flip=a,i.show=`${r.get("Video Flip")}: ${r.get((0,n.capitalize)(a))}`,e.emit("flip",a)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gpugx:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{icons:t,proxy:r,storage:i,template:{$player:a,$video:o}}=e,s=!1,l=0,u=0;function c(){let{$mini:t}=e.template;t&&((0,n.removeClass)(a,"art-mini"),(0,n.setStyle)(t,"display","none"),a.prepend(o),e.emit("mini",!1))}function d(t,r){e.playing?((0,n.setStyle)(t,"display","none"),(0,n.setStyle)(r,"display","flex")):((0,n.setStyle)(t,"display","flex"),(0,n.setStyle)(r,"display","none"))}function h(){let{$mini:t}=e.template,r=(0,n.getRect)(t),a=window.innerHeight-r.height-50,o=window.innerWidth-r.width-50;i.set("top",a),i.set("left",o),(0,n.setStyle)(t,"top",`${a}px`),(0,n.setStyle)(t,"left",`${o}px`)}(0,n.def)(e,"mini",{get:()=>(0,n.hasClass)(a,"art-mini"),set(p){if(p){e.state="mini",(0,n.addClass)(a,"art-mini");let p=function(){let{$mini:a}=e.template;if(a)return(0,n.append)(a,o),(0,n.setStyle)(a,"display","flex");{let a=(0,n.createElement)("div");(0,n.addClass)(a,"art-mini-popup"),(0,n.append)(document.body,a),e.template.$mini=a,(0,n.append)(a,o);let h=(0,n.append)(a,'<div class="art-mini-close"></div>');(0,n.append)(h,t.close),r(h,"click",c);let p=(0,n.append)(a,'<div class="art-mini-state"></div>'),f=(0,n.append)(p,t.play),m=(0,n.append)(p,t.pause);return r(f,"click",(()=>e.play())),r(m,"click",(()=>e.pause())),d(f,m),e.on("video:playing",(()=>d(f,m))),e.on("video:pause",(()=>d(f,m))),e.on("video:timeupdate",(()=>d(f,m))),r(a,"mousedown",(e=>{s=0===e.button,l=e.pageX,u=e.pageY})),e.on("document:mousemove",(e=>{if(s){(0,n.addClass)(a,"art-mini-droging");let t=e.pageX-l,r=e.pageY-u;(0,n.setStyle)(a,"transform",`translate(${t}px, ${r}px)`)}})),e.on("document:mouseup",(()=>{if(s){s=!1,(0,n.removeClass)(a,"art-mini-droging");let e=(0,n.getRect)(a);i.set("left",e.left),i.set("top",e.top),(0,n.setStyle)(a,"left",`${e.left}px`),(0,n.setStyle)(a,"top",`${e.top}px`),(0,n.setStyle)(a,"transform",null)}})),a}}(),f=i.get("top"),m=i.get("left");f&&m?((0,n.setStyle)(p,"top",`${f}px`),(0,n.setStyle)(p,"left",`${m}px`),(0,n.isInViewport)(p)||h()):h(),e.emit("mini",!0)}else c()}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1SuFS":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{template:{$poster:t}}=e;(0,n.def)(e,"poster",{get:()=>{try{return t.style.backgroundImage.match(/"(.*)"/)[1]}catch(e){return""}},set(e){(0,n.setStyle)(t,"backgroundImage",`url(${e})`)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8x4te":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{template:{$container:t,$video:r}}=e;(0,n.def)(e,"autoHeight",{value(){let{clientWidth:i}=t,{videoHeight:a,videoWidth:o}=r,s=i/o*a;(0,n.setStyle)(t,"height",s+"px"),e.emit("autoHeight",s)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1CaTA":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{$player:t}=e.template;(0,n.def)(e,"cssVar",{value:(e,r)=>r?t.style.setProperty(e,r):getComputedStyle(t).getPropertyValue(e)})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2FqhO":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){(0,n.def)(e,"theme",{get:()=>e.cssVar("--art-theme"),set(t){e.cssVar("--art-theme",t)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1fQQs":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){(0,n.def)(e,"type",{get:()=>e.option.type,set(t){e.option.type=t}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],iBOQW:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let t=["mini","pip","fullscreen","fullscreenWeb"];(0,n.def)(e,"state",{get:()=>t.find((t=>e[t]))||"standard",set(r){for(let i=0;i<t.length;i++){let n=t[i];n!==r&&e[n]&&(e[n]=!1)}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6vlBV":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{notice:t,i18n:r,template:i}=e;(0,n.def)(e,"subtitleOffset",{get:()=>i.$track?.offset||0,set(a){let{cues:o}=e.subtitle;if(!i.$track||0===o.length)return;let s=(0,n.clamp)(a,-10,10);i.$track.offset=s;for(let t=0;t<o.length;t++){let r=o[t];r.originalStartTime=r.originalStartTime??r.startTime,r.originalEndTime=r.originalEndTime??r.endTime,r.startTime=(0,n.clamp)(r.originalStartTime+s,0,e.duration),r.endTime=(0,n.clamp)(r.originalEndTime+s,0,e.duration)}e.subtitle.update(),t.show=`${r.get("Subtitle Offset")}: ${a}s`,e.emit("subtitleOffset",a)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eftqT:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{i18n:t,notice:r,proxy:i,template:{$video:a}}=e,o=!0;window.WebKitPlaybackTargetAvailabilityEvent&&a.webkitShowPlaybackTargetPicker?i(a,"webkitplaybacktargetavailabilitychanged",(e=>{switch(e.availability){case"available":o=!0;break;case"not-available":o=!1}})):o=!1,(0,n.def)(e,"airplay",{value(){o?(a.webkitShowPlaybackTargetPicker(),e.emit("airplay")):r.show=t.get("AirPlay Not Available")}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5SdyX":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){(0,n.def)(e,"quality",{set(t){let{controls:r,notice:i,i18n:n}=e,a=t.find((e=>e.default))||t[0];r.update({name:"quality",position:"right",index:10,style:{marginRight:"10px"},html:a?.html||"",selector:t,onSelect:async t=>(await e.switchQuality(t.url),i.show=`${n.get("Switch Video")}: ${t.html}`,t.html)})}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4HcqV":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{events:t,option:r,template:{$progress:i,$video:a}}=e,o=null,s=null,l=!1,u=!1,c=!1;t.hover(i,(()=>{c=!0}),(()=>{c=!1})),e.on("setBar",(async(t,d,h)=>{let p=e.controls?.thumbnails,{url:f,scale:m}=r.thumbnails;if(!p||!f)return;let g="played"===t&&h&&n.isMobile;if("hover"===t||g){if(l||(l=!0,s=await(0,n.loadImg)(f,m),u=!0),!u||!c)return;let t=i.clientWidth*d;(0,n.setStyle)(p,"display","flex"),t>0&&t<i.clientWidth?function(t){let o=e.controls?.thumbnails;if(!o)return;let{number:l,column:u,width:c,height:d,scale:h}=r.thumbnails,p=c*h||s.naturalWidth/u,f=d*h||p/(a.videoWidth/a.videoHeight),m=Math.floor(t/(i.clientWidth/l)),g=Math.ceil(m/u)-1;(0,n.setStyle)(o,"backgroundImage",`url(${s.src})`),(0,n.setStyle)(o,"height",`${f}px`),(0,n.setStyle)(o,"width",`${p}px`),(0,n.setStyle)(o,"backgroundPosition",`-${(m%u||u-1)*p}px -${g*f}px`),t<=p/2?(0,n.setStyle)(o,"left",0):t>i.clientWidth-p/2?(0,n.setStyle)(o,"left",i.clientWidth-p+"px"):(0,n.setStyle)(o,"left",t-p/2+"px")}(t):n.isMobile||(0,n.setStyle)(p,"display","none"),g&&(clearTimeout(o),o=setTimeout((()=>{(0,n.setStyle)(p,"display","none")}),500))}})),(0,n.def)(e,"thumbnails",{get:()=>e.option.thumbnails,set(t){t.url&&!e.option.isLive&&(e.option.thumbnails=t,clearTimeout(o),o=null,s=null,l=!1,u=!1)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fCWZK:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{option:t,storage:r,template:{$video:i,$poster:a}}=e;for(let r in t.moreVideoAttr)e.attr(r,t.moreVideoAttr[r]);t.muted&&(e.muted=t.muted),t.volume&&(i.volume=(0,n.clamp)(t.volume,0,1));let o=r.get("volume");for(let r in"number"==typeof o&&(i.volume=(0,n.clamp)(o,0,1)),t.poster&&(0,n.setStyle)(a,"backgroundImage",`url(${t.poster})`),t.autoplay&&(i.autoplay=t.autoplay),t.playsInline&&(i.playsInline=!0,i["webkit-playsinline"]=!0),t.theme&&(t.cssVar["--art-theme"]=t.theme),t.cssVar)e.cssVar(r,t.cssVar[r]);e.url=t.url}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],f8Lv3:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>s));var n=e("../config"),a=i.interopDefault(n),o=e("../utils");function s(e){let{i18n:t,notice:r,option:i,constructor:n,proxy:s,template:{$player:l,$video:u,$poster:c}}=e,d=0;for(let t=0;t<a.default.events.length;t++)s(u,a.default.events[t],(t=>{e.emit(`video:${t.type}`,t)}));e.on("video:canplay",(()=>{d=0,e.loading.show=!1})),e.once("video:canplay",(()=>{e.loading.show=!1,e.controls.show=!0,e.mask.show=!0,e.isReady=!0,e.emit("ready")})),e.on("video:ended",(()=>{i.loop?(e.seek=0,e.play(),e.controls.show=!1,e.mask.show=!1):(e.controls.show=!0,e.mask.show=!0)})),e.on("video:error",(async a=>{d<n.RECONNECT_TIME_MAX?(await(0,o.sleep)(n.RECONNECT_SLEEP_TIME),d+=1,e.url=i.url,r.show=`${t.get("Reconnect")}: ${d}`,e.emit("error",a,d)):(e.mask.show=!0,e.loading.show=!1,e.controls.show=!0,(0,o.addClass)(l,"art-error"),await(0,o.sleep)(n.RECONNECT_SLEEP_TIME),r.show=t.get("Video Load Failed"))})),e.on("video:loadedmetadata",(()=>{e.emit("resize"),o.isMobile&&(e.loading.show=!1,e.controls.show=!0,e.mask.show=!0)})),e.on("video:loadstart",(()=>{e.loading.show=!0,e.mask.show=!1,e.controls.show=!0})),e.on("video:pause",(()=>{e.controls.show=!0,e.mask.show=!0})),e.on("video:play",(()=>{e.mask.show=!1,(0,o.setStyle)(c,"display","none")})),e.on("video:playing",(()=>{e.mask.show=!1})),e.on("video:progress",(()=>{e.playing&&(e.loading.show=!1)})),e.on("video:seeked",(()=>{e.loading.show=!1,e.mask.show=!0})),e.on("video:seeking",(()=>{e.loading.show=!0,e.mask.show=!1})),e.on("video:timeupdate",(()=>{e.mask.show=!1})),e.on("video:waiting",(()=>{e.loading.show=!0,e.mask.show=!1}))}},{"../config":"lyjeQ","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8Z0Uf":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("../utils/component"),a=i.interopDefault(n),o=e("./fullscreen"),s=i.interopDefault(o),l=e("./fullscreenWeb"),u=i.interopDefault(l),c=e("./pip"),d=i.interopDefault(c),h=e("./playAndPause"),p=i.interopDefault(h),f=e("./progress"),m=i.interopDefault(f),g=e("./time"),y=i.interopDefault(g),_=e("./volume"),v=i.interopDefault(_),b=e("./setting"),w=i.interopDefault(b),S=e("./screenshot"),E=i.interopDefault(S),A=e("./airplay"),x=i.interopDefault(A),k=e("../utils");class T extends a.default{constructor(e){super(e),this.isHover=!1,this.name="control",this.timer=Date.now();let{constructor:t}=e,{$player:r,$bottom:i}=this.art.template;e.on("mousemove",(()=>{k.isMobile||(this.show=!0)})),e.on("click",(()=>{k.isMobile?this.toggle():this.show=!0})),e.on("document:mousemove",(e=>{this.isHover=(0,k.includeFromEvent)(e,i)})),e.on("video:timeupdate",(()=>{!e.setting.show&&!this.isHover&&!e.isInput&&e.playing&&this.show&&Date.now()-this.timer>=t.CONTROL_HIDE_TIME&&(this.show=!1)})),e.on("control",(e=>{e?((0,k.removeClass)(r,"art-hide-cursor"),(0,k.addClass)(r,"art-hover"),this.timer=Date.now()):((0,k.addClass)(r,"art-hide-cursor"),(0,k.removeClass)(r,"art-hover"))})),this.init()}init(){let{option:e}=this.art;e.isLive||this.add((0,m.default)({name:"progress",position:"top",index:10})),this.add({name:"thumbnails",position:"top",index:20}),this.add((0,p.default)({name:"playAndPause",position:"left",index:10})),this.add((0,v.default)({name:"volume",position:"left",index:20})),e.isLive||this.add((0,y.default)({name:"time",position:"left",index:30})),e.quality.length&&(0,k.sleep)().then((()=>{this.art.quality=e.quality})),e.screenshot&&!k.isMobile&&this.add((0,E.default)({name:"screenshot",position:"right",index:20})),e.setting&&this.add((0,w.default)({name:"setting",position:"right",index:30})),e.pip&&this.add((0,d.default)({name:"pip",position:"right",index:40})),e.airplay&&window.WebKitPlaybackTargetAvailabilityEvent&&this.add((0,x.default)({name:"airplay",position:"right",index:50})),e.fullscreenWeb&&this.add((0,u.default)({name:"fullscreenWeb",position:"right",index:60})),e.fullscreen&&this.add((0,s.default)({name:"fullscreen",position:"right",index:70}));for(let t=0;t<e.controls.length;t++)this.add(e.controls[t])}add(e){let t="function"==typeof e?e(this.art):e,{$progress:r,$controlsLeft:i,$controlsRight:n}=this.art.template;switch(t.position){case"top":this.$parent=r;break;case"left":this.$parent=i;break;case"right":this.$parent=n;break;default:(0,k.errorHandle)(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add(t)}check(e){e.$control_value.innerHTML=e.html;for(let t=0;t<e.$control_option.length;t++){let r=e.$control_option[t];r.default=r===e,r.default&&(0,k.inverseClass)(r.$control_item,"art-current")}}selector(e,t,r){let{proxy:i}=this.art.events;(0,k.addClass)(t,"art-control-selector");let n=(0,k.createElement)("div");(0,k.addClass)(n,"art-selector-value"),(0,k.append)(n,e.html),t.innerText="",(0,k.append)(t,n);let a=(0,k.createElement)("div");(0,k.addClass)(a,"art-selector-list"),(0,k.append)(t,a);for(let t=0;t<e.selector.length;t++){let r=e.selector[t],i=(0,k.createElement)("div");(0,k.addClass)(i,"art-selector-item"),r.default&&(0,k.addClass)(i,"art-current"),i.dataset.index=t,i.dataset.value=r.value,i.innerHTML=r.html,(0,k.append)(a,i),(0,k.def)(r,"$control_option",{get:()=>e.selector}),(0,k.def)(r,"$control_item",{get:()=>i}),(0,k.def)(r,"$control_value",{get:()=>n})}let o=i(a,"click",(async t=>{let r=t.composedPath()||[],i=e.selector.find((e=>e.$control_item===r.find((t=>e.$control_item===t))));this.check(i),e.onSelect&&(n.innerHTML=await e.onSelect.call(this.art,i,i.$control_item,t))}));r.push(o)}}r.default=T},{"../utils/component":"18nVI","./fullscreen":"c61Lj","./fullscreenWeb":"03jeB","./pip":"u8l8e","./playAndPause":"ebXtb","./progress":"bgoVP","./time":"ikc2j","./volume":"b8NFx","./setting":"03o9l","./screenshot":"4KCF5","./airplay":"4IS2d","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"18nVI":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./dom"),a=e("./error"),o=e("option-validator"),s=i.interopDefault(o),l=e("../scheme");r.default=class{constructor(e){this.id=0,this.art=e,this.cache=new Map,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.update=this.update.bind(this)}get show(){return(0,n.hasClass)(this.art.template.$player,`art-${this.name}-show`)}set show(e){let{$player:t}=this.art.template,r=`art-${this.name}-show`;e?(0,n.addClass)(t,r):(0,n.removeClass)(t,r),this.art.emit(this.name,e)}toggle(){this.show=!this.show}add(e){let t="function"==typeof e?e(this.art):e;if(t.html=t.html||"",(0,s.default)(t,l.ComponentOption),!this.$parent||!this.name||t.disable)return;let r=t.name||`${this.name}${this.id}`,i=this.cache.get(r);(0,a.errorHandle)(!i,`Can't add an existing [${r}] to the [${this.name}]`),this.id+=1;let o=(0,n.createElement)("div");(0,n.addClass)(o,`art-${this.name}`),(0,n.addClass)(o,`art-${this.name}-${r}`);let u=Array.from(this.$parent.children);o.dataset.index=t.index||this.id;let c=u.find((e=>Number(e.dataset.index)>=Number(o.dataset.index)));c?c.insertAdjacentElement("beforebegin",o):(0,n.append)(this.$parent,o),t.html&&(0,n.append)(o,t.html),t.style&&(0,n.setStyles)(o,t.style),t.tooltip&&(0,n.tooltip)(o,t.tooltip);let d=[];if(t.click){let e=this.art.events.proxy(o,"click",(e=>{e.preventDefault(),t.click.call(this.art,this,e)}));d.push(e)}return t.selector&&["left","right"].includes(t.position)&&this.selector(t,o,d),this[r]=o,this.cache.set(r,{$ref:o,events:d,option:t}),t.mounted&&t.mounted.call(this.art,o),o}remove(e){let t=this.cache.get(e);(0,a.errorHandle)(t,`Can't find [${e}] from the [${this.name}]`),t.option.beforeUnmount&&t.option.beforeUnmount.call(this.art,t.$ref);for(let e=0;e<t.events.length;e++)this.art.events.remove(t.events[e]);this.cache.delete(e),delete this[e],(0,n.remove)(t.$ref)}update(e){let t=this.cache.get(e.name);return t&&(e=Object.assign(t.option,e),this.remove(e.name)),this.add(e)}}},{"./dom":"bSNiV","./error":"hwmZz","option-validator":"bAWi2","../scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],c61Lj:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,tooltip:t.i18n.get("Fullscreen"),mounted:e=>{let{proxy:r,icons:i,i18n:a}=t,o=(0,n.append)(e,i.fullscreenOn),s=(0,n.append)(e,i.fullscreenOff);(0,n.setStyle)(s,"display","none"),r(e,"click",(()=>{t.fullscreen=!t.fullscreen})),t.on("fullscreen",(t=>{t?((0,n.tooltip)(e,a.get("Exit Fullscreen")),(0,n.setStyle)(o,"display","none"),(0,n.setStyle)(s,"display","inline-flex")):((0,n.tooltip)(e,a.get("Fullscreen")),(0,n.setStyle)(o,"display","inline-flex"),(0,n.setStyle)(s,"display","none"))}))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03jeB":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,tooltip:t.i18n.get("Web Fullscreen"),mounted:e=>{let{proxy:r,icons:i,i18n:a}=t,o=(0,n.append)(e,i.fullscreenWebOn),s=(0,n.append)(e,i.fullscreenWebOff);(0,n.setStyle)(s,"display","none"),r(e,"click",(()=>{t.fullscreenWeb=!t.fullscreenWeb})),t.on("fullscreenWeb",(t=>{t?((0,n.tooltip)(e,a.get("Exit Web Fullscreen")),(0,n.setStyle)(o,"display","none"),(0,n.setStyle)(s,"display","inline-flex")):((0,n.tooltip)(e,a.get("Web Fullscreen")),(0,n.setStyle)(o,"display","inline-flex"),(0,n.setStyle)(s,"display","none"))}))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],u8l8e:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,tooltip:t.i18n.get("PIP Mode"),mounted:e=>{let{proxy:r,icons:i,i18n:a}=t;(0,n.append)(e,i.pip),r(e,"click",(()=>{t.pip=!t.pip})),t.on("pip",(t=>{(0,n.tooltip)(e,a.get(t?"Exit PIP Mode":"PIP Mode"))}))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ebXtb:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,mounted:e=>{let{proxy:r,icons:i,i18n:a}=t,o=(0,n.append)(e,i.play),s=(0,n.append)(e,i.pause);function l(){(0,n.setStyle)(o,"display","flex"),(0,n.setStyle)(s,"display","none")}function u(){(0,n.setStyle)(o,"display","none"),(0,n.setStyle)(s,"display","flex")}(0,n.tooltip)(o,a.get("Play")),(0,n.tooltip)(s,a.get("Pause")),r(o,"click",(()=>{t.play()})),r(s,"click",(()=>{t.pause()})),t.playing?u():l(),t.on("video:playing",(()=>{u()})),t.on("video:pause",(()=>{l()}))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bgoVP:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"getPosFromEvent",(()=>a)),i.export(r,"setCurrentTime",(()=>o)),i.export(r,"default",(()=>s));var n=e("../utils");function a(e,t){let{$progress:r}=e.template,{left:i}=(0,n.getRect)(r),a=n.isMobile?t.touches[0].clientX:t.clientX,o=(0,n.clamp)(a-i,0,r.clientWidth),s=o/r.clientWidth*e.duration;return{second:s,time:(0,n.secondToTime)(s),width:o,percentage:(0,n.clamp)(o/r.clientWidth,0,1)}}function o(e,t){if(e.isRotate){let r=t.touches[0].clientY/e.height,i=r*e.duration;e.emit("setBar","played",r,t),e.seek=i}else{let{second:r,percentage:i}=a(e,t);e.emit("setBar","played",i,t),e.seek=r}}function s(e){return t=>{let{icons:r,option:i,proxy:s}=t;return{...e,html:'<div class="art-control-progress-inner"><div class="art-progress-hover"></div><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:e=>{let l=null,u=!1,c=(0,n.query)(".art-progress-hover",e),d=(0,n.query)(".art-progress-loaded",e),h=(0,n.query)(".art-progress-played",e),p=(0,n.query)(".art-progress-highlight",e),f=(0,n.query)(".art-progress-indicator",e),m=(0,n.query)(".art-progress-tip",e);function g(r,i){let{width:o,time:s}=i||a(t,r);m.innerText=s;let l=m.clientWidth;o<=l/2?(0,n.setStyle)(m,"left",0):o>e.clientWidth-l/2?(0,n.setStyle)(m,"left",e.clientWidth-l+"px"):(0,n.setStyle)(m,"left",o-l/2+"px")}r.indicator?(0,n.append)(f,r.indicator):(0,n.setStyle)(f,"backgroundColor","var(--art-theme)"),t.on("setBar",(function(r,i,a){let o="played"===r&&a&&n.isMobile;"loaded"===r&&(0,n.setStyle)(d,"width",100*i+"%"),"hover"===r&&(0,n.setStyle)(c,"width",100*i+"%"),"played"===r&&((0,n.setStyle)(h,"width",100*i+"%"),(0,n.setStyle)(f,"left",100*i+"%")),o&&((0,n.setStyle)(m,"display","flex"),g(a,{width:e.clientWidth*i,time:(0,n.secondToTime)(i*t.duration)}),clearTimeout(l),l=setTimeout((()=>{(0,n.setStyle)(m,"display","none")}),500))})),t.on("video:loadedmetadata",(function(){p.innerText="";for(let e=0;e<i.highlight.length;e++){let r=i.highlight[e],a=(0,n.clamp)(r.time,0,t.duration)/t.duration*100,o=`<span data-text="${r.text}" data-time="${r.time}" style="left: ${a}%"></span>`;(0,n.append)(p,o)}})),t.on("video:progress",(()=>{t.emit("setBar","loaded",t.loaded)})),t.constructor.USE_RAF?t.on("raf",(()=>{t.emit("setBar","played",t.played)})):t.on("video:timeupdate",(()=>{t.emit("setBar","played",t.played)})),t.on("video:ended",(()=>{t.emit("setBar","played",1)})),t.emit("setBar","loaded",t.loaded||0),n.isMobile||(s(e,"click",(e=>{e.target!==f&&o(t,e)})),s(e,"mousemove",(r=>{let{percentage:i}=a(t,r);t.emit("setBar","hover",i,r),(0,n.setStyle)(m,"display","flex"),(0,n.includeFromEvent)(r,p)?function(r){let{width:i}=a(t,r),{text:o}=r.target.dataset;m.innerText=o;let s=m.clientWidth;i<=s/2?(0,n.setStyle)(m,"left",0):i>e.clientWidth-s/2?(0,n.setStyle)(m,"left",e.clientWidth-s+"px"):(0,n.setStyle)(m,"left",i-s/2+"px")}(r):g(r)})),s(e,"mouseleave",(e=>{(0,n.setStyle)(m,"display","none"),t.emit("setBar","hover",0,e)})),s(e,"mousedown",(e=>{u=0===e.button})),t.on("document:mousemove",(e=>{if(u){let{second:r,percentage:i}=a(t,e);t.emit("setBar","played",i,e),t.seek=r}})),t.on("document:mouseup",(()=>{u&&(u=!1)})))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ikc2j:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,style:n.isMobile?{fontSize:"12px",padding:"0 5px"}:{cursor:"auto",padding:"0 10px"},mounted:e=>{function r(){let r=`${(0,n.secondToTime)(t.currentTime)} / ${(0,n.secondToTime)(t.duration)}`;r!==e.innerText&&(e.innerText=r)}r();let i=["video:loadedmetadata","video:timeupdate","video:progress"];for(let e=0;e<i.length;e++)t.on(i[e],r)}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],b8NFx:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,mounted:e=>{let{proxy:r,icons:i}=t,a=(0,n.append)(e,i.volume),o=(0,n.append)(e,i.volumeClose),s=(0,n.append)(e,'<div class="art-volume-panel"></div>'),l=(0,n.append)(s,'<div class="art-volume-inner"></div>'),u=(0,n.append)(l,'<div class="art-volume-val"></div>'),c=(0,n.append)(l,'<div class="art-volume-slider"></div>'),d=(0,n.append)(c,'<div class="art-volume-handle"></div>'),h=(0,n.append)(d,'<div class="art-volume-loaded"></div>'),p=(0,n.append)(c,'<div class="art-volume-indicator"></div>');function f(e){let{top:t,height:r}=(0,n.getRect)(c);return 1-(e.clientY-t)/r}function m(){if(t.muted||0===t.volume)(0,n.setStyle)(a,"display","none"),(0,n.setStyle)(o,"display","flex"),(0,n.setStyle)(p,"top","100%"),(0,n.setStyle)(h,"top","100%"),u.innerText=0;else{let e=100*t.volume;(0,n.setStyle)(a,"display","flex"),(0,n.setStyle)(o,"display","none"),(0,n.setStyle)(p,"top",100-e+"%"),(0,n.setStyle)(h,"top",100-e+"%"),u.innerText=Math.floor(e)}}if(m(),t.on("video:volumechange",m),r(a,"click",(()=>{t.muted=!0})),r(o,"click",(()=>{t.muted=!1})),n.isMobile)(0,n.setStyle)(s,"display","none");else{let e=!1;r(c,"mousedown",(r=>{e=0===r.button,t.volume=f(r)})),t.on("document:mousemove",(r=>{e&&(t.muted=!1,t.volume=f(r))})),t.on("document:mouseup",(()=>{e&&(e=!1)}))}}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"03o9l":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,tooltip:t.i18n.get("Show Setting"),mounted:e=>{let{proxy:r,icons:i,i18n:a}=t;(0,n.append)(e,i.setting),r(e,"click",(()=>{t.setting.toggle(),t.setting.resize()})),t.on("setting",(t=>{(0,n.tooltip)(e,a.get(t?"Hide Setting":"Show Setting"))}))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4KCF5":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,tooltip:t.i18n.get("Screenshot"),mounted:e=>{let{proxy:r,icons:i}=t;(0,n.append)(e,i.screenshot),r(e,"click",(()=>{t.screenshot()}))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4IS2d":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>({...e,tooltip:t.i18n.get("AirPlay"),mounted:e=>{let{proxy:r,icons:i}=t;(0,n.append)(e,i.airplay),r(e,"click",(()=>t.airplay()))}})}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2KYsr":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("../utils"),a=e("../utils/component"),o=i.interopDefault(a),s=e("./playbackRate"),l=i.interopDefault(s),u=e("./aspectRatio"),c=i.interopDefault(u),d=e("./flip"),h=i.interopDefault(d),p=e("./info"),f=i.interopDefault(p),m=e("./version"),g=i.interopDefault(m),y=e("./close"),_=i.interopDefault(y);class v extends o.default{constructor(e){super(e),this.name="contextmenu",this.$parent=e.template.$contextmenu,n.isMobile||this.init()}init(){let{option:e,proxy:t,template:{$player:r,$contextmenu:i}}=this.art;e.playbackRate&&this.add((0,l.default)({name:"playbackRate",index:10})),e.aspectRatio&&this.add((0,c.default)({name:"aspectRatio",index:20})),e.flip&&this.add((0,h.default)({name:"flip",index:30})),this.add((0,f.default)({name:"info",index:40})),this.add((0,g.default)({name:"version",index:50})),this.add((0,_.default)({name:"close",index:60}));for(let t=0;t<e.contextmenu.length;t++)this.add(e.contextmenu[t]);t(r,"contextmenu",(e=>{if(!this.art.constructor.CONTEXTMENU)return;e.preventDefault(),this.show=!0;let t=e.clientX,a=e.clientY,{height:o,width:s,left:l,top:u}=(0,n.getRect)(r),{height:c,width:d}=(0,n.getRect)(i),h=t-l,p=a-u;t+d>l+s&&(h=s-d),a+c>u+o&&(p=o-c),(0,n.setStyles)(i,{top:`${p}px`,left:`${h}px`})})),t(r,"click",(e=>{(0,n.includeFromEvent)(e,i)||(this.show=!1)})),this.art.on("blur",(()=>{this.show=!1}))}}r.default=v},{"../utils":"71aH7","../utils/component":"18nVI","./playbackRate":"69eLi","./aspectRatio":"lUefg","./flip":"kysiM","./info":"gqIgJ","./version":"kRU7C","./close":"jQ8Pm","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"69eLi":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>{let{i18n:r,constructor:{PLAYBACK_RATE:i}}=t,a=i.map((e=>`<span data-value="${e}">${1===e?r.get("Normal"):e.toFixed(1)}</span>`)).join("");return{...e,html:`${r.get("Play Speed")}: ${a}`,click:(e,r)=>{let{value:i}=r.target.dataset;i&&(t.playbackRate=Number(i),e.show=!1)},mounted:e=>{let r=(0,n.query)('[data-value="1"]',e);r&&(0,n.inverseClass)(r,"art-current"),t.on("video:ratechange",(()=>{let r=(0,n.queryAll)("span",e).find((e=>Number(e.dataset.value)===t.playbackRate));r&&(0,n.inverseClass)(r,"art-current")}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],lUefg:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>{let{i18n:r,constructor:{ASPECT_RATIO:i}}=t,a=i.map((e=>`<span data-value="${e}">${"default"===e?r.get("Default"):e}</span>`)).join("");return{...e,html:`${r.get("Aspect Ratio")}: ${a}`,click:(e,r)=>{let{value:i}=r.target.dataset;i&&(t.aspectRatio=i,e.show=!1)},mounted:e=>{let r=(0,n.query)('[data-value="default"]',e);r&&(0,n.inverseClass)(r,"art-current"),t.on("aspectRatio",(t=>{let r=(0,n.queryAll)("span",e).find((e=>e.dataset.value===t));r&&(0,n.inverseClass)(r,"art-current")}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kysiM:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return t=>{let{i18n:r,constructor:{FLIP:i}}=t,a=i.map((e=>`<span data-value="${e}">${r.get((0,n.capitalize)(e))}</span>`)).join("");return{...e,html:`${r.get("Video Flip")}: ${a}`,click:(e,r)=>{let{value:i}=r.target.dataset;i&&(t.flip=i.toLowerCase(),e.show=!1)},mounted:e=>{let r=(0,n.query)('[data-value="normal"]',e);r&&(0,n.inverseClass)(r,"art-current"),t.on("flip",(t=>{let r=(0,n.queryAll)("span",e).find((e=>e.dataset.value===t));r&&(0,n.inverseClass)(r,"art-current")}))}}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],gqIgJ:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return t=>({...e,html:t.i18n.get("Video Info"),click:e=>{t.info.show=!0,e.show=!1}})}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kRU7C:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return{...e,html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 5.2.2</a>'}}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jQ8Pm:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){return t=>({...e,html:t.i18n.get("Close"),click:e=>{e.show=!1}})}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"02ajl":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./utils"),a=e("./utils/component"),o=i.interopDefault(a);class s extends o.default{constructor(e){super(e),this.name="info",n.isMobile||this.init()}init(){let{proxy:e,constructor:t,template:{$infoPanel:r,$infoClose:i,$video:a}}=this.art;e(i,"click",(()=>{this.show=!1}));let o=null,s=(0,n.queryAll)("[data-video]",r)||[];this.art.on("destroy",(()=>clearTimeout(o))),function e(){for(let e=0;e<s.length;e++){let t=s[e],r=a[t.dataset.video],i="number"==typeof r?r.toFixed(2):r;t.innerText!==i&&(t.innerText=i)}o=setTimeout(e,t.INFO_LOOP_TIME)}()}}r.default=s},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eSWto:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./utils"),a=e("./utils/component"),o=i.interopDefault(a),s=e("option-validator"),l=i.interopDefault(s),u=e("./scheme"),c=i.interopDefault(u);class d extends o.default{constructor(e){super(e),this.name="subtitle",this.option=null,this.destroyEvent=()=>null,this.init(e.option.subtitle);let t=!1;e.on("video:timeupdate",(()=>{if(!this.url)return;let e=this.art.template.$video.webkitDisplayingFullscreen;"boolean"==typeof e&&e!==t&&(t=e,this.createTrack(e?"subtitles":"metadata",this.url))}))}get url(){return this.art.template.$track.src}set url(e){this.switch(e)}get textTrack(){return this.art.template.$video?.textTracks?.[0]}get activeCues(){return this.textTrack?Array.from(this.textTrack.activeCues):[]}get cues(){return this.textTrack?Array.from(this.textTrack.cues):[]}style(e,t){let{$subtitle:r}=this.art.template;return"object"==typeof e?(0,n.setStyles)(r,e):(0,n.setStyle)(r,e,t)}update(){let{option:{subtitle:e},template:{$subtitle:t}}=this.art;t.innerHTML="",this.activeCues.length&&(this.art.emit("subtitleBeforeUpdate",this.activeCues),t.innerHTML=this.activeCues.map(((t,r)=>t.text.split(/\r?\n/).filter((e=>e.trim())).map((t=>`<div class="art-subtitle-line" data-group="${r}">${e.escape?(0,n.escape)(t):t}</div>`)).join(""))).join(""),this.art.emit("subtitleAfterUpdate",this.activeCues))}async switch(e,t={}){let{i18n:r,notice:i,option:n}=this.art,a={...n.subtitle,...t,url:e},o=await this.init(a);return t.name&&(i.show=`${r.get("Switch Subtitle")}: ${t.name}`),o}createTrack(e,t){let{template:r,proxy:i,option:a}=this.art,{$video:o,$track:s}=r,l=(0,n.createElement)("track");l.default=!0,l.kind=e,l.src=t,l.label=a.subtitle.name||"Artplayer",l.track.mode="hidden",l.onload=()=>{this.art.emit("subtitleLoad",this.cues,this.option)},this.art.events.remove(this.destroyEvent),s.onload=null,(0,n.remove)(s),(0,n.append)(o,l),r.$track=l,this.destroyEvent=i(this.textTrack,"cuechange",(()=>this.update()))}async init(e){let{notice:t,template:{$subtitle:r}}=this.art;return this.textTrack?((0,l.default)(e,c.default.subtitle),e.url?(this.option=e,this.style(e.style),fetch(e.url).then((e=>e.arrayBuffer())).then((t=>{let r=new TextDecoder(e.encoding).decode(t);switch(e.type||(0,n.getExt)(e.url)){case"srt":{let t=(0,n.srtToVtt)(r),i=e.onVttLoad(t);return(0,n.vttToBlob)(i)}case"ass":{let t=(0,n.assToVtt)(r),i=e.onVttLoad(t);return(0,n.vttToBlob)(i)}case"vtt":{let t=e.onVttLoad(r);return(0,n.vttToBlob)(t)}default:return e.url}})).then((e=>(r.innerHTML="",this.url===e||(URL.revokeObjectURL(this.url),this.createTrack("metadata",e)),e))).catch((e=>{throw r.innerHTML="",t.show=e,e}))):void 0):null}}r.default=d},{"./utils":"71aH7","./utils/component":"18nVI","option-validator":"bAWi2","./scheme":"AKEiO","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],jo4S1:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./clickInit"),a=i.interopDefault(n),o=e("./hoverInit"),s=i.interopDefault(o),l=e("./moveInit"),u=i.interopDefault(l),c=e("./resizeInit"),d=i.interopDefault(c),h=e("./gestureInit"),p=i.interopDefault(h),f=e("./viewInit"),m=i.interopDefault(f),g=e("./documentInit"),y=i.interopDefault(g),_=e("./updateInit"),v=i.interopDefault(_),b=e("./restoreInit"),w=i.interopDefault(b);r.default=class{constructor(e){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),(0,a.default)(e,this),(0,s.default)(e,this),(0,u.default)(e,this),(0,d.default)(e,this),(0,p.default)(e,this),(0,m.default)(e,this),(0,y.default)(e,this),(0,v.default)(e,this),(0,w.default)(e,this)}proxy(e,t,r,i={}){if(Array.isArray(t))return t.map((t=>this.proxy(e,t,r,i)));e.addEventListener(t,r,i);let n=()=>e.removeEventListener(t,r,i);return this.destroyEvents.push(n),n}hover(e,t,r){t&&this.proxy(e,"mouseenter",t),r&&this.proxy(e,"mouseleave",r)}remove(e){let t=this.destroyEvents.indexOf(e);t>-1&&(e(),this.destroyEvents.splice(t,1))}destroy(){for(let e=0;e<this.destroyEvents.length;e++)this.destroyEvents[e]()}}},{"./clickInit":"6UrCm","./hoverInit":"4jWHi","./moveInit":"eqaUm","./resizeInit":"eDXPO","./gestureInit":"95GtS","./viewInit":"InUBx","./documentInit":"hoLfM","./updateInit":"cl8m3","./restoreInit":"bK8As","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6UrCm":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e,t){let{constructor:r,template:{$player:i,$video:a}}=e;t.proxy(document,["click","contextmenu"],(t=>{(0,n.includeFromEvent)(t,i)?(e.isInput="INPUT"===t.target.tagName,e.isFocus=!0,e.emit("focus",t)):(e.isInput=!1,e.isFocus=!1,e.emit("blur",t))}));let o=[];t.proxy(a,"click",(t=>{let i=Date.now();o.push(i);let{MOBILE_CLICK_PLAY:a,DBCLICK_TIME:s,MOBILE_DBCLICK_PLAY:l,DBCLICK_FULLSCREEN:u}=r,c=o.filter((e=>i-e<=s));switch(c.length){case 1:e.emit("click",t),n.isMobile?!e.isLock&&a&&e.toggle():e.toggle(),o=c;break;case 2:e.emit("dblclick",t),n.isMobile?!e.isLock&&l&&e.toggle():u&&(e.fullscreen=!e.fullscreen),o=[];break;default:o=[]}}))}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"4jWHi":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e,t){let{$player:r}=e.template;t.hover(r,(t=>{(0,n.addClass)(r,"art-hover"),e.emit("hover",!0,t)}),(t=>{(0,n.removeClass)(r,"art-hover"),e.emit("hover",!1,t)}))}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eqaUm:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e,t){let{$player:r}=e.template;t.proxy(r,"mousemove",(t=>{e.emit("mousemove",t)}))}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],eDXPO:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e,t){let{option:r,constructor:i}=e;e.on("resize",(()=>{let{aspectRatio:t,notice:i}=e;"standard"===e.state&&r.autoSize&&e.autoSize(),e.aspectRatio=t,i.show=""}));let a=(0,n.debounce)((()=>e.emit("resize")),i.RESIZE_TIME);t.proxy(window,["orientationchange","resize"],(()=>a())),screen&&screen.orientation&&screen.orientation.onchange&&t.proxy(screen.orientation,"change",(()=>a()))}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"95GtS":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>o));var n=e("../utils"),a=e("../control/progress");function o(e,t){if(n.isMobile&&!e.option.isLive){let{$video:r,$progress:i}=e.template,o=null,s=!1,l=0,u=0,c=0,d=t=>{if(1===t.touches.length&&!e.isLock){o===i&&(0,a.setCurrentTime)(e,t),s=!0;let{pageX:r,pageY:n}=t.touches[0];l=r,u=n,c=e.currentTime}},h=t=>{if(1===t.touches.length&&s&&e.duration){let{pageX:i,pageY:a}=t.touches[0],s=function(e,t,r,i){var n=t-i,a=r-e,o=0;if(2>Math.abs(a)&&2>Math.abs(n))return o;var s=180*Math.atan2(n,a)/Math.PI;return s>=-45&&s<45?o=4:s>=45&&s<135?o=1:s>=-135&&s<-45?o=2:(s>=135&&s<=180||s>=-180&&s<-135)&&(o=3),o}(l,u,i,a),d=[3,4].includes(s),h=[1,2].includes(s);if(d&&!e.isRotate||h&&e.isRotate){let s=(0,n.clamp)((i-l)/e.width,-1,1),d=(0,n.clamp)((a-u)/e.height,-1,1),h=e.isRotate?d:s,p=o===r?e.constructor.TOUCH_MOVE_RATIO:1,f=(0,n.clamp)(c+e.duration*h*p,0,e.duration);e.seek=f,e.emit("setBar","played",(0,n.clamp)(f/e.duration,0,1),t),e.notice.show=`${(0,n.secondToTime)(f)} / ${(0,n.secondToTime)(e.duration)}`}}};t.proxy(i,"touchstart",(e=>{o=i,d(e)})),t.proxy(r,"touchstart",(e=>{o=r,d(e)})),t.proxy(r,"touchmove",h),t.proxy(i,"touchmove",h),t.proxy(document,"touchend",(()=>{s&&(l=0,u=0,c=0,s=!1,o=null)}))}}},{"../utils":"71aH7","../control/progress":"bgoVP","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],InUBx:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e,t){let{option:r,constructor:i,template:{$container:a}}=e,o=(0,n.throttle)((()=>{e.emit("view",(0,n.isInViewport)(a,i.SCROLL_GAP))}),i.SCROLL_TIME);t.proxy(window,"scroll",(()=>o())),e.on("view",(t=>{r.autoMini&&(e.mini=!t)}))}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hoLfM:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e,t){t.proxy(document,"mousemove",(t=>{e.emit("document:mousemove",t)})),t.proxy(document,"mouseup",(t=>{e.emit("document:mouseup",t)}))}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cl8m3:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){if(e.constructor.USE_RAF){let t=null;!function r(){e.playing&&e.emit("raf"),e.isDestroy||(t=requestAnimationFrame(r))}(),e.on("destroy",(()=>{cancelAnimationFrame(t)}))}}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],bK8As:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e,t){}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6NoFy":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var i=e("./utils");r.default=class{constructor(e){this.art=e,this.keys={},e.option.hotkey&&!i.isMobile&&this.init()}init(){let{proxy:e,constructor:t}=this.art;this.add("Escape",(()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)})),this.add("Space",(()=>{this.art.toggle()})),this.add("ArrowLeft",(()=>{this.art.backward=t.SEEK_STEP})),this.add("ArrowUp",(()=>{this.art.volume+=t.VOLUME_STEP})),this.add("ArrowRight",(()=>{this.art.forward=t.SEEK_STEP})),this.add("ArrowDown",(()=>{this.art.volume-=t.VOLUME_STEP})),e(document,"keydown",(e=>{if(this.art.isFocus){let t=document.activeElement.tagName.toUpperCase(),r=document.activeElement.getAttribute("contenteditable");if(!("INPUT"===t||"TEXTAREA"===t||""===r||"true"===r||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){let t=this.keys[e.code];if(t){e.preventDefault();for(let r=0;r<t.length;r++)t[r].call(this.art,e);this.art.emit("hotkey",e)}}}this.art.emit("keydown",e)}))}add(e,t){return this.keys[e]?this.keys[e].push(t):this.keys[e]=[t],this}remove(e,t){if(this.keys[e]){let r=this.keys[e].indexOf(t);-1!==r&&this.keys[e].splice(r,1)}return this}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6G6hZ":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./utils/component"),a=i.interopDefault(n);class o extends a.default{constructor(e){super(e);let{option:t,template:{$layer:r}}=e;this.name="layer",this.$parent=r;for(let e=0;e<t.layers.length;e++)this.add(t.layers[e])}}r.default=o},{"./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"3dsEe":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./utils"),a=e("./utils/component"),o=i.interopDefault(a);class s extends o.default{constructor(e){super(e),this.name="loading",(0,n.append)(e.template.$loading,e.icons.loading)}}r.default=s},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],dWGTw:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var i=e("./utils");r.default=class{constructor(e){this.art=e,this.timer=null}set show(e){let{constructor:t,template:{$player:r,$noticeInner:n}}=this.art;e?(n.innerText=e instanceof Error?e.message.trim():e,(0,i.addClass)(r,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout((()=>{n.innerText="",(0,i.removeClass)(r,"art-notice-show")}),t.NOTICE_TIME)):(0,i.removeClass)(r,"art-notice-show")}}},{"./utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"5POkG":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./utils"),a=e("./utils/component"),o=i.interopDefault(a);class s extends o.default{constructor(e){super(e),this.name="mask";let{template:t,icons:r,events:i}=e,a=(0,n.append)(t.$state,r.state),o=(0,n.append)(t.$state,r.error);(0,n.setStyle)(o,"display","none"),e.on("destroy",(()=>{(0,n.setStyle)(a,"display","none"),(0,n.setStyle)(o,"display",null)})),i.proxy(t.$state,"click",(()=>e.play()))}}r.default=s},{"./utils":"71aH7","./utils/component":"18nVI","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"6OeNg":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("../utils"),a=e("bundle-text:./loading.svg"),o=i.interopDefault(a),s=e("bundle-text:./state.svg"),l=i.interopDefault(s),u=e("bundle-text:./check.svg"),c=i.interopDefault(u),d=e("bundle-text:./play.svg"),h=i.interopDefault(d),p=e("bundle-text:./pause.svg"),f=i.interopDefault(p),m=e("bundle-text:./volume.svg"),g=i.interopDefault(m),y=e("bundle-text:./volume-close.svg"),_=i.interopDefault(y),v=e("bundle-text:./screenshot.svg"),b=i.interopDefault(v),w=e("bundle-text:./setting.svg"),S=i.interopDefault(w),E=e("bundle-text:./arrow-left.svg"),A=i.interopDefault(E),x=e("bundle-text:./arrow-right.svg"),k=i.interopDefault(x),T=e("bundle-text:./playback-rate.svg"),M=i.interopDefault(T),L=e("bundle-text:./aspect-ratio.svg"),R=i.interopDefault(L),I=e("bundle-text:./config.svg"),C=i.interopDefault(I),D=e("bundle-text:./pip.svg"),O=i.interopDefault(D),j=e("bundle-text:./lock.svg"),P=i.interopDefault(j),B=e("bundle-text:./unlock.svg"),N=i.interopDefault(B),U=e("bundle-text:./fullscreen-off.svg"),F=i.interopDefault(U),z=e("bundle-text:./fullscreen-on.svg"),V=i.interopDefault(z),H=e("bundle-text:./fullscreen-web-off.svg"),G=i.interopDefault(H),q=e("bundle-text:./fullscreen-web-on.svg"),W=i.interopDefault(q),Y=e("bundle-text:./switch-on.svg"),$=i.interopDefault(Y),Z=e("bundle-text:./switch-off.svg"),K=i.interopDefault(Z),X=e("bundle-text:./flip.svg"),Q=i.interopDefault(X),J=e("bundle-text:./error.svg"),ee=i.interopDefault(J),te=e("bundle-text:./close.svg"),re=i.interopDefault(te),ie=e("bundle-text:./airplay.svg"),ne=i.interopDefault(ie);r.default=class{constructor(e){let t={loading:o.default,state:l.default,play:h.default,pause:f.default,check:c.default,volume:g.default,volumeClose:_.default,screenshot:b.default,setting:S.default,pip:O.default,arrowLeft:A.default,arrowRight:k.default,playbackRate:M.default,aspectRatio:R.default,config:C.default,lock:P.default,flip:Q.default,unlock:N.default,fullscreenOff:F.default,fullscreenOn:V.default,fullscreenWebOff:G.default,fullscreenWebOn:W.default,switchOn:$.default,switchOff:K.default,error:ee.default,close:re.default,airplay:ne.default,...e.option.icons};for(let e in t)(0,n.def)(this,e,{get:()=>(0,n.getIcon)(e,t[e])})}}},{"../utils":"71aH7","bundle-text:./loading.svg":"7tDub","bundle-text:./state.svg":"1ElZc","bundle-text:./check.svg":"lmgoP","bundle-text:./play.svg":"lVWoQ","bundle-text:./pause.svg":"5Mnax","bundle-text:./volume.svg":"w3eIa","bundle-text:./volume-close.svg":"rHjo1","bundle-text:./screenshot.svg":"2KcqM","bundle-text:./setting.svg":"8rQMV","bundle-text:./arrow-left.svg":"kqGBE","bundle-text:./arrow-right.svg":"aFjpC","bundle-text:./playback-rate.svg":"lx7ZM","bundle-text:./aspect-ratio.svg":"2sEjf","bundle-text:./config.svg":"fQTgE","bundle-text:./pip.svg":"2CaxO","bundle-text:./lock.svg":"aCGnW","bundle-text:./unlock.svg":"bTrAV","bundle-text:./fullscreen-off.svg":"bA3p0","bundle-text:./fullscreen-on.svg":"fTuY8","bundle-text:./fullscreen-web-off.svg":"tvKf4","bundle-text:./fullscreen-web-on.svg":"1F1oB","bundle-text:./switch-on.svg":"7qNHs","bundle-text:./switch-off.svg":"28aV8","bundle-text:./flip.svg":"1uXI6","bundle-text:./error.svg":"9f4dh","bundle-text:./close.svg":"4nTtS","bundle-text:./airplay.svg":"cDPXC","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"7tDub":[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default"><path fill="none" class="bk" d="M0 0h100v100H0z"/><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(30 105.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(60 75.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(90 65 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(120 58.66 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(150 54.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(180 50 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-150 45.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-120 41.34 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-90 35 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-60 24.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-30 -5.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect></svg>'},{}],"1ElZc":[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24"><path fill="#fff" d="M9.5 9.325v5.35q0 .575.525.875t1.025-.05l4.15-2.65q.475-.3.475-.85t-.475-.85L11.05 8.5q-.5-.35-1.025-.05t-.525.875ZM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Z"/></svg>'},{}],lmgoP:[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"/></svg>'},{}],lVWoQ:[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M17.982 9.275 8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"/></svg>'},{}],"5Mnax":[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zm8 0a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"/></svg>'},{}],w3eIa:[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M10.188 4.65 6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zm4.258-.872a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"/><path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"/></svg>'},{}],rHjo1:[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"/><path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zm5.195 13.195-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"/></svg>'},{}],"2KcqM":[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 50 50"><path d="M19.402 6a5 5 0 0 0-4.902 4.012L14.098 12H9a5 5 0 0 0-5 5v21a5 5 0 0 0 5 5h32a5 5 0 0 0 5-5V17a5 5 0 0 0-5-5h-5.098l-.402-1.988A5 5 0 0 0 30.598 6ZM25 17c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10Zm0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8Z"/></svg>'},{}],"8rQMV":[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 22 22"><circle cx="11" cy="11" r="2"/><path d="M19.164 8.861 17.6 8.6a6.978 6.978 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1.001 1.001 0 0 0-1.272.23l-1.008 1.225a7.04 7.04 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A6.997 6.997 0 0 0 4.4 8.6l-1.564.261A.999.999 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.089 7.089 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a.999.999 0 0 0 .835-.986V9.847a.999.999 0 0 0-.836-.986zM11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>'},{}],kqGBE:[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m19.41 20.09-4.58-4.59 4.58-4.59L18 9.5l-6 6 6 6z" fill="#fff"/></svg>'},{}],aFjpC:[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="32" width="32" viewBox="0 0 32 32"><path d="m12.59 20.34 4.58-4.59-4.58-4.59L14 9.75l6 6-6 6z" fill="#fff"/></svg>'},{}],lx7ZM:[function(e,t,r){t.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M10 8v8l6-4-6-4zM6.3 5l-.6-.8C7.2 3 9 2.2 11 2l.1 1c-1.8.2-3.4.9-4.8 2zM5 6.3l-.8-.6C3 7.2 2.2 9 2 11l1 .1c.2-1.8.9-3.4 2-4.8zm0 11.4c-1.1-1.4-1.8-3.1-2-4.8L2 13c.2 2 1 3.8 2.2 5.4l.8-.7zm6.1 3.3c-1.8-.2-3.4-.9-4.8-2l-.6.8C7.2 21 9 21.8 11 22l.1-1zM22 12c0-5.2-3.9-9.4-9-10l-.1 1c4.6.5 8.1 4.3 8.1 9s-3.5 8.5-8.1 9l.1 1c5.2-.5 9-4.8 9-10z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2sEjf":[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 88 88" style="width:100%;height:100%;transform:translate(0,0)"><defs><clipPath id="a"><path d="M0 0h88v88H0z"/></clipPath></defs><g style="display:block" clip-path="url(\'#a\')"><path fill="#FFF" d="m12.438-12.702-2.82 2.82c-.79.79-.79 2.05 0 2.83l7.07 7.07-7.07 7.07c-.79.79-.79 2.05 0 2.83l2.82 2.83c.79.78 2.05.78 2.83 0l11.32-11.31c.78-.78.78-2.05 0-2.83l-11.32-11.31c-.78-.79-2.04-.79-2.83 0zm-24.88 0c-.74-.74-1.92-.78-2.7-.12l-.13.12-11.31 11.31a2 2 0 0 0-.12 2.7l.12.13 11.31 11.31a2 2 0 0 0 2.7.12l.13-.12 2.83-2.83c.74-.74.78-1.91.11-2.7l-.11-.13-7.07-7.07 7.07-7.07c.74-.74.78-1.91.11-2.7l-.11-.13-2.83-2.82zM28-28c4.42 0 8 3.58 8 8v40c0 4.42-3.58 8-8 8h-56c-4.42 0-8-3.58-8-8v-40c0-4.42 3.58-8 8-8h56z" style="--darkreader-inline-fill:#a8a6a4" transform="translate(44 44)"/></g></svg>'},{}],fQTgE:[function(e,t,r){t.exports='<svg height="24" viewBox="0 0 24 24" width="24"><path d="M15 17h6v1h-6v-1zm-4 0H3v1h8v2h1v-5h-1v2zm3-9h1V3h-1v2H3v1h11v2zm4-3v1h3V5h-3zM6 14h1V9H6v2H3v1h3v2zm4-2h11v-1H10v1z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"2CaxO":[function(e,t,r){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="32" width="32"><path d="M25 17h-8v6h8v-6Zm4 8V10.98C29 9.88 28.1 9 27 9H9c-1.1 0-2 .88-2 1.98V25c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2Zm-2 .02H9V10.97h18v14.05Z"/></svg>'},{}],aCGnW:[function(e,t,r){t.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M298.667 426.667v-85.334a213.333 213.333 0 1 1 426.666 0v85.334H768A85.333 85.333 0 0 1 853.333 512v256A85.333 85.333 0 0 1 768 853.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667zM512 213.333a128 128 0 0 0-128 128v85.334h256v-85.334a128 128 0 0 0-128-128z" fill="#fff"/></svg>'},{}],bTrAV:[function(e,t,r){t.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="m666.752 194.517-49.365 74.112A128 128 0 0 0 384 341.333l.043 85.334h384A85.333 85.333 0 0 1 853.376 512v256a85.333 85.333 0 0 1-85.333 85.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667v-85.334a213.333 213.333 0 0 1 368.085-146.816z" fill="#fff"/></svg>'},{}],bA3p0:[function(e,t,r){t.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M768 298.667h170.667V384h-256V128H768v170.667zM341.333 384h-256v-85.333H256V128h85.333v256zM768 725.333V896h-85.333V640h256v85.333H768zM341.333 640v256H256V725.333H85.333V640h256z"/></svg>'},{}],fTuY8:[function(e,t,r){t.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M625.778 256H768v142.222h113.778v-256h-256V256zM256 398.222V256h142.222V142.222h-256v256H256zm512 227.556V768H625.778v113.778h256v-256H768zM398.222 768H256V625.778H142.222v256h256V768z"/></svg>'},{}],tvKf4:[function(e,t,r){t.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zM896 512a64 64 0 0 1 7.488 127.552L896 640H768v128a64 64 0 0 1-56.512 63.552L704 832a64 64 0 0 1-63.552-56.512L640 768V582.592c0-34.496 25.024-66.112 61.632-70.208l8-.384H896zm-640 0a64 64 0 0 1-7.488-127.552L256 384h128V256a64 64 0 0 1 56.512-63.552L448 192a64 64 0 0 1 63.552 56.512L512 256v185.408c0 34.432-25.024 66.112-61.632 70.144l-8 .448H256z"/></svg>'},{}],"1F1oB":[function(e,t,r){t.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zm-576 64a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144l8-.448H448zm256 640a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 .384H704z"/></svg>'},{}],"7qNHs":[function(e,t,r){t.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1664 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#648FFC" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024zm0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z"/></svg>'},{}],"28aV8":[function(e,t,r){t.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1740 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M511.898 1024h670.515c282.419-.41 511.18-229.478 511.18-511.898 0-282.419-228.761-511.488-511.18-511.897H511.898C229.478.615.717 229.683.717 512.102c0 282.42 228.761 511.488 511.18 511.898zm-.564-975.36A464.589 464.589 0 1 1 48.026 513.024 463.872 463.872 0 0 1 511.334 48.435v.205z"/></svg>'},{}],"1uXI6":[function(e,t,r){t.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M554.667 810.667V896h-85.334v-85.333h85.334zm-384-632.662a42.667 42.667 0 0 1 34.986 18.219l203.904 291.328a42.667 42.667 0 0 1 0 48.896L205.611 827.776A42.667 42.667 0 0 1 128 803.328V220.672a42.667 42.667 0 0 1 42.667-42.667zm682.666 0a42.667 42.667 0 0 1 42.368 37.718l.299 4.949v582.656a42.667 42.667 0 0 1-74.24 28.63l-3.413-4.182-203.904-291.328a42.667 42.667 0 0 1-3.03-43.861l3.03-5.035 203.946-291.328a42.667 42.667 0 0 1 34.944-18.219zM554.667 640v85.333h-85.334V640h85.334zm-358.4-320.896V716.8L335.957 512 196.31 319.104zm358.4 150.23v85.333h-85.334v-85.334h85.334zm0-170.667V384h-85.334v-85.333h85.334zm0-170.667v85.333h-85.334V128h85.334z" fill="#fff"/></svg>'},{}],"9f4dh":[function(e,t,r){t.exports='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="50" height="50"><path d="M593.818 168.55 949.82 763.76c26.153 43.746 10.732 99.738-34.447 125.052-14.397 8.069-30.72 12.308-47.37 12.308H155.976c-52.224 0-94.536-40.96-94.536-91.505 0-16.097 4.383-31.928 12.718-45.875l356.004-595.19c26.173-43.724 84.009-58.654 129.208-33.341a93.082 93.082 0 0 1 34.448 33.341zM512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88zm0-512a72.315 72.315 0 0 0-71.762 81.306l25.723 205.721a46.408 46.408 0 0 0 92.078 0l25.723-205.742A72.315 72.315 0 0 0 512 307.2z"/></svg>'},{}],"4nTtS":[function(e,t,r){t.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="m571.733 512 268.8-268.8c17.067-17.067 17.067-42.667 0-59.733-17.066-17.067-42.666-17.067-59.733 0L512 452.267l-268.8-268.8c-17.067-17.067-42.667-17.067-59.733 0-17.067 17.066-17.067 42.666 0 59.733l268.8 268.8-268.8 268.8c-17.067 17.067-17.067 42.667 0 59.733 8.533 8.534 19.2 12.8 29.866 12.8s21.334-4.266 29.867-12.8l268.8-268.8 268.8 268.8c8.533 8.534 19.2 12.8 29.867 12.8s21.333-4.266 29.866-12.8c17.067-17.066 17.067-42.666 0-59.733L571.733 512z"/></svg>'},{}],cDPXC:[function(e,t,r){t.exports='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="M16 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h3v-2H3V3h12v8h-2v2h3a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1Z"/><path d="M4 17h10l-5-6z"/></g></svg>'},{}],"3eYNH":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("./flip"),a=i.interopDefault(n),o=e("./aspectRatio"),s=i.interopDefault(o),l=e("./playbackRate"),u=i.interopDefault(l),c=e("./subtitleOffset"),d=i.interopDefault(c),h=e("../utils/component"),p=i.interopDefault(h),f=e("../utils");class m extends p.default{constructor(e){super(e);let{option:t,controls:r,template:{$setting:i}}=e;this.name="setting",this.$parent=i,this.id=0,this.active=null,this.cache=new Map,this.option=[...this.builtin,...t.settings],t.setting&&(this.format(),this.render(),e.on("blur",(()=>{this.show&&(this.show=!1,this.render())})),e.on("focus",(e=>{let t=(0,f.includeFromEvent)(e,r.setting),i=(0,f.includeFromEvent)(e,this.$parent);!this.show||t||i||(this.show=!1,this.render())})),e.on("resize",(()=>this.resize())))}get builtin(){let e=[],{option:t}=this.art;return t.playbackRate&&e.push((0,u.default)(this.art)),t.aspectRatio&&e.push((0,s.default)(this.art)),t.flip&&e.push((0,a.default)(this.art)),t.subtitleOffset&&e.push((0,d.default)(this.art)),e}traverse(e,t=this.option){for(let r=0;r<t.length;r++){let i=t[r];e(i),i.selector?.length&&this.traverse.call(this,e,i.selector)}}check(e){e.$parent.tooltip=e.html,this.traverse((t=>{t.default=t===e,t.default&&t.$item&&(0,f.inverseClass)(t.$item,"art-current")}),e.$option),this.render(e.$parents)}format(e=this.option,t,r,i=[]){for(let n=0;n<e.length;n++){let a=e[n];if(a?.name?((0,f.errorHandle)(!i.includes(a.name),`The [${a.name}] is already exist in [setting]`),i.push(a.name)):a.name="setting-"+this.id++,!a.$formatted){(0,f.def)(a,"$parent",{get:()=>t}),(0,f.def)(a,"$parents",{get:()=>r}),(0,f.def)(a,"$option",{get:()=>e});let i=[];(0,f.def)(a,"$events",{get:()=>i}),(0,f.def)(a,"$formatted",{get:()=>!0})}this.format(a.selector||[],a,e,i)}this.option=e}find(e=""){let t=null;return this.traverse((r=>{r.name===e&&(t=r)})),t}resize(){let{controls:e,constructor:{SETTING_WIDTH:t,SETTING_ITEM_HEIGHT:r},template:{$player:i,$setting:n}}=this.art;if(e.setting&&this.show){let a=this.active[0]?.$parent?.width||t,{left:o,width:s}=(0,f.getRect)(e.setting),{left:l,width:u}=(0,f.getRect)(i),c=o-l+s/2-a/2,d=this.active===this.option?this.active.length*r:(this.active.length+1)*r;if((0,f.setStyle)(n,"height",`${d}px`),(0,f.setStyle)(n,"width",`${a}px`),this.art.isRotate||f.isMobile)return;c+a>u?((0,f.setStyle)(n,"left",null),(0,f.setStyle)(n,"right",null)):((0,f.setStyle)(n,"left",`${c}px`),(0,f.setStyle)(n,"right","auto"))}}inactivate(e){for(let t=0;t<e.$events.length;t++)this.art.events.remove(e.$events[t]);e.$events.length=0}remove(e){let t=this.find(e);(0,f.errorHandle)(t,`Can't find [${e}] in the [setting]`);let r=t.$option.indexOf(t);t.$option.splice(r,1),this.inactivate(t),t.$item&&(0,f.remove)(t.$item),this.render()}update(e){let t=this.find(e.name);return t?(this.inactivate(t),Object.assign(t,e),this.format(),this.creatItem(t,!0),this.render(),t):this.add(e)}add(e,t=this.option){return t.push(e),this.format(),this.creatItem(e),this.render(),e}creatHeader(e){if(!this.cache.has(e.$option))return;let t=this.cache.get(e.$option),{proxy:r,icons:{arrowLeft:i},constructor:{SETTING_ITEM_HEIGHT:n}}=this.art,a=(0,f.createElement)("div");(0,f.setStyle)(a,"height",`${n}px`),(0,f.addClass)(a,"art-setting-item"),(0,f.addClass)(a,"art-setting-item-back");let o=(0,f.append)(a,'<div class="art-setting-item-left"></div>'),s=(0,f.createElement)("div");(0,f.addClass)(s,"art-setting-item-left-icon"),(0,f.append)(s,i),(0,f.append)(o,s),(0,f.append)(o,e.$parent.html);let l=r(a,"click",(()=>this.render(e.$parents)));e.$parent.$events.push(l),(0,f.append)(t,a)}creatItem(e,t=!1){if(!this.cache.has(e.$option))return;let r=this.cache.get(e.$option),i=e.$item,n="selector";(0,f.has)(e,"switch")&&(n="switch"),(0,f.has)(e,"range")&&(n="range");let{icons:a,proxy:o,constructor:s}=this.art,l=(0,f.createElement)("div");(0,f.addClass)(l,"art-setting-item"),(0,f.setStyle)(l,"height",`${s.SETTING_ITEM_HEIGHT}px`),l.dataset.name=e.name||"",l.dataset.value=e.value||"";let u=(0,f.append)(l,'<div class="art-setting-item-left"></div>'),c=(0,f.append)(l,'<div class="art-setting-item-right"></div>'),d=(0,f.createElement)("div");switch((0,f.addClass)(d,"art-setting-item-left-icon"),n){case"switch":case"range":(0,f.append)(d,e.icon||a.config);break;case"selector":e.selector?.length?(0,f.append)(d,e.icon||a.config):(0,f.append)(d,a.check)}(0,f.append)(u,d),(0,f.def)(e,"$icon",{configurable:!0,get:()=>d}),(0,f.def)(e,"icon",{configurable:!0,get:()=>d.innerHTML,set(e){d.innerHTML="",(0,f.append)(d,e)}});let h=(0,f.createElement)("div");(0,f.addClass)(h,"art-setting-item-left-text"),(0,f.append)(h,e.html||""),(0,f.append)(u,h),(0,f.def)(e,"$html",{configurable:!0,get:()=>h}),(0,f.def)(e,"html",{configurable:!0,get:()=>h.innerHTML,set(e){h.innerHTML="",(0,f.append)(h,e)}});let p=(0,f.createElement)("div");switch((0,f.addClass)(p,"art-setting-item-right-tooltip"),(0,f.append)(p,e.tooltip||""),(0,f.append)(c,p),(0,f.def)(e,"$tooltip",{configurable:!0,get:()=>p}),(0,f.def)(e,"tooltip",{configurable:!0,get:()=>p.innerHTML,set(e){p.innerHTML="",(0,f.append)(p,e)}}),n){case"switch":{let t=(0,f.createElement)("div");(0,f.addClass)(t,"art-setting-item-right-icon");let r=(0,f.append)(t,a.switchOn),i=(0,f.append)(t,a.switchOff);(0,f.setStyle)(e.switch?i:r,"display","none"),(0,f.append)(c,t),(0,f.def)(e,"$switch",{configurable:!0,get:()=>t});let n=e.switch;(0,f.def)(e,"switch",{configurable:!0,get:()=>n,set(e){n=e,e?((0,f.setStyle)(i,"display","none"),(0,f.setStyle)(r,"display",null)):((0,f.setStyle)(i,"display",null),(0,f.setStyle)(r,"display","none"))}});break}case"range":{let t=(0,f.createElement)("div");(0,f.addClass)(t,"art-setting-item-right-icon");let r=(0,f.append)(t,'<input type="range">');r.value=e.range[0],r.min=e.range[1],r.max=e.range[2],r.step=e.range[3],(0,f.addClass)(r,"art-setting-range"),(0,f.append)(c,t),(0,f.def)(e,"$range",{configurable:!0,get:()=>r});let i=[...e.range];(0,f.def)(e,"range",{configurable:!0,get:()=>i,set(e){i=[...e],r.value=e[0],r.min=e[1],r.max=e[2],r.step=e[3]}})}break;case"selector":if(e.selector?.length){let e=(0,f.createElement)("div");(0,f.addClass)(e,"art-setting-item-right-icon"),(0,f.append)(e,a.arrowRight),(0,f.append)(c,e)}}switch(n){case"switch":if(e.onSwitch){let t=o(l,"click",(async t=>{e.switch=await e.onSwitch.call(this.art,e,l,t)}));e.$events.push(t)}break;case"range":if(e.$range){if(e.onRange){let t=o(e.$range,"change",(async t=>{e.range[0]=e.$range.valueAsNumber,e.tooltip=await e.onRange.call(this.art,e,l,t)}));e.$events.push(t)}if(e.onChange){let t=o(e.$range,"input",(async t=>{e.range[0]=e.$range.valueAsNumber,e.tooltip=await e.onChange.call(this.art,e,l,t)}));e.$events.push(t)}}break;case"selector":{let t=o(l,"click",(async t=>{e.selector?.length?this.render(e.selector):(this.check(e),e.$parent.onSelect&&(e.$parent.tooltip=await e.$parent.onSelect.call(this.art,e,l,t)))}));e.$events.push(t),e.default&&(0,f.addClass)(l,"art-current")}}(0,f.def)(e,"$item",{configurable:!0,get:()=>l}),t?(0,f.replaceElement)(l,i):(0,f.append)(r,l),e.mounted&&setTimeout((()=>e.mounted.call(this.art,e.$item,e)),0)}render(e=this.option){if(this.active=e,this.cache.has(e)){let t=this.cache.get(e);(0,f.inverseClass)(t,"art-current")}else{let t=(0,f.createElement)("div");this.cache.set(e,t),(0,f.addClass)(t,"art-setting-panel"),(0,f.append)(this.$parent,t),(0,f.inverseClass)(t,"art-current"),e[0]?.$parent&&this.creatHeader(e[0]);for(let t=0;t<e.length;t++)this.creatItem(e[t])}this.resize()}}r.default=m},{"./flip":"kONUB","./aspectRatio":"84NBV","./playbackRate":"aetWt","./subtitleOffset":"fIBkO","../utils/component":"18nVI","../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],kONUB:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{i18n:t,icons:r,constructor:{SETTING_ITEM_WIDTH:i,FLIP:a}}=e;function o(e){return t.get((0,n.capitalize)(e))}function s(){let t=e.setting.find(`flip-${e.flip}`);e.setting.check(t)}return{width:i,name:"flip",html:t.get("Video Flip"),tooltip:o(e.flip),icon:r.flip,selector:a.map((t=>({value:t,name:`flip-${t}`,default:t===e.flip,html:o(t)}))),onSelect:t=>(e.flip=t.value,t.html),mounted:()=>{s(),e.on("flip",(()=>s()))}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"84NBV":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){let{i18n:t,icons:r,constructor:{SETTING_ITEM_WIDTH:i,ASPECT_RATIO:n}}=e;function a(e){return"default"===e?t.get("Default"):e}function o(){let t=e.setting.find(`aspect-ratio-${e.aspectRatio}`);e.setting.check(t)}return{width:i,name:"aspect-ratio",html:t.get("Aspect Ratio"),icon:r.aspectRatio,tooltip:a(e.aspectRatio),selector:n.map((t=>({value:t,name:`aspect-ratio-${t}`,default:t===e.aspectRatio,html:a(t)}))),onSelect:t=>(e.aspectRatio=t.value,t.html),mounted:()=>{o(),e.on("aspectRatio",(()=>o()))}}}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],aetWt:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){let{i18n:t,icons:r,constructor:{SETTING_ITEM_WIDTH:i,PLAYBACK_RATE:n}}=e;function a(e){return 1===e?t.get("Normal"):e.toFixed(1)}function o(){let t=e.setting.find(`playback-rate-${e.playbackRate}`);e.setting.check(t)}return{width:i,name:"playback-rate",html:t.get("Play Speed"),tooltip:a(e.playbackRate),icon:r.playbackRate,selector:n.map((t=>({value:t,name:`playback-rate-${t}`,default:t===e.playbackRate,html:a(t)}))),onSelect:t=>(e.playbackRate=t.value,t.html),mounted:()=>{o(),e.on("video:ratechange",(()=>o()))}}}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],fIBkO:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(e){let{i18n:t,icons:r,constructor:i}=e;return{width:i.SETTING_ITEM_WIDTH,name:"subtitle-offset",html:t.get("Subtitle Offset"),icon:r.subtitle,tooltip:"0s",range:[0,-10,10,.1],onChange:t=>(e.subtitleOffset=t.range[0],t.range[0]+"s"),mounted:(t,r)=>{e.on("subtitleOffset",(e=>{r.$range.value=e,r.tooltip=e+"s"}))}}}i.defineInteropFlag(r),i.export(r,"default",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"2aaJe":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r),r.default=class{constructor(){this.name="artplayer_settings",this.settings={}}get(e){try{let t=JSON.parse(window.localStorage.getItem(this.name))||{};return e?t[e]:t}catch(t){return e?this.settings[e]:this.settings}}set(e,t){try{let r=Object.assign({},this.get(),{[e]:t});window.localStorage.setItem(this.name,JSON.stringify(r))}catch(r){this.settings[e]=t}}del(e){try{let t=this.get();delete t[e],window.localStorage.setItem(this.name,JSON.stringify(t))}catch(t){delete this.settings[e]}}clear(){try{window.localStorage.removeItem(this.name)}catch(e){this.settings={}}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"8MTUM":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r);var n=e("../utils"),a=e("./miniProgressBar"),o=i.interopDefault(a),s=e("./autoOrientation"),l=i.interopDefault(s),u=e("./autoPlayback"),c=i.interopDefault(u),d=e("./fastForward"),h=i.interopDefault(d),p=e("./lock"),f=i.interopDefault(p);r.default=class{constructor(e){this.art=e,this.id=0;let{option:t}=e;t.miniProgressBar&&!t.isLive&&this.add(o.default),t.lock&&n.isMobile&&this.add(f.default),t.autoPlayback&&!t.isLive&&this.add(c.default),t.autoOrientation&&n.isMobile&&this.add(l.default),t.fastForward&&n.isMobile&&!t.isLive&&this.add(h.default);for(let e=0;e<t.plugins.length;e++)this.add(t.plugins[e])}add(e){this.id+=1;let t=e.call(this.art,this.art);return t instanceof Promise?t.then((t=>this.next(e,t))):this.next(e,t)}next(e,t){let r=t&&t.name||e.name||`plugin${this.id}`;return(0,n.errorHandle)(!(0,n.has)(this,r),`Cannot add a plugin that already has the same name: ${r}`),(0,n.def)(this,r,{value:t}),this}}},{"../utils":"71aH7","./miniProgressBar":"87pSL","./autoOrientation":"ePEg5","./autoPlayback":"cVO99","./fastForward":"hFDwt","./lock":"1hsTH","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"87pSL":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){return e.on("control",(t=>{t?(0,n.removeClass)(e.template.$player,"art-mini-progress-bar"):(0,n.addClass)(e.template.$player,"art-mini-progress-bar")})),{name:"mini-progress-bar"}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],ePEg5:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{constructor:t,template:{$player:r,$video:i}}=e;return e.on("fullscreenWeb",(a=>{if(a){let{videoWidth:a,videoHeight:o}=i,{clientWidth:s,clientHeight:l}=document.documentElement;(a>o&&s<l||a<o&&s>l)&&setTimeout((()=>{(0,n.setStyle)(r,"width",`${l}px`),(0,n.setStyle)(r,"height",`${s}px`),(0,n.setStyle)(r,"transform-origin","0 0"),(0,n.setStyle)(r,"transform",`rotate(90deg) translate(0, -${s}px)`),(0,n.addClass)(r,"art-auto-orientation"),e.isRotate=!0,e.emit("resize")}),t.AUTO_ORIENTATION_TIME)}else(0,n.hasClass)(r,"art-auto-orientation")&&((0,n.removeClass)(r,"art-auto-orientation"),e.isRotate=!1,e.emit("resize"))})),e.on("fullscreen",(async e=>{if(!screen?.orientation?.lock)return;let t=screen.orientation.type;if(e){let{videoWidth:e,videoHeight:a}=i,{clientWidth:o,clientHeight:s}=document.documentElement;if(e>a&&o<s||e<a&&o>s){let e=t.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(e),(0,n.addClass)(r,"art-auto-orientation-fullscreen")}}else(0,n.hasClass)(r,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock(t),(0,n.removeClass)(r,"art-auto-orientation-fullscreen"))})),{name:"autoOrientation",get state(){return(0,n.hasClass)(r,"art-auto-orientation")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],cVO99:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{i18n:t,icons:r,storage:i,constructor:a,proxy:o,template:{$poster:s}}=e,l=e.layers.add({name:"auto-playback",html:'<div class="art-auto-playback-close"></div><div class="art-auto-playback-last"></div><div class="art-auto-playback-jump"></div>'}),u=(0,n.query)(".art-auto-playback-last",l),c=(0,n.query)(".art-auto-playback-jump",l),d=(0,n.query)(".art-auto-playback-close",l);(0,n.append)(d,r.close);let h=null;function p(){let r=(i.get("times")||{})[e.option.id||e.option.url];clearTimeout(h),(0,n.setStyle)(l,"display","none"),r&&r>=a.AUTO_PLAYBACK_MIN&&((0,n.setStyle)(l,"display","flex"),u.innerText=`${t.get("Last Seen")} ${(0,n.secondToTime)(r)}`,c.innerText=t.get("Jump Play"),o(d,"click",(()=>{(0,n.setStyle)(l,"display","none")})),o(c,"click",(()=>{e.seek=r,e.play(),(0,n.setStyle)(s,"display","none"),(0,n.setStyle)(l,"display","none")})),e.once("video:timeupdate",(()=>{h=setTimeout((()=>{(0,n.setStyle)(l,"display","none")}),a.AUTO_PLAYBACK_TIMEOUT)})))}return e.on("video:timeupdate",(()=>{if(e.playing){let t=i.get("times")||{},r=Object.keys(t);r.length>a.AUTO_PLAYBACK_MAX&&delete t[r[0]],t[e.option.id||e.option.url]=e.currentTime,i.set("times",t)}})),e.on("ready",p),e.on("restart",p),{name:"auto-playback",get times(){return i.get("times")||{}},clear:()=>i.del("times"),delete(e){let t=i.get("times")||{};return delete t[e],i.set("times",t),t}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],hFDwt:[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{constructor:t,proxy:r,template:{$player:i,$video:a}}=e,o=null,s=!1,l=1,u=()=>{clearTimeout(o),s&&(s=!1,e.playbackRate=l,(0,n.removeClass)(i,"art-fast-forward"))};return r(a,"touchstart",(r=>{1===r.touches.length&&e.playing&&!e.isLock&&(o=setTimeout((()=>{s=!0,l=e.playbackRate,e.playbackRate=t.FAST_FORWARD_VALUE,(0,n.addClass)(i,"art-fast-forward")}),t.FAST_FORWARD_TIME))})),r(document,"touchmove",u),r(document,"touchend",u),{name:"fastForward",get state(){return(0,n.hasClass)(i,"art-fast-forward")}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}],"1hsTH":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"default",(()=>a));var n=e("../utils");function a(e){let{layers:t,icons:r,template:{$player:i}}=e;function a(){return(0,n.hasClass)(i,"art-lock")}function o(){(0,n.addClass)(i,"art-lock"),e.isLock=!0,e.emit("lock",!0)}function s(){(0,n.removeClass)(i,"art-lock"),e.isLock=!1,e.emit("lock",!1)}return t.add({name:"lock",mounted(t){let i=(0,n.append)(t,r.lock),a=(0,n.append)(t,r.unlock);(0,n.setStyle)(i,"display","none"),e.on("lock",(e=>{e?((0,n.setStyle)(i,"display","inline-flex"),(0,n.setStyle)(a,"display","none")):((0,n.setStyle)(i,"display","none"),(0,n.setStyle)(a,"display","inline-flex"))}))},click(){a()?s():o()}}),{name:"lock",get state(){return a()},set state(e){e?o():s()}}}},{"../utils":"71aH7","@parcel/transformer-js/src/esmodule-helpers.js":"9pCYc"}]},["5lTcX"],"5lTcX","parcelRequire4dc0")},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],i=t[1];return 3*(r+i)/4-i},t.toByteArray=function(e){var t,r,a=s(e),o=a[0],l=a[1],u=new n(function(e,t,r){return 3*(t+r)/4-r}(0,o,l)),c=0,d=l>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===l&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===l&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,a=[],o=16383,s=0,u=i-n;s<u;s+=o)a.push(l(e,s,s+o>u?u:s+o));return 1===n?(t=e[i-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=a[o],i[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,i){for(var n,a,o=[],s=t;s<i;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=n)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},8287:(e,t,r)=>{"use strict";const i=r(7526),n=r(251),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let i=s(r);const n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return l.from(i,t,r);const n=function(e){if(l.isBuffer(e)){const t=0|f(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),r=s(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,l.prototype),i}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return i?-1:W(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function _(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,i,n){let a,o=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(n){let i=-1;for(a=r;a<s;a++)if(u(e,a)===u(t,-1===i?0:a-i)){if(-1===i&&(i=a),a-i+1===l)return i*o}else-1!==i&&(a-=a-i),i=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){let r=!0;for(let i=0;i<l;i++)if(u(e,a+i)!==u(t,i)){r=!1;break}if(r)return a}return-1}function b(e,t,r,i){r=Number(r)||0;const n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;const a=t.length;let o;for(i>a/2&&(i=a/2),o=0;o<i;++o){const i=parseInt(t.substr(2*o,2),16);if(K(i))return o;e[r+o]=i}return o}function w(e,t,r,i){return $(W(t,e.length-r),e,r,i)}function S(e,t,r,i){return $(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function E(e,t,r,i){return $(Y(t),e,r,i)}function A(e,t,r,i){return $(function(e,t){let r,i,n;const a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),i=r>>8,n=r%256,a.push(n),a.push(i);return a}(t,e.length-r),e,r,i)}function x(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);const i=[];let n=t;for(;n<r;){const t=e[n];let a=null,o=t>239?4:t>223?3:t>191?2:1;if(n+o<=r){let r,i,s,l;switch(o){case 1:t<128&&(a=t);break;case 2:r=e[n+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(a=l));break;case 3:r=e[n+1],i=e[n+2],128==(192&r)&&128==(192&i)&&(l=(15&t)<<12|(63&r)<<6|63&i,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:r=e[n+1],i=e[n+2],s=e[n+3],128==(192&r)&&128==(192&i)&&128==(192&s)&&(l=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&s,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),n+=o}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=T));return r}(i)}t.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,a=Math.min(r,i);n<a;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const i=l.allocUnsafe(t);let n=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))n+t.length>i.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(i,n)}n+=t.length}return i},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(l.prototype[a]=l.prototype.inspect),l.prototype.compare=function(e,t,r,i,n){if(Z(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(this===e)return 0;let a=(n>>>=0)-(i>>>=0),o=(r>>>=0)-(t>>>=0);const s=Math.min(a,o),u=this.slice(i,n),c=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==c[e]){a=u[e],o=c[e];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return _(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return _(this,e,t,r,!1)},l.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}const n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function M(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function L(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function R(e,t,r){const i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=X[e[i]];return n}function I(e,t,r){const i=e.slice(t,r);let n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,i,n,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function O(e,t,r,i,n){V(t,i,n,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function j(e,t,r,i,n){V(t,i,n,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function P(e,t,r,i,n,a){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,i,a){return t=+t,r>>>=0,a||P(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function N(e,t,r,i,a){return t=+t,r>>>=0,a||P(e,0,r,8),n.write(e,t,r,i,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const i=this.subarray(e,t);return Object.setPrototypeOf(i,l.prototype),i},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let i=this[e],n=1,a=0;for(;++a<t&&(n*=256);)i+=this[e+a]*n;return i},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Q((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const i=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,n=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const i=t*2**24+65536*this[++e]+256*this[++e]+this[++e],n=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let i=this[e],n=1,a=0;for(;++a<t&&(n*=256);)i+=this[e+a]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let i=t,n=1,a=this[e+--i];for(;i>0&&(n*=256);)a+=this[e+--i]*n;return n*=128,a>=n&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Q((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const i=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Q((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||G(e,this.length-8);const i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),n.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),n.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),n.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),n.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||D(this,e,t,r,Math.pow(2,8*r)-1,0);let n=1,a=0;for(this[t]=255&e;++a<r&&(n*=256);)this[t+a]=e/n&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||D(this,e,t,r,Math.pow(2,8*r)-1,0);let n=r-1,a=1;for(this[t+n]=255&e;--n>=0&&(a*=256);)this[t+n]=e/a&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Q((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}let n=0,a=1,o=0;for(this[t]=255&e;++n<r&&(a*=256);)e<0&&0===o&&0!==this[t+n-1]&&(o=1),this[t+n]=(e/a|0)-o&255;return t+r},l.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}let n=r-1,a=1,o=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===o&&0!==this[t+n+1]&&(o=1),this[t+n]=(e/a|0)-o&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Q((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,i){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);const n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},l.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){const t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let n;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{const a=l.isBuffer(e)?e:l.from(e,i),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=a[n%o]}return this};const U={};function F(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function z(e){let t="",r=e.length;const i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,i,n,a){if(e>r||e<t){const i="bigint"==typeof t?"n":"";let n;throw n=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(a+1)}${i}`:`>= -(2${i} ** ${8*(a+1)-1}${i}) and < 2 ** ${8*(a+1)-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new U.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||G(t,e.length-(r+1))}(i,n,a)}function H(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=z(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=z(n)),n+="n"),i+=` It must be ${t}. Received ${n}`,i}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function W(e,t){let r;t=t||1/0;const i=e.length;let n=null;const a=[];for(let o=0;o<i;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Y(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},6866:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},8075:(e,t,r)=>{"use strict";var i=r(453),n=r(487),a=n(i("String.prototype.indexOf"));e.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&a(e,".prototype.")>-1?n(r):r}},487:(e,t,r)=>{"use strict";var i=r(6743),n=r(453),a=r(6897),o=n("%TypeError%"),s=n("%Function.prototype.apply%"),l=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||i.call(l,s),c=n("%Object.defineProperty%",!0),d=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var t=u(i,l,arguments);return a(t,1+d(0,e.length-(arguments.length-1)),!0)};var h=function(){return u(i,s,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h},9021:function(e,t,r){var i;e.exports=(i=i||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==r.g&&r.g.crypto&&(t=r.g.crypto),!t)try{t=r(477)}catch(e){}var i=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},n=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},o=a.lib={},s=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=o.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,i=this.sigBytes,n=e.sigBytes;if(this.clamp(),i%4)for(var a=0;a<n;a++){var o=r[a>>>2]>>>24-a%4*8&255;t[i+a>>>2]|=o<<24-(i+a)%4*8}else for(var s=0;s<n;s+=4)t[i+s>>>2]=r[s>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new l.init(t,e)}}),u=a.enc={},c=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],n=0;n<r;n++){var a=t[n>>>2]>>>24-n%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new l.init(r,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],n=0;n<r;n++){var a=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new l.init(r,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,i=this._data,n=i.words,a=i.sigBytes,o=this.blockSize,s=a/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*u,a);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(n,d);r=n.splice(0,u),i.sigBytes-=c}return new l.init(r,c)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(o.Hasher=p.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new f.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),i)},4636:function(e,t,r){var i;e.exports=(i=r(9021),function(e){var t=i,r=t.lib,n=r.WordArray,a=r.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var i=t+r,n=e[i];e[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],_=e[t+7],v=e[t+8],b=e[t+9],w=e[t+10],S=e[t+11],E=e[t+12],A=e[t+13],x=e[t+14],k=e[t+15],T=a[0],M=a[1],L=a[2],R=a[3];T=u(T,M,L,R,o,7,s[0]),R=u(R,T,M,L,l,12,s[1]),L=u(L,R,T,M,p,17,s[2]),M=u(M,L,R,T,f,22,s[3]),T=u(T,M,L,R,m,7,s[4]),R=u(R,T,M,L,g,12,s[5]),L=u(L,R,T,M,y,17,s[6]),M=u(M,L,R,T,_,22,s[7]),T=u(T,M,L,R,v,7,s[8]),R=u(R,T,M,L,b,12,s[9]),L=u(L,R,T,M,w,17,s[10]),M=u(M,L,R,T,S,22,s[11]),T=u(T,M,L,R,E,7,s[12]),R=u(R,T,M,L,A,12,s[13]),L=u(L,R,T,M,x,17,s[14]),T=c(T,M=u(M,L,R,T,k,22,s[15]),L,R,l,5,s[16]),R=c(R,T,M,L,y,9,s[17]),L=c(L,R,T,M,S,14,s[18]),M=c(M,L,R,T,o,20,s[19]),T=c(T,M,L,R,g,5,s[20]),R=c(R,T,M,L,w,9,s[21]),L=c(L,R,T,M,k,14,s[22]),M=c(M,L,R,T,m,20,s[23]),T=c(T,M,L,R,b,5,s[24]),R=c(R,T,M,L,x,9,s[25]),L=c(L,R,T,M,f,14,s[26]),M=c(M,L,R,T,v,20,s[27]),T=c(T,M,L,R,A,5,s[28]),R=c(R,T,M,L,p,9,s[29]),L=c(L,R,T,M,_,14,s[30]),T=d(T,M=c(M,L,R,T,E,20,s[31]),L,R,g,4,s[32]),R=d(R,T,M,L,v,11,s[33]),L=d(L,R,T,M,S,16,s[34]),M=d(M,L,R,T,x,23,s[35]),T=d(T,M,L,R,l,4,s[36]),R=d(R,T,M,L,m,11,s[37]),L=d(L,R,T,M,_,16,s[38]),M=d(M,L,R,T,w,23,s[39]),T=d(T,M,L,R,A,4,s[40]),R=d(R,T,M,L,o,11,s[41]),L=d(L,R,T,M,f,16,s[42]),M=d(M,L,R,T,y,23,s[43]),T=d(T,M,L,R,b,4,s[44]),R=d(R,T,M,L,E,11,s[45]),L=d(L,R,T,M,k,16,s[46]),T=h(T,M=d(M,L,R,T,p,23,s[47]),L,R,o,6,s[48]),R=h(R,T,M,L,_,10,s[49]),L=h(L,R,T,M,x,15,s[50]),M=h(M,L,R,T,g,21,s[51]),T=h(T,M,L,R,E,6,s[52]),R=h(R,T,M,L,f,10,s[53]),L=h(L,R,T,M,w,15,s[54]),M=h(M,L,R,T,l,21,s[55]),T=h(T,M,L,R,v,6,s[56]),R=h(R,T,M,L,k,10,s[57]),L=h(L,R,T,M,y,15,s[58]),M=h(M,L,R,T,A,21,s[59]),T=h(T,M,L,R,m,6,s[60]),R=h(R,T,M,L,S,10,s[61]),L=h(L,R,T,M,p,15,s[62]),M=h(M,L,R,T,b,21,s[63]),a[0]=a[0]+T|0,a[1]=a[1]+M|0,a[2]=a[2]+L|0,a[3]=a[3]+R|0},_doFinalize:function(){var t=this._data,r=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;r[n>>>5]|=128<<24-n%32;var a=e.floor(i/4294967296),o=i;r[15+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r[14+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,l=s.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,i,n,a,o){var s=e+(t&r|~t&i)+n+o;return(s<<a|s>>>32-a)+t}function c(e,t,r,i,n,a,o){var s=e+(t&i|r&~i)+n+o;return(s<<a|s>>>32-a)+t}function d(e,t,r,i,n,a,o){var s=e+(t^r^i)+n+o;return(s<<a|s>>>32-a)+t}function h(e,t,r,i,n,a,o){var s=e+(r^(t|~i))+n+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(l),t.HmacMD5=a._createHmacHelper(l)}(Math),i.MD5)},41:(e,t,r)=>{"use strict";var i=r(592)(),n=r(453),a=i&&n("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch(e){a=!1}var o=n("%SyntaxError%"),s=n("%TypeError%"),l=r(5795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],d=!!l&&l(e,t);if(a)a(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===i&&d?d.enumerable:!i,value:r,writable:null===n&&d?d.writable:!n});else{if(!c&&(i||n||u))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},7007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,i){function n(r){e.removeListener(t,a),i(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}m(e,t,a,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,n)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,r,i){var n,a,o,u;if(s(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=l(e))>0&&o.length>n&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=c.bind(i);return n.listener=r,i.wrapFn=n,n}function h(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):f(n,n.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function m(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(a){i.once&&e.removeEventListener(t,n),r(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var u=l.length,c=f(l,u);for(r=0;r<u;++r)i(c[r],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,i,n,a,o;if(s(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,a=Object.keys(r);for(i=0;i<a.length;++i)"removeListener"!==(n=a[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,i=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r};e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==t.apply(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var a,o=function(e){for(var t=[],r=1,i=0;r<e.length;r+=1,i+=1)t[i]=e[r];return t}(arguments),s=r(0,n.length-o.length),l=[],u=0;u<s;u++)l[u]="$"+u;if(a=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=n.apply(this,i(o,arguments));return Object(t)===t?t:this}return n.apply(e,i(o,arguments))})),n.prototype){var c=function(){};c.prototype=n.prototype,a.prototype=new c,c.prototype=null}return a}},6743:(e,t,r)=>{"use strict";var i=r(9353);e.exports=Function.prototype.bind||i},453:(e,t,r)=>{"use strict";var i,n=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new o},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,d=r(4039)(),h=r(24)(),p=Object.getPrototypeOf||(h?function(e){return e.__proto__}:null),f={},m="undefined"!=typeof Uint8Array&&p?p(Uint8Array):i,g={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d&&p?p([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&p?p(p([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&p?p((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&p?p((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&p?p(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":m,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(p)try{null.error}catch(e){var y=p(p(e));g["%Error.prototype%"]=y}var _=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&p&&(r=p(n.prototype))}return g[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(6743),w=r(9957),S=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),A=b.call(Function.call,String.prototype.replace),x=b.call(Function.call,String.prototype.slice),k=b.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,L=function(e,t){var r,i=e;if(w(v,i)&&(i="%"+(r=v[i])[0]+"%"),w(g,i)){var a=g[i];if(a===f&&(a=_(i)),void 0===a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:a}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=x(e,0,1),r=x(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return A(e,T,(function(e,t,r,n){i[i.length]=r?A(n,M,"$1"):t||e})),i}(e),i=r.length>0?r[0]:"",a=L("%"+i+"%",t),s=a.name,u=a.value,c=!1,d=a.alias;d&&(i=d[0],E(r,S([0,1],d)));for(var h=1,p=!0;h<r.length;h+=1){var f=r[h],m=x(f,0,1),y=x(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==f&&p||(c=!0),w(g,s="%"+(i+="."+f)+"%"))u=g[s];else if(null!=u){if(!(f in u)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&h+1>=r.length){var _=l(u,f);u=(p=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:u[f]}else p=w(u,f),u=u[f];p&&!c&&(g[s]=u)}}return u}},5795:(e,t,r)=>{"use strict";var i=r(453)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},592:(e,t,r)=>{"use strict";var i=r(453)("%Object.defineProperty%",!0),n=function(){if(i)try{return i({},"a",{value:1}),!0}catch(e){return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=n},24:e=>{"use strict";var t={foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},4039:(e,t,r)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(1333);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},9957:(e,t,r)=>{"use strict";var i=Function.prototype.call,n=Object.prototype.hasOwnProperty,a=r(6743);e.exports=a.call(i,n)},251:(e,t)=>{t.read=function(e,t,r,i,n){var a,o,s=8*n-i-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?n-1:0,h=r?-1:1,p=e[t+d];for(d+=h,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+d],d+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=i;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),a-=u}return(p?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,r,i,n,a){var o,s,l,u=8*a-n-1,c=(1<<u)-1,d=c>>1,h=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:a-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*l-1)*Math.pow(2,n),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;e[r+p]=255&s,p+=f,s/=256,n-=8);for(o=o<<n|s,u+=n;u>0;e[r+p]=255&o,p+=f,o/=256,u-=8);e[r+p-f]|=128*m}},6698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},8579:e=>{window,e.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t,r){"use strict";var i=r(6),n=r.n(i),a=function(){function e(){}return e.e=function(t,r){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="["+t+"] > "+r;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",i),e.ENABLE_ERROR&&(console.error?console.error(i):console.warn?console.warn(i):console.log(i))},e.i=function(t,r){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="["+t+"] > "+r;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",i),e.ENABLE_INFO&&(console.info?console.info(i):console.log(i))},e.w=function(t,r){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="["+t+"] > "+r;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",i),e.ENABLE_WARN&&(console.warn?console.warn(i):console.log(i))},e.d=function(t,r){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="["+t+"] > "+r;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",i),e.ENABLE_DEBUG&&(console.debug?console.debug(i):console.log(i))},e.v=function(t,r){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var i="["+t+"] > "+r;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",i),e.ENABLE_VERBOSE&&console.log(i)},e}();a.GLOBAL_TAG="mpegts.js",a.FORCE_GLOBAL_TAG=!1,a.ENABLE_ERROR=!0,a.ENABLE_INFO=!0,a.ENABLE_WARN=!0,a.ENABLE_DEBUG=!0,a.ENABLE_VERBOSE=!0,a.ENABLE_CALLBACK=!1,a.emitter=new n.a,t.a=a},function(e,t,r){"use strict";t.a={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SMPTE2038_METADATA_ARRIVED:"smpte2038_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var i=r(3),n={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},a={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},o=function(){function e(e){this._type=e||"undefined",this._status=n.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=n.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===n.kConnecting||this._status===n.kBuffering},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new i.c("Unimplemented abstract function!")},e.prototype.abort=function(){throw new i.c("Unimplemented abstract function!")},e}()},function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l}));var i,n=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.message},e}(),o=function(e){function t(t){return e.call(this,t)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),t}(a),s=function(e){function t(t){return e.call(this,t)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),t}(a),l=function(e){function t(t){return e.call(this,t)||this}return n(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),t}(a)},function(e,t,r){"use strict";var i={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],r=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:r[0]||""},a={};if(n.browser){a[n.browser]=!0;var o=n.majorVersion.split(".");a.version={major:parseInt(n.majorVersion,10),string:n.version},o.length>1&&(a.version.minor=parseInt(o[1],10)),o.length>2&&(a.version.build=parseInt(o[2],10))}for(var s in n.platform&&(a[n.platform]=!0),(a.chrome||a.opr||a.safari)&&(a.webkit=!0),(a.rv||a.iemobile)&&(a.rv&&delete a.rv,n.browser="msie",a.msie=!0),a.edge&&(delete a.edge,n.browser="msedge",a.msedge=!0),a.opr&&(n.browser="opera",a.opera=!0),a.safari&&a.android&&(n.browser="android",a.android=!0),a.name=n.browser,a.platform=n.platform,i)i.hasOwnProperty(s)&&delete i[s];Object.assign(i,a)}(),t.a=i},function(e,t,r){"use strict";t.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(e,t,r){"use strict";var i,n="object"==typeof Reflect?Reflect:null,a=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,i){function n(r){e.removeListener(t,a),i(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}y(e,t,a,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,n)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,r,i){var n,a,o,s;if(u(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),(n=c(e))>0&&o.length>n&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=h.bind(i);return n.listener=r,i.wrapFn=n,n}function f(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):g(n,n.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function y(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(a){i.once&&e.removeEventListener(t,n),r(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=n[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,c=g(l,u);for(r=0;r<u;++r)a(c[r],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,i,n,a,o;if(u(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,a=Object.keys(r);for(i=0;i<a.length;++i)"removeListener"!==(n=a[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o}));var i=function(e,t,r,i,n){this.dts=e,this.pts=t,this.duration=r,this.originalDts=i,this.isSyncPoint=n,this.fileposition=null},n=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),a=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,r=0,i=t.length-1,n=0,a=0,o=i;for(e<t[0].dts&&(r=0,a=o+1);a<=o;){if((n=a+Math.floor((o-a)/2))===i||e>=t[n].dts&&e<t[n+1].dts){r=n;break}t[n].dts<e?a=n+1:o=n-1}return this._list[r]},e}(),o=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var r=t.length-1,i=0,n=0,a=r,o=0;if(e<t[0].originalBeginDts)return-1;for(;n<=a;){if((i=n+Math.floor((a-n)/2))===r||e>t[i].lastSample.originalDts&&e<t[i+1].originalBeginDts){o=i;break}t[i].originalBeginDts<e?n=i+1:a=i-1}return o},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,r=e,i=this._lastAppendLocation,n=0;-1!==i&&i<t.length&&r.originalBeginDts>=t[i].lastSample.originalDts&&(i===t.length-1||i<t.length-1&&r.originalBeginDts<t[i+1].originalBeginDts)?n=i+1:t.length>0&&(n=this._searchNearestSegmentBefore(r.originalBeginDts)+1),this._lastAppendLocation=n,this._list.splice(n,0,r)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),r=this._list[t].syncPoints;0===r.length&&t>0;)t--,r=this._list[t].syncPoints;return r.length>0?r[r.length-1]:null},e}()},function(e,t,r){"use strict";var i=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,r=this._search(t.times,e);return{index:r,milliseconds:t.times[r],fileposition:t.filepositions[r]}},e.prototype._search=function(e,t){var r=0,i=e.length-1,n=0,a=0,o=i;for(t<e[0]&&(r=0,a=o+1);a<=o;){if((n=a+Math.floor((o-a)/2))===i||t>=e[n]&&t<e[n+1]){r=n;break}e[n]<t?a=n+1:o=n-1}return r},e}();t.a=i},function(e,t,r){"use strict";var i=r(6),n=r.n(i),a=r(0),o=function(){function e(){}return Object.defineProperty(e,"forceGlobalTag",{get:function(){return a.a.FORCE_GLOBAL_TAG},set:function(t){a.a.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"globalTag",{get:function(){return a.a.GLOBAL_TAG},set:function(t){a.a.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAll",{get:function(){return a.a.ENABLE_VERBOSE&&a.a.ENABLE_DEBUG&&a.a.ENABLE_INFO&&a.a.ENABLE_WARN&&a.a.ENABLE_ERROR},set:function(t){a.a.ENABLE_VERBOSE=t,a.a.ENABLE_DEBUG=t,a.a.ENABLE_INFO=t,a.a.ENABLE_WARN=t,a.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableDebug",{get:function(){return a.a.ENABLE_DEBUG},set:function(t){a.a.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableVerbose",{get:function(){return a.a.ENABLE_VERBOSE},set:function(t){a.a.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableInfo",{get:function(){return a.a.ENABLE_INFO},set:function(t){a.a.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWarn",{get:function(){return a.a.ENABLE_WARN},set:function(t){a.a.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableError",{get:function(){return a.a.ENABLE_ERROR},set:function(t){a.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:a.a.GLOBAL_TAG,forceGlobalTag:a.a.FORCE_GLOBAL_TAG,enableVerbose:a.a.ENABLE_VERBOSE,enableDebug:a.a.ENABLE_DEBUG,enableInfo:a.a.ENABLE_INFO,enableWarn:a.a.ENABLE_WARN,enableError:a.a.ENABLE_ERROR,enableCallback:a.a.ENABLE_CALLBACK}},e.applyConfig=function(e){a.a.GLOBAL_TAG=e.globalTag,a.a.FORCE_GLOBAL_TAG=e.forceGlobalTag,a.a.ENABLE_VERBOSE=e.enableVerbose,a.a.ENABLE_DEBUG=e.enableDebug,a.a.ENABLE_INFO=e.enableInfo,a.a.ENABLE_WARN=e.enableWarn,a.a.ENABLE_ERROR=e.enableError,a.a.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var r=e.getConfig();t.emit("change",r)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){a.a.emitter.addListener("log",t),a.a.emitter.listenerCount("log")>0&&(a.a.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){a.a.emitter.removeListener("log",t),0===a.a.emitter.listenerCount("log")&&(a.a.ENABLE_CALLBACK=!1,e._notifyChange())},e}();o.emitter=new n.a,t.a=o},function(e,t,r){"use strict";var i=r(6),n=r.n(i),a=r(0),o=r(4),s=r(8);function l(e,t,r){var i=e;if(t+r<i.length){for(;r--;)if(128!=(192&i[++t]))return!1;return!0}return!1}var u,c=function(e){for(var t=[],r=e,i=0,n=e.length;i<n;)if(r[i]<128)t.push(String.fromCharCode(r[i])),++i;else{if(r[i]<192);else if(r[i]<224){if(l(r,i,1)&&(a=(31&r[i])<<6|63&r[i+1])>=128){t.push(String.fromCharCode(65535&a)),i+=2;continue}}else if(r[i]<240){if(l(r,i,2)&&(a=(15&r[i])<<12|(63&r[i+1])<<6|63&r[i+2])>=2048&&55296!=(63488&a)){t.push(String.fromCharCode(65535&a)),i+=3;continue}}else if(r[i]<248){var a;if(l(r,i,3)&&(a=(7&r[i])<<18|(63&r[i+1])<<12|(63&r[i+2])<<6|63&r[i+3])>65536&&a<1114112){a-=65536,t.push(String.fromCharCode(a>>>10|55296)),t.push(String.fromCharCode(1023&a|56320)),i+=4;continue}}t.push(String.fromCharCode(65533)),++i}return t.join("")},d=r(3),h=(u=new ArrayBuffer(2),new DataView(u).setInt16(0,256,!0),256===new Int16Array(u)[0]),p=function(){function e(){}return e.parseScriptData=function(t,r,i){var n={};try{var o=e.parseValue(t,r,i),s=e.parseValue(t,r+o.size,i-o.size);n[o.data]=s.data}catch(e){a.a.e("AMF",e.toString())}return n},e.parseObject=function(t,r,i){if(i<3)throw new d.a("Data not enough when parse ScriptDataObject");var n=e.parseString(t,r,i),a=e.parseValue(t,r+n.size,i-n.size),o=a.objectEnd;return{data:{name:n.data,value:a.data},size:n.size+a.size,objectEnd:o}},e.parseVariable=function(t,r,i){return e.parseObject(t,r,i)},e.parseString=function(e,t,r){if(r<2)throw new d.a("Data not enough when parse String");var i=new DataView(e,t,r).getUint16(0,!h);return{data:i>0?c(new Uint8Array(e,t+2,i)):"",size:2+i}},e.parseLongString=function(e,t,r){if(r<4)throw new d.a("Data not enough when parse LongString");var i=new DataView(e,t,r).getUint32(0,!h);return{data:i>0?c(new Uint8Array(e,t+4,i)):"",size:4+i}},e.parseDate=function(e,t,r){if(r<10)throw new d.a("Data size invalid when parse Date");var i=new DataView(e,t,r),n=i.getFloat64(0,!h),a=i.getInt16(8,!h);return{data:new Date(n+=60*a*1e3),size:10}},e.parseValue=function(t,r,i){if(i<1)throw new d.a("Data not enough when parse Value");var n,o=new DataView(t,r,i),s=1,l=o.getUint8(0),u=!1;try{switch(l){case 0:n=o.getFloat64(1,!h),s+=8;break;case 1:n=!!o.getUint8(1),s+=1;break;case 2:var c=e.parseString(t,r+1,i-1);n=c.data,s+=c.size;break;case 3:n={};var p=0;for(9==(16777215&o.getUint32(i-4,!h))&&(p=3);s<i-4;){var f=e.parseObject(t,r+s,i-s-p);if(f.objectEnd)break;n[f.data.name]=f.data.value,s+=f.size}s<=i-3&&9==(16777215&o.getUint32(s-1,!h))&&(s+=3);break;case 8:for(n={},s+=4,p=0,9==(16777215&o.getUint32(i-4,!h))&&(p=3);s<i-8;){var m=e.parseVariable(t,r+s,i-s-p);if(m.objectEnd)break;n[m.data.name]=m.data.value,s+=m.size}s<=i-3&&9==(16777215&o.getUint32(s-1,!h))&&(s+=3);break;case 9:n=void 0,s=1,u=!0;break;case 10:n=[];var g=o.getUint32(1,!h);s+=4;for(var y=0;y<g;y++){var _=e.parseValue(t,r+s,i-s);n.push(_.data),s+=_.size}break;case 11:var v=e.parseDate(t,r+1,i-1);n=v.data,s+=v.size;break;case 12:var b=e.parseString(t,r+1,i-1);n=b.data,s+=b.size;break;default:s=i,a.a.w("AMF","Unsupported AMF value type "+l)}}catch(e){a.a.e("AMF",e.toString())}return{data:n,size:s,objectEnd:u}},e}(),f=function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new d.a("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),r=new Uint8Array(4);r.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(r.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new d.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var r=this._current_word_bits_left?this._current_word:0;r>>>=32-this._current_word_bits_left;var i=e-this._current_word_bits_left;this._fillCurrentWord();var n=Math.min(i,this._current_word_bits_left),a=this._current_word>>>32-n;return this._current_word<<=n,this._current_word_bits_left-=n,r<<n|a},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(this._current_word&2147483648>>>e)return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}(),m=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,r=t.byteLength,i=new Uint8Array(r),n=0,a=0;a<r;a++)a>=2&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(i[n]=t[a],n++);return new Uint8Array(i.buffer,0,n)},e.parseSPS=function(t){for(var r=t.subarray(1,4),i="avc1.",n=0;n<3;n++){var a=r[n].toString(16);a.length<2&&(a="0"+a),i+=a}var o=e._ebsp2rbsp(t),s=new f(o);s.readByte();var l=s.readByte();s.readByte();var u=s.readByte();s.readUEG();var c=e.getProfileString(l),d=e.getLevelString(u),h=1,p=420,m=8,g=8;if((100===l||110===l||122===l||244===l||44===l||83===l||86===l||118===l||128===l||138===l||144===l)&&(3===(h=s.readUEG())&&s.readBits(1),h<=3&&(p=[0,420,422,444][h]),m=s.readUEG()+8,g=s.readUEG()+8,s.readBits(1),s.readBool()))for(var y=3!==h?8:12,_=0;_<y;_++)s.readBool()&&(_<6?e._skipScalingList(s,16):e._skipScalingList(s,64));s.readUEG();var v=s.readUEG();if(0===v)s.readUEG();else if(1===v){s.readBits(1),s.readSEG(),s.readSEG();var b=s.readUEG();for(_=0;_<b;_++)s.readSEG()}var w=s.readUEG();s.readBits(1);var S=s.readUEG(),E=s.readUEG(),A=s.readBits(1);0===A&&s.readBits(1),s.readBits(1);var x=0,k=0,T=0,M=0;s.readBool()&&(x=s.readUEG(),k=s.readUEG(),T=s.readUEG(),M=s.readUEG());var L=1,R=1,I=0,C=!0,D=0,O=0;if(s.readBool()){if(s.readBool()){var j=s.readByte();j>0&&j<16?(L=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][j-1],R=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][j-1]):255===j&&(L=s.readByte()<<8|s.readByte(),R=s.readByte()<<8|s.readByte())}if(s.readBool()&&s.readBool(),s.readBool()&&(s.readBits(4),s.readBool()&&s.readBits(24)),s.readBool()&&(s.readUEG(),s.readUEG()),s.readBool()){var P=s.readBits(32),B=s.readBits(32);C=s.readBool(),I=(D=B)/(O=2*P)}}var N=1;1===L&&1===R||(N=L/R);var U=0,F=0;0===h?(U=1,F=2-A):(U=3===h?1:2,F=(1===h?2:1)*(2-A));var z=16*(S+1),V=16*(E+1)*(2-A);z-=(x+k)*U,V-=(T+M)*F;var H=Math.ceil(z*N);return s.destroy(),s=null,{codec_mimetype:i,profile_idc:l,level_idc:u,profile_string:c,level_string:d,chroma_format_idc:h,bit_depth:m,bit_depth_luma:m,bit_depth_chroma:g,ref_frames:w,chroma_format:p,chroma_format_string:e.getChromaFormatString(p),frame_rate:{fixed:C,fps:I,fps_den:O,fps_num:D},sar_ratio:{width:L,height:R},codec_size:{width:z,height:V},present_size:{width:H,height:V}}},e._skipScalingList=function(e,t){for(var r=8,i=8,n=0;n<t;n++)0!==i&&(i=(r+e.readSEG()+256)%256),r=0===i?r:i},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}(),g=r(5),y=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,r=t.byteLength,i=new Uint8Array(r),n=0,a=0;a<r;a++)a>=2&&3===t[a]&&0===t[a-1]&&0===t[a-2]||(i[n]=t[a],n++);return new Uint8Array(i.buffer,0,n)},e.parseVPS=function(t){var r=e._ebsp2rbsp(t),i=new f(r);return i.readByte(),i.readByte(),i.readBits(4),i.readBits(2),i.readBits(6),{num_temporal_layers:i.readBits(3)+1,temporal_id_nested:i.readBool()}},e.parseSPS=function(t){var r=e._ebsp2rbsp(t),i=new f(r);i.readByte(),i.readByte();for(var n=0,a=0,o=0,s=0,l=(i.readBits(4),i.readBits(3)),u=(i.readBool(),i.readBits(2)),c=i.readBool(),d=i.readBits(5),h=i.readByte(),p=i.readByte(),m=i.readByte(),g=i.readByte(),y=i.readByte(),_=i.readByte(),v=i.readByte(),b=i.readByte(),w=i.readByte(),S=i.readByte(),E=i.readByte(),A=[],x=[],k=0;k<l;k++)A.push(i.readBool()),x.push(i.readBool());if(l>0)for(k=l;k<8;k++)i.readBits(2);for(k=0;k<l;k++)A[k]&&(i.readByte(),i.readByte(),i.readByte(),i.readByte(),i.readByte(),i.readByte(),i.readByte(),i.readByte(),i.readByte(),i.readByte(),i.readByte()),x[k]&&i.readByte();i.readUEG();var T=i.readUEG();3==T&&i.readBits(1);var M=i.readUEG(),L=i.readUEG();i.readBool()&&(n+=i.readUEG(),a+=i.readUEG(),o+=i.readUEG(),s+=i.readUEG());var R=i.readUEG(),I=i.readUEG(),C=i.readUEG();for(k=i.readBool()?0:l;k<=l;k++)i.readUEG(),i.readUEG(),i.readUEG();if(i.readUEG(),i.readUEG(),i.readUEG(),i.readUEG(),i.readUEG(),i.readUEG(),i.readBool()&&i.readBool())for(var D=0;D<4;D++)for(var O=0;O<(3===D?2:6);O++)if(i.readBool()){var j=Math.min(64,1<<4+(D<<1));for(D>1&&i.readSEG(),k=0;k<j;k++)i.readSEG()}else i.readUEG();i.readBool(),i.readBool(),i.readBool()&&(i.readByte(),i.readUEG(),i.readUEG(),i.readBool());var P=i.readUEG(),B=0;for(k=0;k<P;k++){var N=!1;if(0!==k&&(N=i.readBool()),N){k===P&&i.readUEG(),i.readBool(),i.readUEG();for(var U=0,F=0;F<=B;F++){var z=i.readBool(),V=!1;z||(V=i.readBool()),(z||V)&&U++}B=U}else{var H=i.readUEG(),G=i.readUEG();for(B=H+G,F=0;F<H;F++)i.readUEG(),i.readBool();for(F=0;F<G;F++)i.readUEG(),i.readBool()}}if(i.readBool()){var q=i.readUEG();for(k=0;k<q;k++){for(F=0;F<C+4;F++)i.readBits(1);i.readBits(1)}}var W=0,Y=1,$=1,Z=!1,K=1,X=1;if(i.readBool(),i.readBool(),i.readBool()){if(i.readBool()){var Q=i.readByte();Q>0&&Q<=16?(Y=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Q-1],$=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Q-1]):255===Q&&(Y=i.readBits(16),$=i.readBits(16))}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(3),i.readBool(),i.readBool()&&(i.readByte(),i.readByte(),i.readByte())),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool(),i.readBool(),i.readBool(),i.readBool()&&(i.readUEG(),i.readUEG(),i.readUEG(),i.readUEG()),i.readBool()&&(K=i.readBits(32),X=i.readBits(32),i.readBool()&&(i.readUEG(),i.readBool()))){var J,ee,te=!1;for(J=i.readBool(),ee=i.readBool(),(J||ee)&&((te=i.readBool())&&(i.readByte(),i.readBits(5),i.readBool(),i.readBits(5)),i.readBits(4),i.readBits(4),te&&i.readBits(4),i.readBits(5),i.readBits(5),i.readBits(5)),k=0;k<=l;k++){var re=i.readBool();Z=re;var ie=!1,ne=1;re||(ie=i.readBool());var ae=!1;if(ie?i.readSEG():ae=i.readBool(),ae||(ne=i.readUEG()+1),J)for(F=0;F<ne;F++)i.readUEG(),i.readUEG(),te&&(i.readUEG(),i.readUEG());if(ee)for(F=0;F<ne;F++)i.readUEG(),i.readUEG(),te&&(i.readUEG(),i.readUEG())}}i.readBool()&&(i.readBool(),i.readBool(),i.readBool(),W=i.readUEG(),i.readUEG(),i.readUEG(),i.readUEG(),i.readUEG())}i.readBool();var oe="hvc1."+d+".1.L"+E+".B0",se=M-(n+a)*(1===T||2===T?2:1),le=L-(o+s)*(1===T?2:1),ue=1;return 1!==Y&&1!==$&&(ue=Y/$),i.destroy(),i=null,{codec_mimetype:oe,level_string:e.getLevelString(E),profile_idc:d,bit_depth:R+8,ref_frames:1,chroma_format:T,chroma_format_string:e.getChromaFormatString(T),general_level_idc:E,general_profile_space:u,general_tier_flag:c,general_profile_idc:d,general_profile_compatibility_flags_1:h,general_profile_compatibility_flags_2:p,general_profile_compatibility_flags_3:m,general_profile_compatibility_flags_4:g,general_constraint_indicator_flags_1:y,general_constraint_indicator_flags_2:_,general_constraint_indicator_flags_3:v,general_constraint_indicator_flags_4:b,general_constraint_indicator_flags_5:w,general_constraint_indicator_flags_6:S,min_spatial_segmentation_idc:W,constant_frame_rate:0,chroma_format_idc:T,bit_depth_luma_minus8:R,bit_depth_chroma_minus8:I,frame_rate:{fixed:Z,fps:X/K,fps_den:K,fps_num:X},sar_ratio:{width:Y,height:$},codec_size:{width:se,height:le},present_size:{width:se*ue,height:le}}},e.parsePPS=function(t){var r=e._ebsp2rbsp(t),i=new f(r);i.readByte(),i.readByte(),i.readUEG(),i.readUEG(),i.readBool(),i.readBool(),i.readBits(3),i.readBool(),i.readBool(),i.readUEG(),i.readUEG(),i.readSEG(),i.readBool(),i.readBool(),i.readBool()&&i.readUEG(),i.readSEG(),i.readSEG(),i.readBool(),i.readBool(),i.readBool(),i.readBool();var n=i.readBool(),a=i.readBool(),o=1;return a&&n?o=0:a?o=3:n&&(o=2),{parallelismType:o}},e.getChromaFormatString=function(e){switch(e){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},e.getProfileString=function(e){switch(e){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},e.getLevelString=function(e){return(e/30).toFixed(1)},e}();function _(e){return e.byteOffset%2==0&&e.byteLength%2==0}function v(e){return e.byteOffset%4==0&&e.byteLength%4==0}function b(e,t){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var w,S=function(e,t){return e.byteLength===t.byteLength&&(v(e)&&v(t)?function(e,t){return b(new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4))}(e,t):_(e)&&_(t)?function(e,t){return b(new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2))}(e,t):function(e,t){return b(e,t)}(e,t))},E=function(){function e(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new s.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e);if(t.byteLength<9)return{needMoreData:!0};var r={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return r;var i,n=(4&t[4])>>>2!=0,a=!!(1&t[4]),o=(i=t)[5]<<24|i[6]<<16|i[7]<<8|i[8];return o<9?r:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:n,hasVideoTrack:a}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedDuration",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasAudio",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasVideo",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new s.a},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,r){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new d.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var i=0,n=this._littleEndian;if(0===r){if(!(t.byteLength>13))return 0;i=e.probe(t).dataOffset}for(this._firstParse&&(this._firstParse=!1,r+i!==this._dataOffset&&a.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==(o=new DataView(t,i)).getUint32(0,!n)&&a.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4);i<t.byteLength;){this._dispatch=!0;var o=new DataView(t,i);if(i+11+4>t.byteLength)break;var s=o.getUint8(0),l=16777215&o.getUint32(0,!n);if(i+11+l+4>t.byteLength)break;if(8===s||9===s||18===s){var u=o.getUint8(4),c=o.getUint8(5),h=o.getUint8(6)|c<<8|u<<16|o.getUint8(7)<<24;16777215&o.getUint32(7,!n)&&a.a.w(this.TAG,"Meet tag which has StreamID != 0!");var p=i+11;switch(s){case 8:this._parseAudioData(t,p,l,h);break;case 9:this._parseVideoData(t,p,l,h,r+i);break;case 18:this._parseScriptData(t,p,l)}var f=o.getUint32(11+l,!n);f!==11+l&&a.a.w(this.TAG,"Invalid PrevTagSize "+f),i+=11+l+4}else a.a.w(this.TAG,"Unsupported tag type "+s+", skipped"),i+=11+l+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i},e.prototype._parseScriptData=function(e,t,r){var i=p.parseScriptData(e,t,r);if(i.hasOwnProperty("onMetaData")){if(null==i.onMetaData||"object"!=typeof i.onMetaData)return void a.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&a.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=i;var n=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},n)),"boolean"==typeof n.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=n.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof n.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=n.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof n.audiodatarate&&(this._mediaInfo.audioDataRate=n.audiodatarate),"number"==typeof n.videodatarate&&(this._mediaInfo.videoDataRate=n.videodatarate),"number"==typeof n.width&&(this._mediaInfo.width=n.width),"number"==typeof n.height&&(this._mediaInfo.height=n.height),"number"==typeof n.duration){if(!this._durationOverrided){var o=Math.floor(n.duration*this._timescale);this._duration=o,this._mediaInfo.duration=o}}else this._mediaInfo.duration=0;if("number"==typeof n.framerate){var s=Math.floor(1e3*n.framerate);if(s>0){var l=s/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=l,this._referenceFrameRate.fps_num=s,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=l}}if("object"==typeof n.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var u=n.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(u),n.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=n,a.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(i).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},i))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],r=[],i=1;i<e.times.length;i++){var n=this._timestampBase+Math.floor(1e3*e.times[i]);t.push(n),r.push(e.filepositions[i])}return{times:t,filepositions:r}},e.prototype._parseAudioData=function(e,t,r,i){if(r<=1)a.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var n=new DataView(e,t,r).getUint8(0),o=n>>>4;if(2===o||10===o){var s=0,l=(12&n)>>>2;if(l>=0&&l<=4){s=this._flvSoundRateTable[l];var u=1&n,c=this._audioMetadata,d=this._audioTrack;if(c||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(c=this._audioMetadata={}).type="audio",c.id=d.id,c.timescale=this._timescale,c.duration=this._duration,c.audioSampleRate=s,c.channelCount=0===u?1:2),10===o){var h=this._parseAACAudioData(e,t+1,r-1);if(null==h)return;if(0===h.packetType){if(c.config){if(S(h.data.config,c.config))return;a.a.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}var p=h.data;c.audioSampleRate=p.samplingRate,c.channelCount=p.channelCount,c.codec=p.codec,c.originalCodec=p.originalCodec,c.config=p.config,c.refSampleDuration=1024/c.audioSampleRate*c.timescale,a.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",c),(y=this._mediaInfo).audioCodec=c.originalCodec,y.audioSampleRate=c.audioSampleRate,y.audioChannelCount=c.channelCount,y.hasVideo?null!=y.videoCodec&&(y.mimeType='video/x-flv; codecs="'+y.videoCodec+","+y.audioCodec+'"'):y.mimeType='video/x-flv; codecs="'+y.audioCodec+'"',y.isComplete()&&this._onMediaInfo(y)}else if(1===h.packetType){var f=this._timestampBase+i,m={unit:h.data,length:h.data.byteLength,dts:f,pts:f};d.samples.push(m),d.length+=h.data.length}else a.a.e(this.TAG,"Flv: Unsupported AAC data type "+h.packetType)}else if(2===o){if(!c.codec){var y;if(null==(p=this._parseMP3AudioData(e,t+1,r-1,!0)))return;c.audioSampleRate=p.samplingRate,c.channelCount=p.channelCount,c.codec=p.codec,c.originalCodec=p.originalCodec,c.refSampleDuration=1152/c.audioSampleRate*c.timescale,a.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",c),(y=this._mediaInfo).audioCodec=c.codec,y.audioSampleRate=c.audioSampleRate,y.audioChannelCount=c.channelCount,y.audioDataRate=p.bitRate,y.hasVideo?null!=y.videoCodec&&(y.mimeType='video/x-flv; codecs="'+y.videoCodec+","+y.audioCodec+'"'):y.mimeType='video/x-flv; codecs="'+y.audioCodec+'"',y.isComplete()&&this._onMediaInfo(y)}var _=this._parseMP3AudioData(e,t+1,r-1,!1);if(null==_)return;f=this._timestampBase+i;var v={unit:_,length:_.byteLength,dts:f,pts:f};d.samples.push(v),d.length+=_.length}}else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+l)}else this._onError(g.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+o)}},e.prototype._parseAACAudioData=function(e,t,r){if(!(r<=1)){var i={},n=new Uint8Array(e,t,r);return i.packetType=n[0],0===n[0]?i.data=this._parseAACAudioSpecificConfig(e,t+1,r-1):i.data=n.subarray(1),i}a.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e.prototype._parseAACAudioSpecificConfig=function(e,t,r){var i,n,a=new Uint8Array(e,t,r),o=null,s=0,l=null;if(s=i=a[0]>>>3,(n=(7&a[0])<<1|a[1]>>>7)<0||n>=this._mpegSamplingRates.length)this._onError(g.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var u=this._mpegSamplingRates[n],c=(120&a[1])>>>3;if(!(c<0||c>=8)){5===s&&(l=(7&a[1])<<1|a[2]>>>7,a[2]);var d=self.navigator.userAgent.toLowerCase();return-1!==d.indexOf("firefox")?n>=6?(s=5,o=new Array(4),l=n-3):(s=2,o=new Array(2),l=n):-1!==d.indexOf("android")?(s=2,o=new Array(2),l=n):(s=5,l=n,o=new Array(4),n>=6?l=n-3:1===c&&(s=2,o=new Array(2),l=n)),o[0]=s<<3,o[0]|=(15&n)>>>1,o[1]=(15&n)<<7,o[1]|=(15&c)<<3,5===s&&(o[1]|=(15&l)>>>1,o[2]=(1&l)<<7,o[2]|=8,o[3]=0),{config:o,samplingRate:u,channelCount:c,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+i}}this._onError(g.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e.prototype._parseMP3AudioData=function(e,t,r,i){if(!(r<4)){this._littleEndian;var n=new Uint8Array(e,t,r),o=null;if(i){if(255!==n[0])return;var s=n[1]>>>3&3,l=(6&n[1])>>1,u=(240&n[2])>>>4,c=(12&n[2])>>>2,d=3&~(n[3]>>>6)?2:1,h=0,p=0;switch(s){case 0:h=this._mpegAudioV25SampleRateTable[c];break;case 2:h=this._mpegAudioV20SampleRateTable[c];break;case 3:h=this._mpegAudioV10SampleRateTable[c]}switch(l){case 1:u<this._mpegAudioL3BitRateTable.length&&(p=this._mpegAudioL3BitRateTable[u]);break;case 2:u<this._mpegAudioL2BitRateTable.length&&(p=this._mpegAudioL2BitRateTable[u]);break;case 3:u<this._mpegAudioL1BitRateTable.length&&(p=this._mpegAudioL1BitRateTable[u])}o={bitRate:p,samplingRate:h,channelCount:d,codec:"mp3",originalCodec:"mp3"}}else o=n;return o}a.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e.prototype._parseVideoData=function(e,t,r,i,n){if(r<=1)a.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var o=new Uint8Array(e,t,r)[0],s=(112&o)>>>4;if(128&o){var l=15&o,u=String.fromCharCode.apply(String,new Uint8Array(e,t,r).slice(1,5));if("hvc1"!==u)return void this._onError(g.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+u);this._parseEnhancedHEVCVideoPacket(e,t+5,r-5,i,n,s,l)}else{var c=15&o;if(7===c)this._parseAVCVideoPacket(e,t+1,r-1,i,n,s);else{if(12!==c)return void this._onError(g.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+c);this._parseHEVCVideoPacket(e,t+1,r-1,i,n,s)}}}},e.prototype._parseAVCVideoPacket=function(e,t,r,i,n,o){if(r<4)a.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var s=this._littleEndian,l=new DataView(e,t,r),u=l.getUint8(0),c=(16777215&l.getUint32(0,!s))<<8>>8;if(0===u)this._parseAVCDecoderConfigurationRecord(e,t+4,r-4);else if(1===u)this._parseAVCVideoData(e,t+4,r-4,i,n,o,c);else if(2!==u)return void this._onError(g.a.FORMAT_ERROR,"Flv: Invalid video packet type "+u)}},e.prototype._parseHEVCVideoPacket=function(e,t,r,i,n,o){if(r<4)a.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var s=this._littleEndian,l=new DataView(e,t,r),u=l.getUint8(0),c=(16777215&l.getUint32(0,!s))<<8>>8;if(0===u)this._parseHEVCDecoderConfigurationRecord(e,t+4,r-4);else if(1===u)this._parseHEVCVideoData(e,t+4,r-4,i,n,o,c);else if(2!==u)return void this._onError(g.a.FORMAT_ERROR,"Flv: Invalid video packet type "+u)}},e.prototype._parseEnhancedHEVCVideoPacket=function(e,t,r,i,n,o,s){if(r<4)a.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var l=this._littleEndian,u=new DataView(e,t,r);if(0===s)this._parseHEVCDecoderConfigurationRecord(e,t,r);else if(1===s){var c=(4294967040&u.getUint32(0,!l))>>8;this._parseHEVCVideoData(e,t+3,r-3,i,n,o,c)}else if(3===s)this._parseHEVCVideoData(e,t,r,i,n,o,0);else if(2!==s)return void this._onError(g.a.FORMAT_ERROR,"Flv: Invalid video packet type "+s)}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,r){if(r<7)a.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var i=this._videoMetadata,n=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,r);if(i){if(void 0!==i.avcc){var l=new Uint8Array(e,t,r);if(S(l,i.avcc))return;a.a.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(i=this._videoMetadata={}).type="video",i.id=n.id,i.timescale=this._timescale,i.duration=this._duration;var u=s.getUint8(0),c=s.getUint8(1);if(s.getUint8(2),s.getUint8(3),1===u&&0!==c)if(this._naluLengthSize=1+(3&s.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var d=31&s.getUint8(5);if(0!==d){d>1&&a.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+d);for(var h=6,p=0;p<d;p++){var f=s.getUint16(h,!o);if(h+=2,0!==f){var y=new Uint8Array(e,t+h,f);h+=f;var _=m.parseSPS(y);if(0===p){i.codecWidth=_.codec_size.width,i.codecHeight=_.codec_size.height,i.presentWidth=_.present_size.width,i.presentHeight=_.present_size.height,i.profile=_.profile_string,i.level=_.level_string,i.bitDepth=_.bit_depth,i.chromaFormat=_.chroma_format,i.sarRatio=_.sar_ratio,i.frameRate=_.frame_rate,!1!==_.frame_rate.fixed&&0!==_.frame_rate.fps_num&&0!==_.frame_rate.fps_den||(i.frameRate=this._referenceFrameRate);var v=i.frameRate.fps_den,b=i.frameRate.fps_num;i.refSampleDuration=i.timescale*(v/b);for(var w=y.subarray(1,4),E="avc1.",A=0;A<3;A++){var x=w[A].toString(16);x.length<2&&(x="0"+x),E+=x}i.codec=E;var k=this._mediaInfo;k.width=i.codecWidth,k.height=i.codecHeight,k.fps=i.frameRate.fps,k.profile=i.profile,k.level=i.level,k.refFrames=_.ref_frames,k.chromaFormat=_.chroma_format_string,k.sarNum=i.sarRatio.width,k.sarDen=i.sarRatio.height,k.videoCodec=E,k.hasAudio?null!=k.audioCodec&&(k.mimeType='video/x-flv; codecs="'+k.videoCodec+","+k.audioCodec+'"'):k.mimeType='video/x-flv; codecs="'+k.videoCodec+'"',k.isComplete()&&this._onMediaInfo(k)}}}var T=s.getUint8(h);if(0!==T){for(T>1&&a.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+T),h++,p=0;p<T;p++)f=s.getUint16(h,!o),h+=2,0!==f&&(h+=f);i.avcc=new Uint8Array(r),i.avcc.set(new Uint8Array(e,t,r),0),a.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",i)}else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(g.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e.prototype._parseHEVCDecoderConfigurationRecord=function(e,t,r){if(r<22)a.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var i=this._videoMetadata,n=this._videoTrack,o=this._littleEndian,s=new DataView(e,t,r);if(i){if(void 0!==i.hvcc){var l=new Uint8Array(e,t,r);if(S(l,i.hvcc))return;a.a.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(i=this._videoMetadata={}).type="video",i.id=n.id,i.timescale=this._timescale,i.duration=this._duration;var u=s.getUint8(0),c=31&s.getUint8(1);if(1===u&&0!==c)if(this._naluLengthSize=1+(3&s.getUint8(21)),3===this._naluLengthSize||4===this._naluLengthSize){for(var d=s.getUint8(22),h=0,p=23;h<d;h++){var f=63&s.getUint8(p+0),m=s.getUint16(p+1,!o);p+=3;for(var _=0;_<m;_++){var v=s.getUint16(p+0,!o);if(0===_)if(33===f){p+=2;var b=new Uint8Array(e,t+p,v),w=y.parseSPS(b);i.codecWidth=w.codec_size.width,i.codecHeight=w.codec_size.height,i.presentWidth=w.present_size.width,i.presentHeight=w.present_size.height,i.profile=w.profile_string,i.level=w.level_string,i.bitDepth=w.bit_depth,i.chromaFormat=w.chroma_format,i.sarRatio=w.sar_ratio,i.frameRate=w.frame_rate,!1!==w.frame_rate.fixed&&0!==w.frame_rate.fps_num&&0!==w.frame_rate.fps_den||(i.frameRate=this._referenceFrameRate);var E=i.frameRate.fps_den,A=i.frameRate.fps_num;i.refSampleDuration=i.timescale*(E/A),i.codec=w.codec_mimetype;var x=this._mediaInfo;x.width=i.codecWidth,x.height=i.codecHeight,x.fps=i.frameRate.fps,x.profile=i.profile,x.level=i.level,x.refFrames=w.ref_frames,x.chromaFormat=w.chroma_format_string,x.sarNum=i.sarRatio.width,x.sarDen=i.sarRatio.height,x.videoCodec=w.codec_mimetype,x.hasAudio?null!=x.audioCodec&&(x.mimeType='video/x-flv; codecs="'+x.videoCodec+","+x.audioCodec+'"'):x.mimeType='video/x-flv; codecs="'+x.videoCodec+'"',x.isComplete()&&this._onMediaInfo(x),p+=v}else p+=2+v;else p+=2+v}}i.hvcc=new Uint8Array(r),i.hvcc.set(new Uint8Array(e,t,r),0),a.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",i)}else this._onError(g.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(g.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord")}},e.prototype._parseAVCVideoData=function(e,t,r,i,n,o,s){for(var l=this._littleEndian,u=new DataView(e,t,r),c=[],d=0,h=0,p=this._naluLengthSize,f=this._timestampBase+i,m=1===o;h<r;){if(h+4>=r){a.a.w(this.TAG,"Malformed Nalu near timestamp "+f+", offset = "+h+", dataSize = "+r);break}var g=u.getUint32(h,!l);if(3===p&&(g>>>=8),g>r-p)return void a.a.w(this.TAG,"Malformed Nalus near timestamp "+f+", NaluSize > DataSize!");var y=31&u.getUint8(h+p);5===y&&(m=!0);var _=new Uint8Array(e,t+h,p+g),v={type:y,data:_};c.push(v),d+=_.byteLength,h+=p+g}if(c.length){var b=this._videoTrack,w={units:c,length:d,isKeyframe:m,dts:f,cts:s,pts:f+s};m&&(w.fileposition=n),b.samples.push(w),b.length+=d}},e.prototype._parseHEVCVideoData=function(e,t,r,i,n,o,s){for(var l=this._littleEndian,u=new DataView(e,t,r),c=[],d=0,h=0,p=this._naluLengthSize,f=this._timestampBase+i,m=1===o;h<r;){if(h+4>=r){a.a.w(this.TAG,"Malformed Nalu near timestamp "+f+", offset = "+h+", dataSize = "+r);break}var g=u.getUint32(h,!l);if(3===p&&(g>>>=8),g>r-p)return void a.a.w(this.TAG,"Malformed Nalus near timestamp "+f+", NaluSize > DataSize!");var y=31&u.getUint8(h+p);19!==y&&20!==y||(m=!0);var _=new Uint8Array(e,t+h,p+g),v={type:y,data:_};c.push(v),d+=_.byteLength,h+=p+g}if(c.length){var b=this._videoTrack,w={units:c,length:d,isKeyframe:m,dts:f,cts:s,pts:f+s};m&&(w.fileposition=n),b.samples.push(w),b.length+=d}},e}(),A=function(){function e(){}return e.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},e}(),x=function(){this.program_pmt_pid={}};!function(e){e[e.kMPEG1Audio=3]="kMPEG1Audio",e[e.kMPEG2Audio=4]="kMPEG2Audio",e[e.kPESPrivateData=6]="kPESPrivateData",e[e.kADTSAAC=15]="kADTSAAC",e[e.kLOASAAC=17]="kLOASAAC",e[e.kAC3=129]="kAC3",e[e.kID3=21]="kID3",e[e.kSCTE35=134]="kSCTE35",e[e.kH264=27]="kH264",e[e.kH265=36]="kH265"}(w||(w={}));var k,T=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.scte_35_pids={},this.smpte2038_pids={}},M=function(){},L=function(){},R=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};!function(e){e[e.kUnspecified=0]="kUnspecified",e[e.kSliceNonIDR=1]="kSliceNonIDR",e[e.kSliceDPA=2]="kSliceDPA",e[e.kSliceDPB=3]="kSliceDPB",e[e.kSliceDPC=4]="kSliceDPC",e[e.kSliceIDR=5]="kSliceIDR",e[e.kSliceSEI=6]="kSliceSEI",e[e.kSliceSPS=7]="kSliceSPS",e[e.kSlicePPS=8]="kSlicePPS",e[e.kSliceAUD=9]="kSliceAUD",e[e.kEndOfSequence=10]="kEndOfSequence",e[e.kEndOfStream=11]="kEndOfStream",e[e.kFiller=12]="kFiller",e[e.kSPSExt=13]="kSPSExt",e[e.kReserved0=14]="kReserved0"}(k||(k={}));var I,C,D=function(){},O=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},j=function(){function e(e){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,r=this.data_;;){if(t+3>=r.byteLength)return this.eof_flag_=!0,r.byteLength;var i=r[t+0]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3],n=r[t+0]<<16|r[t+1]<<8|r[t+2];if(1===i||1===n)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var r=this.current_startcode_offset_,i=31&e[r+=1==(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])?4:3],n=(128&e[r])>>>7,a=this.findNextStartCodeOffset(r);if(this.current_startcode_offset_=a,!(i>=k.kReserved0)&&0===n){var o=e.subarray(r,a);(t=new D).type=i,t.data=o}}return t},e}(),P=function(){function e(e,t,r){var i=8+e.byteLength+1+2+t.byteLength,n=!1;66!==e[3]&&77!==e[3]&&88!==e[3]&&(n=!0,i+=4);var a=this.data=new Uint8Array(i);a[0]=1,a[1]=e[1],a[2]=e[2],a[3]=e[3],a[4]=255,a[5]=225;var o=e.byteLength;a[6]=o>>>8,a[7]=255&o;var s=8;a.set(e,8),a[s+=o]=1;var l=t.byteLength;a[s+1]=l>>>8,a[s+2]=255&l,a.set(t,s+3),s+=3+l,n&&(a[s]=252|r.chroma_format_idc,a[s+1]=248|r.bit_depth_luma-8,a[s+2]=248|r.bit_depth_chroma-8,a[s+3]=0,s+=4)}return e.prototype.getData=function(){return this.data},e}();!function(e){e[e.kNull=0]="kNull",e[e.kAACMain=1]="kAACMain",e[e.kAAC_LC=2]="kAAC_LC",e[e.kAAC_SSR=3]="kAAC_SSR",e[e.kAAC_LTP=4]="kAAC_LTP",e[e.kAAC_SBR=5]="kAAC_SBR",e[e.kAAC_Scalable=6]="kAAC_Scalable",e[e.kLayer1=32]="kLayer1",e[e.kLayer2=33]="kLayer2",e[e.kLayer3=34]="kLayer3"}(I||(I={})),function(e){e[e.k96000Hz=0]="k96000Hz",e[e.k88200Hz=1]="k88200Hz",e[e.k64000Hz=2]="k64000Hz",e[e.k48000Hz=3]="k48000Hz",e[e.k44100Hz=4]="k44100Hz",e[e.k32000Hz=5]="k32000Hz",e[e.k24000Hz=6]="k24000Hz",e[e.k22050Hz=7]="k22050Hz",e[e.k16000Hz=8]="k16000Hz",e[e.k12000Hz=9]="k12000Hz",e[e.k11025Hz=10]="k11025Hz",e[e.k8000Hz=11]="k8000Hz",e[e.k7350Hz=12]="k7350Hz"}(C||(C={}));var B,N,U=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],F=(B=function(e,t){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),z=function(){},V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t}(z),H=function(){function e(e){this.TAG="AACADTSParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,r=this.data_;;){if(t+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if(4095==(r[t+0]<<8|r[t+1])>>>4)return t;t++}},e.prototype.readNextAACFrame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var r=this.current_syncword_offset_,i=(8&e[r+1])>>>3,n=(6&e[r+1])>>>1,a=1&e[r+1],o=(192&e[r+2])>>>6,s=(60&e[r+2])>>>2,l=(1&e[r+2])<<2|(192&e[r+3])>>>6,u=(3&e[r+3])<<11|e[r+4]<<3|(224&e[r+5])>>>5;if(e[r+6],r+u>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var c=1===a?7:9,d=u-c;r+=c;var h=this.findNextSyncwordOffset(r+d);if(this.current_syncword_offset_=h,(0===i||1===i)&&0===n){var p=e.subarray(r,r+d);(t=new z).audio_object_type=o+1,t.sampling_freq_index=s,t.sampling_frequency=U[s],t.channel_config=l,t.data=p}}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),G=function(){function e(e){this.TAG="AACLOASParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not found LOAS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,r=this.data_;;){if(t+1>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if(695==(r[t+0]<<3|r[t+1]>>>5))return t;t++}},e.prototype.getLATMValue=function(e){for(var t=e.readBits(2),r=0,i=0;i<=t;i++)r<<=8,r|=e.readByte();return r},e.prototype.readNextAACFrame=function(e){for(var t=this.data_,r=null;null==r&&!this.eof_flag_;){var i=this.current_syncword_offset_,n=(31&t[i+1])<<8|t[i+2];if(i+3+n>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var o=new f(t.subarray(i+3,i+3+n)),s=null;if(o.readBool()){if(null==e){a.a.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(i+3+n),o.destroy();continue}s=e}else{var l=o.readBool();if(l&&o.readBool()){a.a.e(this.TAG,"audioMuxVersionA is Not Supported"),o.destroy();break}if(l&&this.getLATMValue(o),!o.readBool()){a.a.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),o.destroy();break}if(0!==o.readBits(6)){a.a.e(this.TAG,"more than 2 numSubFrames Not Supported"),o.destroy();break}if(0!==o.readBits(4)){a.a.e(this.TAG,"more than 2 numProgram Not Supported"),o.destroy();break}if(0!==o.readBits(3)){a.a.e(this.TAG,"more than 2 numLayer Not Supported"),o.destroy();break}var u=l?this.getLATMValue(o):0,c=o.readBits(5);u-=5;var d=o.readBits(4);u-=4;var h=o.readBits(4);u-=4,o.readBits(3),(u-=3)>0&&o.readBits(u);var p=o.readBits(3);if(0!==p){a.a.e(this.TAG,"frameLengthType = "+p+". Only frameLengthType = 0 Supported"),o.destroy();break}o.readByte();var m=o.readBool();if(m)if(l)this.getLATMValue(o);else{for(var g=0;;){g<<=8;var y=o.readBool();if(g+=o.readByte(),!y)break}console.log(g)}o.readBool()&&o.readByte(),(s=new V).audio_object_type=c,s.sampling_freq_index=d,s.sampling_frequency=U[s.sampling_freq_index],s.channel_config=h,s.other_data_present=m}for(var _=0;;){var v=o.readByte();if(_+=v,255!==v)break}for(var b=new Uint8Array(_),w=0;w<_;w++)b[w]=o.readByte();(r=new V).audio_object_type=s.audio_object_type,r.sampling_freq_index=s.sampling_freq_index,r.sampling_frequency=U[s.sampling_freq_index],r.channel_config=s.channel_config,r.other_data_present=s.other_data_present,r.data=b,this.current_syncword_offset_=this.findNextSyncwordOffset(i+3+n)}return r},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),q=function(e){var t=null,r=e.audio_object_type,i=e.audio_object_type,n=e.sampling_freq_index,a=e.channel_config,o=0,s=navigator.userAgent.toLowerCase();-1!==s.indexOf("firefox")?n>=6?(i=5,t=new Array(4),o=n-3):(i=2,t=new Array(2),o=n):-1!==s.indexOf("android")?(i=2,t=new Array(2),o=n):(i=5,o=n,t=new Array(4),n>=6?o=n-3:1===a&&(i=2,t=new Array(2),o=n)),t[0]=i<<3,t[0]|=(15&n)>>>1,t[1]=(15&n)<<7,t[1]|=(15&a)<<3,5===i&&(t[1]|=(15&o)>>>1,t[2]=(1&o)<<7,t[2]|=8,t[3]=0),this.config=t,this.sampling_rate=U[n],this.channel_count=a,this.codec_mimetype="mp4a.40."+i,this.original_codec_mimetype="mp4a.40."+r},W=function(){},Y=function(){};!function(e){e[e.kSpliceNull=0]="kSpliceNull",e[e.kSpliceSchedule=4]="kSpliceSchedule",e[e.kSpliceInsert=5]="kSpliceInsert",e[e.kTimeSignal=6]="kTimeSignal",e[e.kBandwidthReservation=7]="kBandwidthReservation",e[e.kPrivateCommand=255]="kPrivateCommand"}(N||(N={}));var $,Z=function(e){var t=e.readBool();return t?(e.readBits(6),{time_specified_flag:t,pts_time:4*e.readBits(31)+e.readBits(2)}):(e.readBits(7),{time_specified_flag:t})},K=function(e){var t=e.readBool();return e.readBits(6),{auto_return:t,duration:4*e.readBits(31)+e.readBits(2)}},X=function(e,t){var r=t.readBits(8);return e?{component_tag:r}:{component_tag:r,splice_time:Z(t)}},Q=function(e){return{component_tag:e.readBits(8),utc_splice_time:e.readBits(32)}},J=function(e){var t=e.readBits(32),r=e.readBool();e.readBits(7);var i={splice_event_id:t,splice_event_cancel_indicator:r};if(r)return i;if(i.out_of_network_indicator=e.readBool(),i.program_splice_flag=e.readBool(),i.duration_flag=e.readBool(),e.readBits(5),i.program_splice_flag)i.utc_splice_time=e.readBits(32);else{i.component_count=e.readBits(8),i.components=[];for(var n=0;n<i.component_count;n++)i.components.push(Q(e))}return i.duration_flag&&(i.break_duration=K(e)),i.unique_program_id=e.readBits(16),i.avail_num=e.readBits(8),i.avails_expected=e.readBits(8),i},ee=function(e,t,r,i){return{descriptor_tag:e,descriptor_length:t,identifier:r,provider_avail_id:i.readBits(32)}},te=function(e,t,r,i){var n=i.readBits(8),a=i.readBits(3);i.readBits(5);for(var o="",s=0;s<a;s++)o+=String.fromCharCode(i.readBits(8));return{descriptor_tag:e,descriptor_length:t,identifier:r,preroll:n,dtmf_count:a,DTMF_char:o}},re=function(e){var t=e.readBits(8);return e.readBits(7),{component_tag:t,pts_offset:4*e.readBits(31)+e.readBits(2)}},ie=function(e,t,r,i){var n=i.readBits(32),a=i.readBool();i.readBits(7);var o={descriptor_tag:e,descriptor_length:t,identifier:r,segmentation_event_id:n,segmentation_event_cancel_indicator:a};if(a)return o;if(o.program_segmentation_flag=i.readBool(),o.segmentation_duration_flag=i.readBool(),o.delivery_not_restricted_flag=i.readBool(),o.delivery_not_restricted_flag?i.readBits(5):(o.web_delivery_allowed_flag=i.readBool(),o.no_regional_blackout_flag=i.readBool(),o.archive_allowed_flag=i.readBool(),o.device_restrictions=i.readBits(2)),!o.program_segmentation_flag){o.component_count=i.readBits(8),o.components=[];for(var s=0;s<o.component_count;s++)o.components.push(re(i))}o.segmentation_duration_flag&&(o.segmentation_duration=i.readBits(40)),o.segmentation_upid_type=i.readBits(8),o.segmentation_upid_length=i.readBits(8);var l=new Uint8Array(o.segmentation_upid_length);for(s=0;s<o.segmentation_upid_length;s++)l[s]=i.readBits(8);return o.segmentation_upid=l.buffer,o.segmentation_type_id=i.readBits(8),o.segment_num=i.readBits(8),o.segments_expected=i.readBits(8),52!==o.segmentation_type_id&&54!==o.segmentation_type_id&&56!==o.segmentation_type_id&&58!==o.segmentation_type_id||(o.sub_segment_num=i.readBits(8),o.sub_segments_expected=i.readBits(8)),o},ne=function(e,t,r,i){return{descriptor_tag:e,descriptor_length:t,identifier:r,TAI_seconds:i.readBits(48),TAI_ns:i.readBits(32),UTC_offset:i.readBits(16)}},ae=function(e){return{component_tag:e.readBits(8),ISO_code:String.fromCharCode(e.readBits(8),e.readBits(8),e.readBits(8)),Bit_Stream_Mode:e.readBits(3),Num_Channels:e.readBits(4),Full_Srvc_Audio:e.readBool()}},oe=function(e,t,r,i){for(var n=i.readBits(4),a=[],o=0;o<n;o++)a.push(ae(i));return{descriptor_tag:e,descriptor_length:t,identifier:r,audio_count:n,components:a}};!function(e){e[e.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",e[e.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",e[e.kSliceCRA_NUT=21]="kSliceCRA_NUT",e[e.kSliceVPS=32]="kSliceVPS",e[e.kSliceSPS=33]="kSliceSPS",e[e.kSlicePPS=34]="kSlicePPS",e[e.kSliceAUD=35]="kSliceAUD"}($||($={}));var se=function(){},le=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},ue=function(){function e(e){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,r=this.data_;;){if(t+3>=r.byteLength)return this.eof_flag_=!0,r.byteLength;var i=r[t+0]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3],n=r[t+0]<<16|r[t+1]<<8|r[t+2];if(1===i||1===n)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var r=this.current_startcode_offset_,i=e[r+=1==(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])?4:3]>>1&63,n=(128&e[r])>>>7,a=this.findNextStartCodeOffset(r);if(this.current_startcode_offset_=a,0===n){var o=e.subarray(r,a);(t=new se).type=i,t.data=o}}return t},e}(),ce=function(){function e(e,t,r,i){var n=23+(5+e.byteLength)+(5+t.byteLength)+(5+r.byteLength),a=this.data=new Uint8Array(n);a[0]=1,a[1]=(3&i.general_profile_space)<<6|(i.general_tier_flag?1:0)<<5|31&i.general_profile_idc,a[2]=i.general_profile_compatibility_flags_1,a[3]=i.general_profile_compatibility_flags_2,a[4]=i.general_profile_compatibility_flags_3,a[5]=i.general_profile_compatibility_flags_4,a[6]=i.general_constraint_indicator_flags_1,a[7]=i.general_constraint_indicator_flags_2,a[8]=i.general_constraint_indicator_flags_3,a[9]=i.general_constraint_indicator_flags_4,a[10]=i.general_constraint_indicator_flags_5,a[11]=i.general_constraint_indicator_flags_6,a[12]=i.general_level_idc,a[13]=240|(3840&i.min_spatial_segmentation_idc)>>8,a[14]=255&i.min_spatial_segmentation_idc,a[15]=252|3&i.parallelismType,a[16]=252|3&i.chroma_format_idc,a[17]=248|7&i.bit_depth_luma_minus8,a[18]=248|7&i.bit_depth_chroma_minus8,a[19]=0,a[20]=0,a[21]=(3&i.constant_frame_rate)<<6|(7&i.num_temporal_layers)<<3|(i.temporal_id_nested?1:0)<<2|3,a[22]=3,a[23]=128|$.kSliceVPS,a[24]=0,a[25]=1,a[26]=(65280&e.byteLength)>>8,a[27]=255&e.byteLength,a.set(e,28),a[23+(5+e.byteLength)+0]=128|$.kSliceSPS,a[23+(5+e.byteLength)+1]=0,a[23+(5+e.byteLength)+2]=1,a[23+(5+e.byteLength)+3]=(65280&t.byteLength)>>8,a[23+(5+e.byteLength)+4]=255&t.byteLength,a.set(t,23+(5+e.byteLength)+5),a[23+(5+e.byteLength+5+t.byteLength)+0]=128|$.kSlicePPS,a[23+(5+e.byteLength+5+t.byteLength)+1]=0,a[23+(5+e.byteLength+5+t.byteLength)+2]=1,a[23+(5+e.byteLength+5+t.byteLength)+3]=(65280&r.byteLength)>>8,a[23+(5+e.byteLength+5+t.byteLength)+4]=255&r.byteLength,a.set(r,23+(5+e.byteLength+5+t.byteLength)+5)}return e.prototype.getData=function(){return this.data},e}(),de=function(){},he=function(){},pe=function(){},fe=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]],me=function(){function e(e){this.TAG="AC3Parser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&a.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,r=this.data_;;){if(t+7>=r.byteLength)return this.eof_flag_=!0,r.byteLength;if(2935==(r[t+0]<<8|r[t+1]))return t;t++}},e.prototype.readNextAC3Frame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var r=this.current_syncword_offset_,i=e[r+4]>>6,n=[48e3,44200,33e3][i],a=63&e[r+4],o=2*fe[i][a];if(r+o>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var s=this.findNextSyncwordOffset(r+o);this.current_syncword_offset_=s;var l=e[r+5]>>3,u=7&e[r+5],c=e[r+6]>>5,d=0;!!(1&c)&&1!==c&&(d+=2),!!(4&c)&&(d+=2),2===c&&(d+=2);var h=(e[r+6]<<8|e[r+7])>>12-d&1,p=[2,1,2,3,3,4,4,5][c]+h;(t=new pe).sampling_frequency=n,t.channel_count=p,t.channel_mode=c,t.bit_stream_identification=l,t.low_frequency_effects_channel_on=h,t.bit_stream_mode=u,t.frame_size_code=a,t.data=e.subarray(r,r+o)}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),ge=function(e){var t;t=[e.sampling_rate_code<<6|e.bit_stream_identification<<1|e.bit_stream_mode>>2,(3&e.bit_stream_mode)<<6|e.channel_mode<<3|e.low_frequency_effects_channel_on<<2|e.frame_size_code>>4,e.frame_size_code<<4&224],this.config=t,this.sampling_rate=e.sampling_frequency,this.bit_stream_identification=e.bit_stream_identification,this.bit_stream_mode=e.bit_stream_mode,this.low_frequency_effects_channel_on=e.low_frequency_effects_channel_on,this.channel_count=e.channel_count,this.channel_mode=e.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"},ye=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),_e=function(){return(_e=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},ve=function(e){function t(t,r){var i=e.call(this)||this;return i.TAG="TSDemuxer",i.first_parse_=!0,i.media_info_=new s.a,i.timescale_=90,i.duration_=0,i.current_pmt_pid_=-1,i.program_pmt_map_={},i.pes_slice_queues_={},i.section_slice_queues_={},i.video_metadata_={vps:void 0,sps:void 0,pps:void 0,details:void 0},i.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},i.aac_last_sample_pts_=void 0,i.aac_last_incomplete_data_=null,i.has_video_=!1,i.has_audio_=!1,i.video_init_segment_dispatched_=!1,i.audio_init_segment_dispatched_=!1,i.video_metadata_changed_=!1,i.audio_metadata_changed_=!1,i.loas_previous_frame=null,i.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},i.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},i.ts_packet_size_=t.ts_packet_size,i.sync_offset_=t.sync_offset,i.config_=r,i}return ye(t,e),t.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,e.prototype.destroy.call(this)},t.probe=function(e){var t=new Uint8Array(e),r=-1,i=188;if(t.byteLength<=3*i)return{needMoreData:!0};for(;-1===r;){for(var n=Math.min(1e3,t.byteLength-3*i),o=0;o<n;){if(71===t[o]&&71===t[o+i]&&71===t[o+2*i]){r=o;break}o++}if(-1===r)if(188===i)i=192;else{if(192!==i)break;i=204}}return-1===r?{match:!1}:(192===i&&r>=4?(a.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),r-=4):204===i&&a.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:i,sync_offset:r})},t.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},t.prototype.resetMediaInfo=function(){this.media_info_=new s.a},t.prototype.parseChunks=function(e,t){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new d.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var r=0;for(this.first_parse_&&(this.first_parse_=!1,r=this.sync_offset_);r+this.ts_packet_size_<=e.byteLength;){var i=t+r;192===this.ts_packet_size_&&(r+=4);var n=new Uint8Array(e,r,188),o=n[0];if(71!==o){a.a.e(this.TAG,"sync_byte = "+o+", not 0x47");break}var s=(64&n[1])>>>6,l=(n[1],(31&n[1])<<8|n[2]),u=(48&n[3])>>>4,c=15&n[3],h={},p=4;if(2==u||3==u){var f=n[4];if(5+f===188){r+=188,204===this.ts_packet_size_&&(r+=16);continue}f>0&&(h=this.parseAdaptationField(e,r+4,1+f)),p=5+f}if(1==u||3==u)if(0===l||l===this.current_pmt_pid_||null!=this.pmt_&&this.pmt_.pid_stream_type[l]===w.kSCTE35){var m=188-p;this.handleSectionSlice(e,r+p,m,{pid:l,file_position:i,payload_unit_start_indicator:s,continuity_conunter:c,random_access_indicator:h.random_access_indicator})}else if(null!=this.pmt_&&null!=this.pmt_.pid_stream_type[l]){m=188-p;var g=this.pmt_.pid_stream_type[l];l!==this.pmt_.common_pids.h264&&l!==this.pmt_.common_pids.h265&&l!==this.pmt_.common_pids.adts_aac&&l!==this.pmt_.common_pids.loas_aac&&l!==this.pmt_.common_pids.ac3&&l!==this.pmt_.common_pids.opus&&l!==this.pmt_.common_pids.mp3&&!0!==this.pmt_.pes_private_data_pids[l]&&!0!==this.pmt_.timed_id3_pids[l]||this.handlePESSlice(e,r+p,m,{pid:l,stream_type:g,file_position:i,payload_unit_start_indicator:s,continuity_conunter:c,random_access_indicator:h.random_access_indicator})}r+=188,204===this.ts_packet_size_&&(r+=16)}return this.dispatchAudioVideoMediaSegment(),r},t.prototype.parseAdaptationField=function(e,t,r){var i=new Uint8Array(e,t,r),n=i[0];return n>0?n>183?(a.a.w(this.TAG,"Illegal adaptation_field_length: "+n),{}):{discontinuity_indicator:(128&i[1])>>>7,random_access_indicator:(64&i[1])>>>6,elementary_stream_priority_indicator:(32&i[1])>>>5}:{}},t.prototype.handleSectionSlice=function(e,t,r,i){var n=new Uint8Array(e,t,r),a=this.section_slice_queues_[i.pid];if(i.payload_unit_start_indicator){var o=n[0];if(null!=a&&0!==a.total_length){var s=new Uint8Array(e,t+1,Math.min(r,o));a.slices.push(s),a.total_length+=s.byteLength,a.total_length===a.expected_length?this.emitSectionSlices(a,i):this.clearSlices(a,i)}for(var l=1+o;l<n.byteLength&&255!==n[l+0];){var u=(15&n[l+1])<<8|n[l+2];this.section_slice_queues_[i.pid]=new R,(a=this.section_slice_queues_[i.pid]).expected_length=u+3,a.file_position=i.file_position,a.random_access_indicator=i.random_access_indicator,s=new Uint8Array(e,t+l,Math.min(r-l,a.expected_length-a.total_length)),a.slices.push(s),a.total_length+=s.byteLength,a.total_length===a.expected_length?this.emitSectionSlices(a,i):a.total_length>=a.expected_length&&this.clearSlices(a,i),l+=s.byteLength}}else null!=a&&0!==a.total_length&&(s=new Uint8Array(e,t,Math.min(r,a.expected_length-a.total_length)),a.slices.push(s),a.total_length+=s.byteLength,a.total_length===a.expected_length?this.emitSectionSlices(a,i):a.total_length>=a.expected_length&&this.clearSlices(a,i))},t.prototype.handlePESSlice=function(e,t,r,i){var n=new Uint8Array(e,t,r),o=n[0]<<16|n[1]<<8|n[2],s=(n[3],n[4]<<8|n[5]);if(i.payload_unit_start_indicator){if(1!==o)return void a.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value "+o);var l=this.pes_slice_queues_[i.pid];l&&(0===l.expected_length||l.expected_length===l.total_length?this.emitPESSlices(l,i):this.clearSlices(l,i)),this.pes_slice_queues_[i.pid]=new R,this.pes_slice_queues_[i.pid].file_position=i.file_position,this.pes_slice_queues_[i.pid].random_access_indicator=i.random_access_indicator}if(null!=this.pes_slice_queues_[i.pid]){var u=this.pes_slice_queues_[i.pid];u.slices.push(n),i.payload_unit_start_indicator&&(u.expected_length=0===s?0:s+6),u.total_length+=n.byteLength,u.expected_length>0&&u.expected_length===u.total_length?this.emitPESSlices(u,i):u.expected_length>0&&u.expected_length<u.total_length&&this.clearSlices(u,i)}},t.prototype.emitSectionSlices=function(e,t){for(var r=new Uint8Array(e.total_length),i=0,n=0;i<e.slices.length;i++){var a=e.slices[i];r.set(a,n),n+=a.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new L;o.pid=t.pid,o.data=r,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parseSection(o)},t.prototype.emitPESSlices=function(e,t){for(var r=new Uint8Array(e.total_length),i=0,n=0;i<e.slices.length;i++){var a=e.slices[i];r.set(a,n),n+=a.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var o=new M;o.pid=t.pid,o.data=r,o.stream_type=t.stream_type,o.file_position=e.file_position,o.random_access_indicator=e.random_access_indicator,this.parsePES(o)},t.prototype.clearSlices=function(e,t){e.slices=[],e.expected_length=-1,e.total_length=0},t.prototype.parseSection=function(e){var t=e.data,r=e.pid;0===r?this.parsePAT(t):r===this.current_pmt_pid_?this.parsePMT(t):null!=this.pmt_&&this.pmt_.scte_35_pids[r]&&this.parseSCTE35(t)},t.prototype.parsePES=function(e){var t=e.data,r=t[0]<<16|t[1]<<8|t[2],i=t[3],n=t[4]<<8|t[5];if(1===r)if(188!==i&&190!==i&&191!==i&&240!==i&&241!==i&&255!==i&&242!==i&&248!==i){t[6];var o=(192&t[7])>>>6,s=t[8],l=void 0,u=void 0;2!==o&&3!==o||(l=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,u=3===o?536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2:l);var c=9+s,d=void 0;if(0!==n){if(n<3+s)return void a.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");d=n-3-s}else d=t.byteLength-c;var h=t.subarray(c,c+d);switch(e.stream_type){case w.kMPEG1Audio:case w.kMPEG2Audio:this.parseMP3Payload(h,l);break;case w.kPESPrivateData:this.pmt_.common_pids.opus===e.pid?this.parseOpusPayload(h,l):this.pmt_.common_pids.ac3===e.pid?this.parseAC3Payload(h,l):this.pmt_.smpte2038_pids[e.pid]?this.parseSMPTE2038MetadataPayload(h,l,u,e.pid,i):this.parsePESPrivateDataPayload(h,l,u,e.pid,i);break;case w.kADTSAAC:this.parseADTSAACPayload(h,l);break;case w.kLOASAAC:this.parseLOASAACPayload(h,l);break;case w.kAC3:this.parseAC3Payload(h,l);break;case w.kID3:this.parseTimedID3MetadataPayload(h,l,u,e.pid,i);break;case w.kH264:this.parseH264Payload(h,l,u,e.file_position,e.random_access_indicator);break;case w.kH265:this.parseH265Payload(h,l,u,e.file_position,e.random_access_indicator)}}else 188!==i&&191!==i&&240!==i&&241!==i&&255!==i&&242!==i&&248!==i||e.stream_type!==w.kPESPrivateData||(c=6,d=void 0,d=0!==n?n:t.byteLength-c,h=t.subarray(c,c+d),this.parsePESPrivateDataPayload(h,void 0,void 0,e.pid,i));else a.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value "+r)},t.prototype.parsePAT=function(e){var t=e[0];if(0===t){var r=(15&e[1])<<8|e[2],i=(e[3],e[4],(62&e[5])>>>1),n=1&e[5],o=e[6],s=(e[7],null);if(1===n&&0===o)(s=new x).version_number=i;else if(null==(s=this.pat_))return;for(var l=r-5-4,u=-1,c=-1,d=8;d<8+l;d+=4){var h=e[d]<<8|e[d+1],p=(31&e[d+2])<<8|e[d+3];0===h?s.network_pid=p:(s.program_pmt_pid[h]=p,-1===u&&(u=h),-1===c&&(c=p))}1===n&&0===o&&(null==this.pat_&&a.a.v(this.TAG,"Parsed first PAT: "+JSON.stringify(s)),this.pat_=s,this.current_program_=u,this.current_pmt_pid_=c)}else a.a.e(this.TAG,"parsePAT: table_id "+t+" is not corresponded to PAT!")},t.prototype.parsePMT=function(e){var t=e[0];if(2===t){var r=(15&e[1])<<8|e[2],i=e[3]<<8|e[4],n=(62&e[5])>>>1,o=1&e[5],s=e[6],l=(e[7],null);if(1===o&&0===s)(l=new T).program_number=i,l.version_number=n,this.program_pmt_map_[i]=l;else if(null==(l=this.program_pmt_map_[i]))return;e[8],e[9];for(var u=(15&e[10])<<8|e[11],c=12+u,d=r-9-u-4,h=c;h<c+d;){var p=e[h],f=(31&e[h+1])<<8|e[h+2],m=(15&e[h+3])<<8|e[h+4];l.pid_stream_type[f]=p;var g=l.common_pids.h264||l.common_pids.h265,y=l.common_pids.adts_aac||l.common_pids.loas_aac||l.common_pids.ac3||l.common_pids.opus||l.common_pids.mp3;if(p!==w.kH264||g)if(p!==w.kH265||g)if(p!==w.kADTSAAC||y)if(p!==w.kLOASAAC||y)if(p!==w.kAC3||y)if(p!==w.kMPEG1Audio&&p!==w.kMPEG2Audio||y)if(p===w.kPESPrivateData){if(l.pes_private_data_pids[f]=!0,m>0){for(var _=h+5;_<h+5+m;){var v=e[_+0],b=e[_+1];if(5===v){var S=String.fromCharCode.apply(String,Array.from(e.subarray(_+2,_+2+b)));"VANC"===S?l.smpte2038_pids[f]=!0:"Opus"===S&&(l.common_pids.opus=f)}else if(127===v&&f===l.common_pids.opus){var E=null;if(128===e[_+2]&&(E=e[_+3]),null==E){a.a.e(this.TAG,"Not Supported Opus channel count.");continue}var A={codec:"opus",channel_count:15&E?15&E:2,channel_config_code:E,sample_rate:48e3},x={codec:"opus",meta:A};0==this.audio_init_segment_dispatched_?(this.audio_metadata_=A,this.dispatchAudioInitSegment(x)):this.detectAudioMetadataChange(x)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(x))}_+=2+b}var k=e.subarray(h+5,h+5+m);this.dispatchPESPrivateDataDescriptor(f,p,k)}}else p===w.kID3?l.timed_id3_pids[f]=!0:p===w.kSCTE35&&(l.scte_35_pids[f]=!0);else l.common_pids.mp3=f;else l.common_pids.ac3=f;else l.common_pids.loas_aac=f;else l.common_pids.adts_aac=f;else l.common_pids.h265=f;else l.common_pids.h264=f;h+=5+m}i===this.current_program_&&(null==this.pmt_&&a.a.v(this.TAG,"Parsed first PMT: "+JSON.stringify(l)),this.pmt_=l,(l.common_pids.h264||l.common_pids.h265)&&(this.has_video_=!0),(l.common_pids.adts_aac||l.common_pids.loas_aac||l.common_pids.ac3||l.common_pids.opus||l.common_pids.mp3)&&(this.has_audio_=!0))}else a.a.e(this.TAG,"parsePMT: table_id "+t+" is not corresponded to PMT!")},t.prototype.parseSCTE35=function(e){var t=function(e){var t=new f(e),r=t.readBits(8),i=t.readBool(),n=t.readBool();t.readBits(2);var a=t.readBits(12),o=t.readBits(8),s=t.readBool(),l=t.readBits(6),u=4*t.readBits(31)+t.readBits(2),c=t.readBits(8),d=t.readBits(12),h=t.readBits(12),p=t.readBits(8),m=null;p===N.kSpliceNull?m={}:p===N.kSpliceSchedule?m=function(e){for(var t=e.readBits(8),r=[],i=0;i<t;i++)r.push(J(e));return{splice_count:t,events:r}}(t):p===N.kSpliceInsert?m=function(e){var t=e.readBits(32),r=e.readBool();e.readBits(7);var i={splice_event_id:t,splice_event_cancel_indicator:r};if(r)return i;if(i.out_of_network_indicator=e.readBool(),i.program_splice_flag=e.readBool(),i.duration_flag=e.readBool(),i.splice_immediate_flag=e.readBool(),e.readBits(4),i.program_splice_flag&&!i.splice_immediate_flag&&(i.splice_time=Z(e)),!i.program_splice_flag){i.component_count=e.readBits(8),i.components=[];for(var n=0;n<i.component_count;n++)i.components.push(X(i.splice_immediate_flag,e))}return i.duration_flag&&(i.break_duration=K(e)),i.unique_program_id=e.readBits(16),i.avail_num=e.readBits(8),i.avails_expected=e.readBits(8),i}(t):p===N.kTimeSignal?m=function(e){return{splice_time:Z(e)}}(t):p===N.kBandwidthReservation?m={}:p===N.kPrivateCommand?m=function(e,t){for(var r=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8)),i=new Uint8Array(e-4),n=0;n<e-4;n++)i[n]=t.readBits(8);return{identifier:r,private_data:i.buffer}}(h,t):t.readBits(8*h);for(var g=[],y=t.readBits(16),_=0;_<y;){var v=t.readBits(8),b=t.readBits(8),w=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8));0===v?g.push(ee(v,b,w,t)):1===v?g.push(te(v,b,w,t)):2===v?g.push(ie(v,b,w,t)):3===v?g.push(ne(v,b,w,t)):4===v?g.push(oe(v,b,w,t)):t.readBits(8*(b-4)),_+=2+b}var S={table_id:r,section_syntax_indicator:i,private_indicator:n,section_length:a,protocol_version:o,encrypted_packet:s,encryption_algorithm:l,pts_adjustment:u,cw_index:c,tier:d,splice_command_length:h,splice_command_type:p,splice_command:m,descriptor_loop_length:y,splice_descriptors:g,E_CRC32:s?t.readBits(32):void 0,CRC32:t.readBits(32)};if(p===N.kSpliceInsert){var E=m;if(E.splice_event_cancel_indicator)return{splice_command_type:p,detail:S,data:e};if(E.program_splice_flag&&!E.splice_immediate_flag){var A=E.duration_flag?E.break_duration.auto_return:void 0,x=E.duration_flag?E.break_duration.duration/90:void 0;return E.splice_time.time_specified_flag?{splice_command_type:p,pts:(u+E.splice_time.pts_time)%Math.pow(2,33),auto_return:A,duraiton:x,detail:S,data:e}:{splice_command_type:p,auto_return:A,duraiton:x,detail:S,data:e}}return{splice_command_type:p,auto_return:A=E.duration_flag?E.break_duration.auto_return:void 0,duraiton:x=E.duration_flag?E.break_duration.duration/90:void 0,detail:S,data:e}}if(p===N.kTimeSignal){var k=m;return k.splice_time.time_specified_flag?{splice_command_type:p,pts:(u+k.splice_time.pts_time)%Math.pow(2,33),detail:S,data:e}:{splice_command_type:p,detail:S,data:e}}return{splice_command_type:p,detail:S,data:e}}(e);if(null!=t.pts){var r=Math.floor(t.pts/this.timescale_);t.pts=r}else t.nearest_pts=this.aac_last_sample_pts_;this.onSCTE35Metadata&&this.onSCTE35Metadata(t)},t.prototype.parseH264Payload=function(e,t,r,i,n){for(var o=new j(e),s=null,l=[],u=0,c=!1;null!=(s=o.readNextNaluPayload());){var d=new O(s);if(d.type===k.kSliceSPS){var h=m.parseSPS(s.data);this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(d,h)&&(a.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:d,pps:void 0,details:h}):(this.video_metadata_.sps=d,this.video_metadata_.details=h)}else d.type===k.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=d,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(d.type===k.kSliceIDR||d.type===k.kSliceNonIDR&&1===n)&&(c=!0);this.video_init_segment_dispatched_&&(l.push(d),u+=d.data.byteLength)}var p=Math.floor(t/this.timescale_),f=Math.floor(r/this.timescale_);if(l.length){var g=this.video_track_,y={units:l,length:u,isKeyframe:c,dts:f,pts:p,cts:p-f,file_position:i};g.samples.push(y),g.length+=u}},t.prototype.parseH265Payload=function(e,t,r,i,n){for(var o=new ue(e),s=null,l=[],u=0,c=!1;null!=(s=o.readNextNaluPayload());){var d=new le(s);if(d.type===$.kSliceVPS){if(!this.video_init_segment_dispatched_){var h=y.parseVPS(s.data);this.video_metadata_.vps=d,this.video_metadata_.details=_e(_e({},this.video_metadata_.details),h)}}else d.type===$.kSliceSPS?(h=y.parseSPS(s.data),this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(d,h)&&(a.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:d,pps:void 0,details:h}):(this.video_metadata_.sps=d,this.video_metadata_.details=_e(_e({},this.video_metadata_.details),h))):d.type===$.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(h=y.parsePPS(s.data),this.video_metadata_.pps=d,this.video_metadata_.details=_e(_e({},this.video_metadata_.details),h),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):d.type!==$.kSliceIDR_W_RADL&&d.type!==$.kSliceIDR_N_LP&&d.type!==$.kSliceCRA_NUT||(c=!0);this.video_init_segment_dispatched_&&(l.push(d),u+=d.data.byteLength)}var p=Math.floor(t/this.timescale_),f=Math.floor(r/this.timescale_);if(l.length){var m=this.video_track_,g={units:l,length:u,isKeyframe:c,dts:f,pts:p,cts:p-f,file_position:i};m.samples.push(g),m.length+=u}},t.prototype.detectVideoMetadataChange=function(e,t){if(t.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return a.a.v(this.TAG,"Video: Codec mimeType changed from "+this.video_metadata_.details.codec_mimetype+" to "+t.codec_mimetype),!0;if(t.codec_size.width!==this.video_metadata_.details.codec_size.width||t.codec_size.height!==this.video_metadata_.details.codec_size.height){var r=this.video_metadata_.details.codec_size,i=t.codec_size;return a.a.v(this.TAG,"Video: Coded Resolution changed from "+r.width+"x"+r.height+" to "+i.width+"x"+i.height),!0}return t.present_size.width!==this.video_metadata_.details.present_size.width&&(a.a.v(this.TAG,"Video: Present resolution width changed from "+this.video_metadata_.details.present_size.width+" to "+t.present_size.width),!0)},t.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},t.prototype.dispatchVideoInitSegment=function(){var e=this.video_metadata_.details,t={type:"video"};t.id=this.video_track_.id,t.timescale=1e3,t.duration=this.duration_,t.codecWidth=e.codec_size.width,t.codecHeight=e.codec_size.height,t.presentWidth=e.present_size.width,t.presentHeight=e.present_size.height,t.profile=e.profile_string,t.level=e.level_string,t.bitDepth=e.bit_depth,t.chromaFormat=e.chroma_format,t.sarRatio=e.sar_ratio,t.frameRate=e.frame_rate;var r=t.frameRate.fps_den,i=t.frameRate.fps_num;if(t.refSampleDuration=r/i*1e3,t.codec=e.codec_mimetype,this.video_metadata_.vps){var n=this.video_metadata_.vps.data.subarray(4),o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4),l=new ce(n,o,s,e);t.hvcc=l.getData(),0==this.video_init_segment_dispatched_&&a.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: "+t.codec)}else{o=this.video_metadata_.sps.data.subarray(4),s=this.video_metadata_.pps.data.subarray(4);var u=new P(o,s,e);t.avcc=u.getData(),0==this.video_init_segment_dispatched_&&a.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: "+t.codec)}this.onTrackMetadata("video",t),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var c=this.media_info_;c.hasVideo=!0,c.width=t.codecWidth,c.height=t.codecHeight,c.fps=t.frameRate.fps,c.profile=t.profile,c.level=t.level,c.refFrames=e.ref_frames,c.chromaFormat=e.chroma_format_string,c.sarNum=t.sarRatio.width,c.sarDen=t.sarRatio.height,c.videoCodec=t.codec,c.hasAudio&&c.audioCodec?c.mimeType='video/mp2t; codecs="'+c.videoCodec+","+c.audioCodec+'"':c.mimeType='video/mp2t; codecs="'+c.videoCodec+'"',c.isComplete()&&this.onMediaInfo(c)},t.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},t.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},t.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},t.prototype.parseADTSAACPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var r=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);r.set(this.aac_last_incomplete_data_,0),r.set(e,this.aac_last_incomplete_data_.byteLength),e=r}var i,n;if(null!=t&&(n=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.aac_last_sample_pts_)i=1024/this.audio_metadata_.sampling_frequency*1e3,n=this.aac_last_sample_pts_+i;else if(null==t)return void a.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){i=1024/this.audio_metadata_.sampling_frequency*1e3;var o=this.aac_last_sample_pts_+i;Math.abs(o-n)>1&&(a.a.w(this.TAG,"AAC: Detected pts overlapped, expected: "+o+"ms, PES pts: "+n+"ms"),n=o)}}for(var s,l=new H(e),u=null,c=n;null!=(u=l.readNextAACFrame());){i=1024/u.sampling_frequency*1e3;var d={codec:"aac",data:u};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:u.audio_object_type,sampling_freq_index:u.sampling_freq_index,sampling_frequency:u.sampling_frequency,channel_config:u.channel_config},this.dispatchAudioInitSegment(d)):this.detectAudioMetadataChange(d)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(d)),s=c;var h=Math.floor(c),p={unit:u.data,length:u.data.byteLength,pts:h,dts:h};this.audio_track_.samples.push(p),this.audio_track_.length+=u.data.byteLength,c+=i}l.hasIncompleteData()&&(this.aac_last_incomplete_data_=l.getIncompleteData()),s&&(this.aac_last_sample_pts_=s)}},t.prototype.parseLOASAACPayload=function(e,t){var r;if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var i=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);i.set(this.aac_last_incomplete_data_,0),i.set(e,this.aac_last_incomplete_data_.byteLength),e=i}var n,o;if(null!=t&&(o=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.aac_last_sample_pts_)n=1024/this.audio_metadata_.sampling_frequency*1e3,o=this.aac_last_sample_pts_+n;else if(null==t)return void a.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){n=1024/this.audio_metadata_.sampling_frequency*1e3;var s=this.aac_last_sample_pts_+n;Math.abs(s-o)>1&&(a.a.w(this.TAG,"AAC: Detected pts overlapped, expected: "+s+"ms, PES pts: "+o+"ms"),o=s)}}for(var l,u=new G(e),c=null,d=o;null!=(c=u.readNextAACFrame(null!==(r=this.loas_previous_frame)&&void 0!==r?r:void 0));){this.loas_previous_frame=c,n=1024/c.sampling_frequency*1e3;var h={codec:"aac",data:c};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:c.audio_object_type,sampling_freq_index:c.sampling_freq_index,sampling_frequency:c.sampling_frequency,channel_config:c.channel_config},this.dispatchAudioInitSegment(h)):this.detectAudioMetadataChange(h)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(h)),l=d;var p=Math.floor(d),f={unit:c.data,length:c.data.byteLength,pts:p,dts:p};this.audio_track_.samples.push(f),this.audio_track_.length+=c.data.byteLength,d+=n}u.hasIncompleteData()&&(this.aac_last_incomplete_data_=u.getIncompleteData()),l&&(this.aac_last_sample_pts_=l)}},t.prototype.parseAC3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var r,i;if(null!=t&&(i=t/this.timescale_),"ac-3"===this.audio_metadata_.codec)if(null==t&&null!=this.aac_last_sample_pts_)r=1536/this.audio_metadata_.sampling_frequency*1e3,i=this.aac_last_sample_pts_+r;else if(null==t)return void a.a.w(this.TAG,"Opus: Unknown pts");for(var n,o=new me(e),s=null,l=i;null!=(s=o.readNextAC3Frame());){r=1536/s.sampling_frequency*1e3;var u={codec:"ac-3",data:s};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"ac-3",sampling_frequency:s.sampling_frequency,bit_stream_identification:s.bit_stream_identification,bit_stream_mode:s.bit_stream_mode,low_frequency_effects_channel_on:s.low_frequency_effects_channel_on,channel_mode:s.channel_mode},console.log(JSON.stringify(this.audio_metadata_)),this.dispatchAudioInitSegment(u)):this.detectAudioMetadataChange(u)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(u)),n=l;var c=Math.floor(l),d={unit:s.data,length:s.data.byteLength,pts:c,dts:c};this.audio_track_.samples.push(d),this.audio_track_.length+=s.data.byteLength,l+=r}n&&(this.aac_last_sample_pts_=n)}},t.prototype.parseOpusPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var r,i;if(null!=t&&(i=t/this.timescale_),"opus"===this.audio_metadata_.codec)if(null==t&&null!=this.aac_last_sample_pts_)r=20,i=this.aac_last_sample_pts_+r;else if(null==t)return void a.a.w(this.TAG,"Opus: Unknown pts");for(var n,o=i,s=0;s<e.length;){r=20;for(var l=!!(16&e[s+1]),u=!!(8&e[s+1]),c=s+2,d=0;255===e[c];)d+=255,c+=1;d+=e[c],c+=1,c+=l?2:0,c+=u?2:0,n=o;var h=Math.floor(o),p=e.slice(c,c+d),f={unit:p,length:p.byteLength,pts:h,dts:h};this.audio_track_.samples.push(f),this.audio_track_.length+=p.byteLength,o+=r,s=c+d}n&&(this.aac_last_sample_pts_=n)}},t.prototype.parseMP3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var r=e[1]>>>3&3,i=(6&e[1])>>1,n=(e[2],(12&e[2])>>>2),a=3&~(e[3]>>>6)?2:1,o=0,s=34;switch(r){case 0:o=[11025,12e3,8e3,0][n];break;case 2:o=[22050,24e3,16e3,0][n];break;case 3:o=[44100,48e3,32e3,0][n]}switch(i){case 1:s=34;break;case 2:s=33;break;case 3:s=32}var l=new he;l.object_type=s,l.sample_rate=o,l.channel_count=a,l.data=e;var u={codec:"mp3",data:l};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"mp3",object_type:s,sample_rate:o,channel_count:a},this.dispatchAudioInitSegment(u)):this.detectAudioMetadataChange(u)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(u));var c={unit:e,length:e.byteLength,pts:t/this.timescale_,dts:t/this.timescale_};this.audio_track_.samples.push(c),this.audio_track_.length+=e.byteLength}},t.prototype.detectAudioMetadataChange=function(e){if(e.codec!==this.audio_metadata_.codec)return a.a.v(this.TAG,"Audio: Audio Codecs changed from "+this.audio_metadata_.codec+" to "+e.codec),!0;if("aac"===e.codec&&"aac"===this.audio_metadata_.codec){if((t=e.data).audio_object_type!==this.audio_metadata_.audio_object_type)return a.a.v(this.TAG,"AAC: AudioObjectType changed from "+this.audio_metadata_.audio_object_type+" to "+t.audio_object_type),!0;if(t.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return a.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+this.audio_metadata_.sampling_freq_index+" to "+t.sampling_freq_index),!0;if(t.channel_config!==this.audio_metadata_.channel_config)return a.a.v(this.TAG,"AAC: Channel configuration changed from "+this.audio_metadata_.channel_config+" to "+t.channel_config),!0}else if("ac-3"===e.codec&&"ac-3"===this.audio_metadata_.codec){var t;if((t=e.data).sampling_frequency!==this.audio_metadata_.sampling_frequency)return a.a.v(this.TAG,"AC3: Sampling Frequency changed from "+this.audio_metadata_.sampling_frequency+" to "+t.sampling_frequency),!0;if(t.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return a.a.v(this.TAG,"AC3: Bit Stream Identification changed from "+this.audio_metadata_.bit_stream_identification+" to "+t.bit_stream_identification),!0;if(t.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return a.a.v(this.TAG,"AC3: BitStream Mode changed from "+this.audio_metadata_.bit_stream_mode+" to "+t.bit_stream_mode),!0;if(t.channel_mode!==this.audio_metadata_.channel_mode)return a.a.v(this.TAG,"AC3: Channel Mode changed from "+this.audio_metadata_.channel_mode+" to "+t.channel_mode),!0;if(t.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return a.a.v(this.TAG,"AC3: Low Frequency Effects Channel On changed from "+this.audio_metadata_.low_frequency_effects_channel_on+" to "+t.low_frequency_effects_channel_on),!0}else if("opus"===e.codec&&"opus"===this.audio_metadata_.codec){if((r=e.meta).sample_rate!==this.audio_metadata_.sample_rate)return a.a.v(this.TAG,"Opus: SamplingFrequencyIndex changed from "+this.audio_metadata_.sample_rate+" to "+r.sample_rate),!0;if(r.channel_count!==this.audio_metadata_.channel_count)return a.a.v(this.TAG,"Opus: Channel count changed from "+this.audio_metadata_.channel_count+" to "+r.channel_count),!0}else if("mp3"===e.codec&&"mp3"===this.audio_metadata_.codec){var r;if((r=e.data).object_type!==this.audio_metadata_.object_type)return a.a.v(this.TAG,"MP3: AudioObjectType changed from "+this.audio_metadata_.object_type+" to "+r.object_type),!0;if(r.sample_rate!==this.audio_metadata_.sample_rate)return a.a.v(this.TAG,"MP3: SamplingFrequencyIndex changed from "+this.audio_metadata_.sample_rate+" to "+r.sample_rate),!0;if(r.channel_count!==this.audio_metadata_.channel_count)return a.a.v(this.TAG,"MP3: Channel count changed from "+this.audio_metadata_.channel_count+" to "+r.channel_count),!0}return!1},t.prototype.dispatchAudioInitSegment=function(e){var t={type:"audio"};if(t.id=this.audio_track_.id,t.timescale=1e3,t.duration=this.duration_,"aac"===this.audio_metadata_.codec){var r="aac"===e.codec?e.data:null,i=new q(r);t.audioSampleRate=i.sampling_rate,t.channelCount=i.channel_count,t.codec=i.codec_mimetype,t.originalCodec=i.original_codec_mimetype,t.config=i.config,t.refSampleDuration=1024/t.audioSampleRate*t.timescale}else if("ac-3"===this.audio_metadata_.codec){var n="ac-3"===e.codec?e.data:null,o=new ge(n);t.audioSampleRate=o.sampling_rate,t.channelCount=o.channel_count,t.codec=o.codec_mimetype,t.originalCodec=o.original_codec_mimetype,t.config=o.config,t.refSampleDuration=1536/t.audioSampleRate*t.timescale}else"opus"===this.audio_metadata_.codec?(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.channelConfigCode=this.audio_metadata_.channel_config_code,t.codec="opus",t.originalCodec="opus",t.config=void 0,t.refSampleDuration=20):"mp3"===this.audio_metadata_.codec&&(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.codec="mp3",t.originalCodec="mp3",t.config=void 0);0==this.audio_init_segment_dispatched_&&a.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: "+t.codec),this.onTrackMetadata("audio",t),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var s=this.media_info_;s.hasAudio=!0,s.audioCodec=t.originalCodec,s.audioSampleRate=t.audioSampleRate,s.audioChannelCount=t.channelCount,s.hasVideo&&s.videoCodec?s.mimeType='video/mp2t; codecs="'+s.videoCodec+","+s.audioCodec+'"':s.mimeType='video/mp2t; codecs="'+s.audioCodec+'"',s.isComplete()&&this.onMediaInfo(s)},t.prototype.dispatchPESPrivateDataDescriptor=function(e,t,r){var i=new Y;i.pid=e,i.stream_type=t,i.descriptor=r,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(i)},t.prototype.parsePESPrivateDataPayload=function(e,t,r,i,n){var a=new W;if(a.pid=i,a.stream_id=n,a.len=e.byteLength,a.data=e,null!=t){var o=Math.floor(t/this.timescale_);a.pts=o}else a.nearest_pts=this.aac_last_sample_pts_;if(null!=r){var s=Math.floor(r/this.timescale_);a.dts=s}this.onPESPrivateData&&this.onPESPrivateData(a)},t.prototype.parseTimedID3MetadataPayload=function(e,t,r,i,n){var a=new W;if(a.pid=i,a.stream_id=n,a.len=e.byteLength,a.data=e,null!=t){var o=Math.floor(t/this.timescale_);a.pts=o}if(null!=r){var s=Math.floor(r/this.timescale_);a.dts=s}this.onTimedID3Metadata&&this.onTimedID3Metadata(a)},t.prototype.parseSMPTE2038MetadataPayload=function(e,t,r,i,n){var a=new de;if(a.pid=i,a.stream_id=n,a.len=e.byteLength,a.data=e,null!=t){var o=Math.floor(t/this.timescale_);a.pts=o}if(a.nearest_pts=this.aac_last_sample_pts_,null!=r){var s=Math.floor(r/this.timescale_);a.dts=s}a.ancillaries=function(e){for(var t=new f(e),r=0,i=[];r+=6,0===t.readBits(6);){var n=t.readBool();r+=1;var a=t.readBits(11);r+=11;var o=t.readBits(12);r+=12;var s=255&t.readBits(10);r+=10;var l=255&t.readBits(10);r+=10;var u=255&t.readBits(10);r+=10;for(var c=new Uint8Array(u),d=0;d<u;d++){var h=255&t.readBits(10);r+=10,c[d]=h}t.readBits(10),r+=10;var p="User Defined";65===s?7===l&&(p="SCTE-104"):95===s?220===l?p="ARIB STD-B37 (1SEG)":221===l?p="ARIB STD-B37 (ANALOG)":222===l?p="ARIB STD-B37 (SD)":223===l&&(p="ARIB STD-B37 (HD)"):97===s&&(1===l?p="EIA-708":2===l&&(p="EIA-608")),i.push({yc_indicator:n,line_number:a,horizontal_offset:o,did:s,sdid:l,user_data:c,description:p,information:{}}),t.readBits(8-(r-Math.floor(r/8))%8),r+=(8-(r-Math.floor(r/8)))%8}return t.destroy(),t=null,i}(e),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(a)},t}(A),be=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=e.constants={};r.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),r.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),r.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSC=r.STCO=r.STTS,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),r.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,r=null,i=Array.prototype.slice.call(arguments,1),n=i.length,a=0;a<n;a++)t+=i[a].byteLength;(r=new Uint8Array(t))[0]=t>>>24&255,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r.set(e,4);var o=8;for(a=0;a<n;a++)r.set(i[a],o),o+=i[a].byteLength;return r},e.generateInitSegment=function(t){var r=e.box(e.types.ftyp,e.constants.FTYP),i=e.moov(t),n=new Uint8Array(r.byteLength+i.byteLength);return n.set(r,0),n.set(i,r.byteLength),n},e.moov=function(t){var r=e.mvhd(t.timescale,t.duration),i=e.trak(t),n=e.mvex(t);return e.box(e.types.moov,r,i,n)},e.mvhd=function(t,r){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var r=t.id,i=t.duration,n=t.presentWidth,a=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>>8&255,255&n,0,0,a>>>8&255,255&a,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var r=t.timescale,i=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))},e.hdlr=function(t){var r;return r="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,r)},e.minf=function(t){var r;return r="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,r,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):"ac-3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.ac3(t)):"opus"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.Opus(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):"video"===t.type&&t.codec.startsWith("hvc1")?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.hvc1(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var r=t.channelCount,i=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,r,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types[".mp3"],n)},e.mp4a=function(t){var r=t.channelCount,i=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,r,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types.mp4a,n,e.esds(t))},e.ac3=function(t){var r=t.channelCount,i=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,r,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types["ac-3"],n,e.box(e.types.dac3,new Uint8Array(t.config)))},e.esds=function(t){var r=t.config||[],i=r.length,n=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(r).concat([6,1,2]));return e.box(e.types.esds,n)},e.Opus=function(t){var r=t.channelCount,i=t.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,r,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return e.box(e.types.Opus,n,e.dOps(t))},e.dOps=function(t){var r=t.channelCount,i=t.channelConfigCode,n=t.audioSampleRate;if(t.config)return e.box(e.types.dOps,o);var a=[];switch(i){case 1:case 2:a=[0];break;case 0:a=[255,1,1,0,1];break;case 128:a=[255,2,0,0,1];break;case 3:a=[1,2,1,0,2,1];break;case 4:a=[1,2,2,0,1,2,3];break;case 5:a=[1,3,2,0,4,1,2,3];break;case 6:a=[1,4,2,0,4,1,2,3,5];break;case 7:a=[1,4,2,0,4,1,2,3,5,6];break;case 8:a=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:a=[1,1,2,0,1];break;case 131:a=[1,1,3,0,1,2];break;case 132:a=[1,1,4,0,1,2,3];break;case 133:a=[1,1,5,0,1,2,3,4];break;case 134:a=[1,1,6,0,1,2,3,4,5];break;case 135:a=[1,1,7,0,1,2,3,4,5,6];break;case 136:a=[1,1,8,0,1,2,3,4,5,6,7]}var o=new Uint8Array(function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var i=Array(e),n=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,n++)i[n]=a[o];return i}([0,r,0,0,n>>>24&255,n>>>17&255,n>>>8&255,n>>>0&255,0,0],a));return e.box(e.types.dOps,o)},e.avc1=function(t){var r=t.avcc,i=t.codecWidth,n=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,n>>>8&255,255&n,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,a,e.box(e.types.avcC,r))},e.hvc1=function(t){var r=t.hvcc,i=t.codecWidth,n=t.codecHeight,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,n>>>8&255,255&n,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.hvc1,a,e.box(e.types.hvcC,r))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var r=t.id,i=new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,i)},e.moof=function(t,r){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,r))},e.mfhd=function(t){var r=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,r)},e.traf=function(t,r){var i=t.id,n=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),a=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r])),o=e.sdtp(t),s=e.trun(t,o.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,n,a,s,o)},e.sdtp=function(t){for(var r=t.samples||[],i=r.length,n=new Uint8Array(4+i),a=0;a<i;a++){var o=r[a].flags;n[a+4]=o.isLeading<<6|o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy}return e.box(e.types.sdtp,n)},e.trun=function(t,r){var i=t.samples||[],n=i.length,a=12+16*n,o=new Uint8Array(a);r+=8+a,o.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0);for(var s=0;s<n;s++){var l=i[s].duration,u=i[s].size,c=i[s].flags,d=i[s].cts;o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,u>>>24&255,u>>>16&255,u>>>8&255,255&u,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.isNonSync,0,0,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*s)}return e.box(e.types.trun,o)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();be.init();var we=be,Se=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),Ee=r(7),Ae=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new Ee.c("audio"),this._videoSegmentInfoList=new Ee.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!o.a.chrome||!(o.a.version.major<50||50===o.a.version.major&&o.a.version.build<2661)),this._fillSilentAfterSeek=o.a.msedge||o.a.msie,this._mp3UseMpegAudio=!o.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new d.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),t&&this._remuxVideo(t),e&&this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var r=null,i="mp4",n=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(i="mpeg",n="",r=new Uint8Array):r=we.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,r=we.generateInitSegment(t)}if(!this._onInitSegment)throw new d.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:r.buffer,codec:n,container:e+"/"+i,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e&&e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t&&t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,r={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(r.samples.push(e),r.length=e.length);var i={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(i.samples.push(t),i.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(r,!0),this._remuxAudio(i,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var r,i=e,n=i.samples,s=void 0,l=-1,u=this._audioMeta.refSampleDuration,c="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,d=this._dtsBaseInited&&void 0===this._audioNextDts,h=!1;if(n&&0!==n.length&&(1!==n.length||t)){var p=0,f=null,m=0;c?(p=0,m=i.length):(p=8,m=8+i.length);var g=null;if(n.length>1&&(m-=(g=n.pop()).length),null!=this._audioStashedLastSample){var y=this._audioStashedLastSample;this._audioStashedLastSample=null,n.unshift(y),m+=y.length}null!=g&&(this._audioStashedLastSample=g);var _=n[0].dts-this._dtsBase;if(this._audioNextDts)s=_-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())s=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(h=!0);else{var v=this._audioSegmentInfoList.getLastSampleBefore(_);if(null!=v){var b=_-(v.originalDts+v.duration);b<=3&&(b=0),s=_-(v.dts+v.duration+b)}else s=0}if(h){var w=_-s,S=this._videoSegmentInfoList.getLastSegmentBefore(_);if(null!=S&&S.beginDts<w){if(D=Se.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var E=S.beginDts,A=w-S.beginDts;a.a.v(this.TAG,"InsertPrefixSilentAudio: dts: "+E+", duration: "+A),n.unshift({unit:D,dts:E,pts:E}),m+=D.byteLength}}else h=!1}for(var x=[],k=0;k<n.length;k++){var T=(y=n[k]).unit,M=y.dts-this._dtsBase,L=(E=M,!1),R=null,I=0;if(!(M<-.001)){if("mp3"!==this._audioMeta.codec){var C=M;if(this._audioNextDts&&(C=this._audioNextDts),(s=M-C)<=-3*u){a.a.w(this.TAG,"Dropping 1 audio frame (originalDts: "+M+" ms ,curRefDts: "+C+" ms)  due to dtsCorrection: "+s+" ms overlap.");continue}if(s>=3*u&&this._fillAudioTimestampGap&&!o.a.safari){L=!0;var D,O=Math.floor(s/u);a.a.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\noriginalDts: "+M+" ms, curRefDts: "+C+" ms, dtsCorrection: "+Math.round(s)+" ms, generate: "+O+" frames"),E=Math.floor(C),I=Math.floor(C+u)-E,null==(D=Se.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(a.a.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),D=T),R=[];for(var j=0;j<O;j++){C+=u;var P=Math.floor(C),B=Math.floor(C+u)-P,N={dts:P,pts:P,cts:0,unit:D,size:D.byteLength,duration:B,originalDts:M,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};R.push(N),m+=N.size}this._audioNextDts=C+u}else E=Math.floor(C),I=Math.floor(C+u)-E,this._audioNextDts=C+u}else E=M-s,I=k!==n.length-1?n[k+1].dts-this._dtsBase-s-E:null!=g?g.dts-this._dtsBase-s-E:x.length>=1?x[x.length-1].duration:Math.floor(u),this._audioNextDts=E+I;-1===l&&(l=E),x.push({dts:E,pts:E,cts:0,unit:y.unit,size:y.unit.byteLength,duration:I,originalDts:M,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),L&&x.push.apply(x,R)}}if(0===x.length)return i.samples=[],void(i.length=0);for(c?f=new Uint8Array(m):((f=new Uint8Array(m))[0]=m>>>24&255,f[1]=m>>>16&255,f[2]=m>>>8&255,f[3]=255&m,f.set(we.types.mdat,4)),k=0;k<x.length;k++)T=x[k].unit,f.set(T,p),p+=T.byteLength;var U=x[x.length-1];r=U.dts+U.duration;var F=new Ee.b;F.beginDts=l,F.endDts=r,F.beginPts=l,F.endPts=r,F.originalBeginDts=x[0].originalDts,F.originalEndDts=U.originalDts+U.duration,F.firstSample=new Ee.d(x[0].dts,x[0].pts,x[0].duration,x[0].originalDts,!1),F.lastSample=new Ee.d(U.dts,U.pts,U.duration,U.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(F),i.samples=x,i.sequenceNumber++;var z;z=c?new Uint8Array:we.moof(i,l),i.samples=[],i.length=0;var V={type:"audio",data:this._mergeBoxes(z,f).buffer,sampleCount:x.length,info:F};c&&d&&(V.timestampOffset=l),this._onMediaSegment("audio",V)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var r,i,n=e,a=n.samples,o=void 0,s=-1,l=-1;if(a&&0!==a.length&&(1!==a.length||t)){var u=8,c=null,d=8+e.length,h=null;if(a.length>1&&(d-=(h=a.pop()).length),null!=this._videoStashedLastSample){var p=this._videoStashedLastSample;this._videoStashedLastSample=null,a.unshift(p),d+=p.length}null!=h&&(this._videoStashedLastSample=h);var f=a[0].dts-this._dtsBase;if(this._videoNextDts)o=f-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())o=0;else{var m=this._videoSegmentInfoList.getLastSampleBefore(f);if(null!=m){var g=f-(m.originalDts+m.duration);g<=3&&(g=0),o=f-(m.dts+m.duration+g)}else o=0}for(var y=new Ee.b,_=[],v=0;v<a.length;v++){var b=(p=a[v]).dts-this._dtsBase,w=p.isKeyframe,S=b-o,E=p.cts,A=S+E;-1===s&&(s=S,l=A);var x;if(x=v!==a.length-1?a[v+1].dts-this._dtsBase-o-S:null!=h?h.dts-this._dtsBase-o-S:_.length>=1?_[_.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),w){var k=new Ee.d(S,A,x,p.dts,!0);k.fileposition=p.fileposition,y.appendSyncPoint(k)}_.push({dts:S,pts:A,cts:E,units:p.units,size:p.length,isKeyframe:w,duration:x,originalDts:b,flags:{isLeading:0,dependsOn:w?2:1,isDependedOn:w?1:0,hasRedundancy:0,isNonSync:w?0:1}})}for((c=new Uint8Array(d))[0]=d>>>24&255,c[1]=d>>>16&255,c[2]=d>>>8&255,c[3]=255&d,c.set(we.types.mdat,4),v=0;v<_.length;v++)for(var T=_[v].units;T.length;){var M=T.shift().data;c.set(M,u),u+=M.byteLength}var L=_[_.length-1];if(r=L.dts+L.duration,i=L.pts+L.duration,this._videoNextDts=r,y.beginDts=s,y.endDts=r,y.beginPts=l,y.endPts=i,y.originalBeginDts=_[0].originalDts,y.originalEndDts=L.originalDts+L.duration,y.firstSample=new Ee.d(_[0].dts,_[0].pts,_[0].duration,_[0].originalDts,_[0].isKeyframe),y.lastSample=new Ee.d(L.dts,L.pts,L.duration,L.originalDts,L.isKeyframe),this._isLive||this._videoSegmentInfoList.append(y),n.samples=_,n.sequenceNumber++,this._forceFirstIDR){var R=_[0].flags;R.dependsOn=2,R.isNonSync=0}var I=we.moof(n,s);n.samples=[],n.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(I,c).buffer,sampleCount:_.length,info:y})}}},e.prototype._mergeBoxes=function(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(e,0),r.set(t,e.byteLength),r},e}(),xe=r(11),ke=r(1),Te=function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new n.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var r=0;this._mediaDataSource.segments.forEach((function(i){i.timestampBase=r,r+=i.duration,i.cors=e.cors,i.withCredentials=e.withCredentials,t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy)})),isNaN(r)||this._mediaDataSource.duration===r||(this._mediaDataSource.duration=r),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var r=this._mediaDataSource.segments[e],i=this._ioctl=new xe.a(r,this._config,e);i.onError=this._onIOException.bind(this),i.onSeeked=this._onIOSeeked.bind(this),i.onComplete=this._onIOComplete.bind(this),i.onRedirect=this._onIORedirect.bind(this),i.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):i.onDataArrival=this._onInitChunkArrival.bind(this),i.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var r=this._mediaInfo.segments[t];if(null==r)this._pendingSeekTime=e;else{var i=r.getNearestKeyframe(e);this._remuxer.seek(i.milliseconds),this._ioctl.seek(i.fileposition),this._pendingResolveSeekPoint=i.milliseconds}}else{var n=this._mediaInfo.segments[t];null==n?(this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t)):(i=n.getNearestKeyframe(e),this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,i.fileposition),this._pendingResolveSeekPoint=i.milliseconds,this._reportSegmentMediaInfo(t))}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,r=t.length-1,i=0;i<t.length;i++)if(e<t[i].timestampBase){r=i-1;break}return r},e.prototype._onInitChunkArrival=function(e,t){var r=this,i=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,i=this._demuxer.parseChunks(e,t);else{var n=null;(n=E.probe(e)).match&&(this._setupFLVDemuxerRemuxer(n),i=this._demuxer.parseChunks(e,t)),n.match||n.needMoreData||(n=ve.probe(e)).match&&(this._setupTSDemuxerRemuxer(n),i=this._demuxer.parseChunks(e,t)),n.match||n.needMoreData||(n=null,a.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then((function(){r._internalAbort()})),this._emitter.emit(ke.a.DEMUX_ERROR,g.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return i},e.prototype._setupFLVDemuxerRemuxer=function(e){this._demuxer=new E(e,this._config),this._remuxer||(this._remuxer=new Ae(this._config));var t=this._mediaDataSource;null==t.duration||isNaN(t.duration)||(this._demuxer.overridedDuration=t.duration),"boolean"==typeof t.hasAudio&&(this._demuxer.overridedHasAudio=t.hasAudio),"boolean"==typeof t.hasVideo&&(this._demuxer.overridedHasVideo=t.hasVideo),this._demuxer.timestampBase=t.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._setupTSDemuxerRemuxer=function(e){var t=this._demuxer=new ve(e,this._config);this._remuxer||(this._remuxer=new Ae(this._config)),t.onError=this._onDemuxException.bind(this),t.onMediaInfo=this._onMediaInfo.bind(this),t.onMetaDataArrived=this._onMetaDataArrived.bind(this),t.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),t.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),t.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),t.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),t.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,s.a.prototype));var r=Object.assign({},e);Object.setPrototypeOf(r,s.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=r,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then((function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)}))},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(ke.a.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(ke.a.SCRIPTDATA_ARRIVED,e)},e.prototype._onTimedID3Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(ke.a.TIMED_ID3_METADATA_ARRIVED,e))},e.prototype._onSMPTE2038Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(ke.a.SMPTE2038_METADATA_ARRIVED,e))},e.prototype._onSCTE35Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(ke.a.SCTE35_METADATA_ARRIVED,e))},e.prototype._onPESPrivateDataDescriptor=function(e){this._emitter.emit(ke.a.PES_PRIVATE_DATA_DESCRIPTOR,e)},e.prototype._onPESPrivateData=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(ke.a.PES_PRIVATE_DATA_ARRIVED,e))},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(ke.a.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(ke.a.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){a.a.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(ke.a.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){a.a.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(ke.a.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(ke.a.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(ke.a.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var r=t.info.syncPoints,i=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,o.a.safari&&r.length>0&&r[0].originalDts===i&&(i=r[0].pts),this._emitter.emit(ke.a.RECOMMEND_SEEKPOINT,i)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],r=Object.assign({},t);r.duration=this._mediaInfo.duration,r.segmentCount=this._mediaInfo.segmentCount,delete r.segments,delete r.keyframesIndex,this._emitter.emit(ke.a.MEDIA_INFO,r)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(ke.a.STATISTICS_INFO,e)},e}();t.a=Te},function(e,t,r){"use strict";var i,n=r(0),a=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,"currentKBps",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageKBps",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e}(),o=r(2),s=r(4),l=r(3),u=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r){var i=e.call(this,"fetch-stream-loader")||this;return i.TAG="FetchStreamLoader",i._seekHandler=t,i._config=r,i._needStash=!0,i._requestAbort=!1,i._abortController=null,i._contentLength=null,i._receivedLength=0,i}return u(t,e),t.isSupported=function(){try{var e=s.a.msedge&&s.a.version.minor>=15048,t=!s.a.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var r=this;this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var n=this._seekHandler.getConfig(i,t),a=new self.Headers;if("object"==typeof n.headers){var s=n.headers;for(var u in s)s.hasOwnProperty(u)&&a.append(u,s[u])}var c={method:"GET",headers:a,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var u in this._config.headers)a.append(u,this._config.headers[u]);!1===e.cors&&(c.mode="same-origin"),e.withCredentials&&(c.credentials="include"),e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,c.signal=this._abortController.signal),this._status=o.c.kConnecting,self.fetch(n.url,c).then((function(e){if(r._requestAbort)return r._status=o.c.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==n.url&&r._onURLRedirect){var t=r._seekHandler.removeURLParameters(e.url);r._onURLRedirect(t)}var i=e.headers.get("Content-Length");return null!=i&&(r._contentLength=parseInt(i),0!==r._contentLength&&r._onContentLengthKnown&&r._onContentLengthKnown(r._contentLength)),r._pump.call(r,e.body.getReader())}if(r._status=o.c.kError,!r._onError)throw new l.d("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);r._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})})).catch((function(e){if(!r._abortController||!r._abortController.signal.aborted){if(r._status=o.c.kError,!r._onError)throw e;r._onError(o.b.EXCEPTION,{code:-1,msg:e.message})}}))},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==o.c.kBuffering||!s.a.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then((function(r){if(r.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=o.c.kError;var i=o.b.EARLY_EOF,n={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new l.d(n.msg);t._onError(i,n)}else t._status=o.c.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=o.c.kComplete);if(!0===t._requestAbort)return t._status=o.c.kComplete,e.cancel();t._status=o.c.kBuffering;var a=r.value.buffer,s=t._range.from+t._receivedLength;t._receivedLength+=a.byteLength,t._onDataArrival&&t._onDataArrival(a,s,t._receivedLength),t._pump(e)}})).catch((function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=o.c.kComplete;else if(11!==e.code||!s.a.msedge){t._status=o.c.kError;var r=0,i=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(r=o.b.EXCEPTION,i={code:e.code,msg:e.message}):(r=o.b.EARLY_EOF,i={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new l.d(i.msg);t._onError(r,i)}}))},t}(o.a),d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),h=function(e){function t(t,r){var i=e.call(this,"xhr-moz-chunked-loader")||this;return i.TAG="MozChunkedLoader",i._seekHandler=t,i._config=r,i._needStash=!0,i._xhr=null,i._requestAbort=!1,i._contentLength=null,i._receivedLength=0,i}return d(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return n.a.w("MozChunkedLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var r=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(r=e.redirectedURL);var i=this._seekHandler.getConfig(r,t);this._requestURL=i.url;var n=this._xhr=new XMLHttpRequest;if(n.open("GET",i.url,!0),n.responseType="moz-chunked-arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onloadend=this._onLoadEnd.bind(this),n.onerror=this._onXhrError.bind(this),e.withCredentials&&(n.withCredentials=!0),"object"==typeof i.headers){var a=i.headers;for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s])}if("object"==typeof this._config.headers)for(var s in a=this._config.headers)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);this._status=o.c.kConnecting,n.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=o.c.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var r=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(r)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=o.c.kError,!this._onError)throw new l.d("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=o.c.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==o.c.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,r=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,r,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==o.c.kError&&(this._status=o.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=o.c.kError;var t=0,r=null;if(this._contentLength&&e.loaded<this._contentLength?(t=o.b.EARLY_EOF,r={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=o.b.EXCEPTION,r={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(r.msg);this._onError(t,r)},t}(o.a),p=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),f=function(e){function t(t,r){var i=e.call(this,"xhr-range-loader")||this;return i.TAG="RangeLoader",i._seekHandler=t,i._config=r,i._needStash=!1,i._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],i._currentChunkSizeKB=384,i._currentSpeedNormalized=0,i._zeroSpeedChunkCount=0,i._xhr=null,i._speedSampler=new a,i._requestAbort=!1,i._waitForTotalLength=!1,i._totalLengthReceived=!1,i._currentRequestURL=null,i._currentRedirectedURL=null,i._currentRequestRange=null,i._totalLength=null,i._contentLength=null,i._receivedLength=0,i._lastTimeLoaded=0,i}return p(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return n.a.w("RangeLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=o.c.kConnecting;var r=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(r=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||r?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,r=t+e;null!=this._contentLength&&r-this._range.from>=this._contentLength&&(r=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:r},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var r=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?r=this._currentRedirectedURL:null!=e.redirectedURL&&(r=e.redirectedURL));var i=this._seekHandler.getConfig(r,t);this._currentRequestURL=i.url;var n=this._xhr=new XMLHttpRequest;if(n.open("GET",i.url,!0),n.responseType="arraybuffer",n.onreadystatechange=this._onReadyStateChange.bind(this),n.onprogress=this._onProgress.bind(this),n.onload=this._onLoad.bind(this),n.onerror=this._onXhrError.bind(this),e.withCredentials&&(n.withCredentials=!0),"object"==typeof i.headers){var a=i.headers;for(var o in a)a.hasOwnProperty(o)&&n.setRequestHeader(o,a[o])}if("object"==typeof this._config.headers)for(var o in a=this._config.headers)a.hasOwnProperty(o)&&n.setRequestHeader(o,a[o]);n.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=o.c.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var r=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&r!==this._currentRedirectedURL&&(this._currentRedirectedURL=r,this._onURLRedirect&&this._onURLRedirect(r))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=o.c.kBuffering}else{if(this._status=o.c.kError,!this._onError)throw new l.d("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(o.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==o.c.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var r=e.total;this._internalAbort(),null!=r&0!==r&&(this._totalLength=r)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var i=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(i)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,r=t.length-1,i=0,n=0,a=r;if(e<t[0])return t[0];for(;n<=a;){if((i=n+Math.floor((a-n)/2))===r||e>=t[i]&&e<t[i+1])return t[i];t[i]<e?n=i+1:a=i-1}},t.prototype._onLoad=function(e){if(this._status!==o.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var r=this._normalizeSpeed(t);this._currentSpeedNormalized!==r&&(this._currentSpeedNormalized=r,this._currentChunkSizeKB=r)}var i=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength;var a=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():a=!0,this._onDataArrival&&this._onDataArrival(i,n,this._receivedLength),a&&(this._status=o.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=o.c.kError;var t=0,r=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=o.b.EARLY_EOF,r={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=o.b.EXCEPTION,r={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new l.d(r.msg);this._onError(t,r)},t}(o.a),m=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),g=function(e){function t(){var t=e.call(this,"websocket-loader")||this;return t.TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return m(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=o.c.kConnecting}catch(e){this._status=o.c.kError;var r={code:e.code,msg:e.message};if(!this._onError)throw new l.d(r.msg);this._onError(o.b.EXCEPTION,r)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=o.c.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=o.c.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=o.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var r=new FileReader;r.onload=function(){t._dispatchArrayBuffer(r.result)},r.readAsArrayBuffer(e.data)}else{this._status=o.c.kError;var i={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new l.d(i.msg);this._onError(o.b.EXCEPTION,i)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,r=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,r,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=o.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new l.d(t.msg);this._onError(o.b.EXCEPTION,t)},t}(o.a),y=function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var r={};if(0!==t.from||-1!==t.to){var i;i=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",r.Range=i}else this._zeroStart&&(r.Range="bytes=0-");return{url:e,headers:r}},e.prototype.removeURLParameters=function(e){return e},e}(),_=function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var r=e;if(0!==t.from||-1!==t.to){var i=!0;-1===r.indexOf("?")&&(r+="?",i=!1),i&&(r+="&"),r+=this._startName+"="+t.from.toString(),-1!==t.to&&(r+="&"+this._endName+"="+t.to.toString())}return{url:r,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split("?")[0],r=void 0,i=e.indexOf("?");-1!==i&&(r=e.substring(i+1));var n="";if(null!=r&&r.length>0)for(var a=r.split("&"),o=0;o<a.length;o++){var s=a[o].split("="),l=o>0;s[0]!==this._startName&&s[0]!==this._endName&&(l&&(n+="&"),n+=a[o])}return 0===n.length?t:t+"?"+n},e}(),v=function(){function e(e,t,r){this.TAG="IOController",this._config=t,this._extraData=r,this._stashInitialSize=65536,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new a,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRedirect",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSpeed",{get:function(){return this._loaderClass===f?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new y(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",r=e.seekParamEnd||"bend";this._seekHandler=new _(t,r)}else{if("custom"!==e.seekType)throw new l.b("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new l.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=g;else if(c.isSupported())this._loaderClass=c;else if(h.isSupported())this._loaderClass=h;else{if(!f.isSupported())throw new l.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=f}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var r={from:e,to:-1};this._currentRange={from:r.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,r),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new l.b("Url must be a non-empty string!");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var r=new ArrayBuffer(t);if(this._stashUsed>0){var i=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(r,0,t).set(i,0)}this._stashBuffer=r,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,r=t.length-1,i=0,n=0,a=r;if(e<t[0])return t[0];for(;n<=a;){if((i=n+Math.floor((a-n)/2))===r||e>=t[i]&&e<t[i+1])return t[i];t[i]<e?n=i+1:a=i-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive?e/8:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var r=1024*t+1048576;this._bufferSize<r&&this._expandBuffer(r),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,r){if(!this._onDataArrival)throw new l.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var i=this._speedSampler.lastSecondKBps;if(0!==i){var n=this._normalizeSpeed(i);this._speedNormalized!==n&&(this._speedNormalized=n,this._adjustStashSize(n))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)(s=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else if(s=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var a=this._stashBuffer.slice(0,this._stashUsed);(u=this._dispatchChunks(a,this._stashByteStart))<a.byteLength?u>0&&(c=new Uint8Array(a,u),s.set(c,0),this._stashUsed=c.byteLength,this._stashByteStart+=u):(this._stashUsed=0,this._stashByteStart+=u),this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else(u=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-u)>this._bufferSize&&(this._expandBuffer(o),s=new Uint8Array(this._stashBuffer,0,this._bufferSize)),s.set(new Uint8Array(e,u),0),this._stashUsed+=o,this._stashByteStart=t+u);else if(0===this._stashUsed){var o;(u=this._dispatchChunks(e,t))<e.byteLength&&((o=e.byteLength-u)>this._bufferSize&&this._expandBuffer(o),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,u),0),this._stashUsed+=o,this._stashByteStart=t+u)}else{var s,u;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(s=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(u=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&u>0){var c=new Uint8Array(this._stashBuffer,u);s.set(c,0)}this._stashUsed-=u,this._stashByteStart+=u}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),r=this._dispatchChunks(t,this._stashByteStart),i=t.byteLength-r;if(r<t.byteLength){if(!e){if(r>0){var a=new Uint8Array(this._stashBuffer,0,this._bufferSize),o=new Uint8Array(t,r);a.set(o,0),this._stashUsed=o.byteLength,this._stashByteStart+=r}return 0}n.a.w(this.TAG,i+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,i}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(n.a.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=o.b.UNRECOVERABLE_EARLY_EOF),e){case o.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var r=this._currentRange.to+1;return void(r<this._totalLength&&(n.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(r,!1)))}e=o.b.UNRECOVERABLE_EARLY_EOF;case o.b.UNRECOVERABLE_EARLY_EOF:case o.b.CONNECTING_TIMEOUT:case o.b.HTTP_STATUS_CODE_INVALID:case o.b.EXCEPTION:}if(!this._onError)throw new l.d("IOException: "+t.msg);this._onError(e,t)},e}();t.a=v},function(e,t,r){"use strict";var i=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}return t},"function"!=typeof self.Promise&&r(15).polyfill()},e}();i.install(),t.a=i},function(e,t,r){function i(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var i=r(r.s=ENTRY_MODULE);return i.default||i}function n(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,i){var a={};a[i]=[];var o=t.toString(),s=o.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return a;for(var l,u=s[1],c=new RegExp("(\\\\n|\\W)"+n(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(o);)"dll-reference"!==l[3]&&a[i].push(l[3]);for(c=new RegExp("\\("+n(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(o);)e[l[2]]||(a[i].push(l[1]),e[l[2]]=r(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var d,h=Object.keys(a),p=0;p<h.length;p++)for(var f=0;f<a[h[p]].length;f++)d=a[h[p]][f],isNaN(1*d)||(a[h[p]][f]=1*a[h[p]][f]);return a}function o(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var n={main:r.m},s=t.all?{main:Object.keys(n.main)}:function(e,t){for(var r={main:[t]},i={main:[]},n={main:{}};o(r);)for(var s=Object.keys(r),l=0;l<s.length;l++){var u=s[l],c=r[u].pop();if(n[u]=n[u]||{},!n[u][c]&&e[u][c]){n[u][c]=!0,i[u]=i[u]||[],i[u].push(c);for(var d=a(e,e[u][c],u),h=Object.keys(d),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(d[h[p]])}}return i}(n,e),l="";Object.keys(s).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;s[e][t];)t++;s[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s[e].map((function(t){return JSON.stringify(t)+": "+n[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s.main.map((function(e){return JSON.stringify(e)+": "+n.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(c);return d.objectURL=c,d}},function(e,t,r){e.exports=r(19).default},function(e,t,r){(function(t,r){var i;i=function(){"use strict";function e(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,a=void 0,o=void 0,s=function(e,t){f[n]=e,f[n+1]=t,2===(n+=2)&&(o?o(m):b())},l="undefined"!=typeof window?window:void 0,u=l||{},c=u.MutationObserver||u.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(m,1)}}var f=new Array(1e3);function m(){for(var e=0;e<n;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;n=0}var g,y,_,v,b=void 0;function w(e,t){var r=this,i=new this.constructor(A);void 0===i[E]&&O(i);var n=r._state;if(n){var a=arguments[n-1];s((function(){return C(n,i,a,r._result)}))}else R(r,i,e,t);return i}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(A);return k(t,e),t}d?b=function(){return t.nextTick(m)}:c?(y=0,_=new c(m),v=document.createTextNode(""),_.observe(v,{characterData:!0}),b=function(){v.data=y=++y%2}):h?((g=new MessageChannel).port1.onmessage=m,b=function(){return g.port2.postMessage(0)}):b=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(m)}:p()}catch(e){return p()}}():p();var E=Math.random().toString(36).substring(2);function A(){}function x(t,r,i){r.constructor===t.constructor&&i===w&&r.constructor.resolve===S?function(e,t){1===t._state?M(e,t._result):2===t._state?L(e,t._result):R(t,void 0,(function(t){return k(e,t)}),(function(t){return L(e,t)}))}(t,r):void 0===i?M(t,r):e(i)?function(e,t,r){s((function(e){var i=!1,n=function(e,t,r,i){try{e.call(t,r,i)}catch(e){return e}}(r,t,(function(r){i||(i=!0,t!==r?k(e,r):M(e,r))}),(function(t){i||(i=!0,L(e,t))}),e._label);!i&&n&&(i=!0,L(e,n))}),e)}(t,r,i):M(t,r)}function k(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof(i=t),null===i||"object"!==n&&"function"!==n)M(e,t);else{var r=void 0;try{r=t.then}catch(t){return void L(e,t)}x(e,t,r)}var i,n}function T(e){e._onerror&&e._onerror(e._result),I(e)}function M(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(I,e))}function L(e,t){void 0===e._state&&(e._state=2,e._result=t,s(T,e))}function R(e,t,r,i){var n=e._subscribers,a=n.length;e._onerror=null,n[a]=t,n[a+1]=r,n[a+2]=i,0===a&&e._state&&s(I,e)}function I(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var i=void 0,n=void 0,a=e._result,o=0;o<t.length;o+=3)i=t[o],n=t[o+r],i?C(r,i,n,a):n(a);e._subscribers.length=0}}function C(t,r,i,n){var a=e(i),o=void 0,s=void 0,l=!0;if(a){try{o=i(n)}catch(e){l=!1,s=e}if(r===o)return void L(r,new TypeError("A promises callback cannot return that same promise."))}else o=n;void 0!==r._state||(a&&l?k(r,o):!1===l?L(r,s):1===t?M(r,o):2===t&&L(r,o))}var D=0;function O(e){e[E]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[E]||O(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&M(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,i=r.resolve;if(i===S){var n=void 0,a=void 0,o=!1;try{n=e.then}catch(e){o=!0,a=e}if(n===w&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(r===P){var s=new r(A);o?L(s,a):x(s,e,n),this._willSettleAt(s,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,r){var i=this.promise;void 0===i._state&&(this._remaining--,2===e?L(i,r):this._result[t]=r),0===this._remaining&&M(i,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;R(e,void 0,(function(e){return r._settledAt(1,t,e)}),(function(e){return r._settledAt(2,t,e)}))},e}(),P=function(){function t(e){this[E]=D++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){k(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return P.prototype.then=w,P.all=function(e){return new j(this,e).promise},P.race=function(e){var t=this;return i(e)?new t((function(r,i){for(var n=e.length,a=0;a<n;a++)t.resolve(e[a]).then(r,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},P.resolve=S,P.reject=function(e){var t=new this(A);return L(t,e),t},P._setScheduler=function(e){o=e},P._setAsap=function(e){s=e},P._asap=s,P.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=P},P.Promise=P,P},e.exports=i()}).call(this,r(16),r(17))},function(e,t){var r,i,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||c||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t);var i=r(9),n=r(12),a=r(10),o=r(1);t.default=function(e){var t=null,r=function(t,r){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:r}})}.bind(this);function s(t,r){var i={msg:o.a.INIT_SEGMENT,data:{type:t,data:r}};e.postMessage(i,[r.data])}function l(t,r){var i={msg:o.a.MEDIA_SEGMENT,data:{type:t,data:r}};e.postMessage(i,[r.data])}function u(){var t={msg:o.a.LOADING_COMPLETE};e.postMessage(t)}function c(){var t={msg:o.a.RECOVERED_EARLY_EOF};e.postMessage(t)}function d(t){var r={msg:o.a.MEDIA_INFO,data:t};e.postMessage(r)}function h(t){var r={msg:o.a.METADATA_ARRIVED,data:t};e.postMessage(r)}function p(t){var r={msg:o.a.SCRIPTDATA_ARRIVED,data:t};e.postMessage(r)}function f(t){var r={msg:o.a.TIMED_ID3_METADATA_ARRIVED,data:t};e.postMessage(r)}function m(t){var r={msg:o.a.SMPTE2038_METADATA_ARRIVED,data:t};e.postMessage(r)}function g(t){var r={msg:o.a.SCTE35_METADATA_ARRIVED,data:t};e.postMessage(r)}function y(t){var r={msg:o.a.PES_PRIVATE_DATA_DESCRIPTOR,data:t};e.postMessage(r)}function _(t){var r={msg:o.a.PES_PRIVATE_DATA_ARRIVED,data:t};e.postMessage(r)}function v(t){var r={msg:o.a.STATISTICS_INFO,data:t};e.postMessage(r)}function b(t,r){e.postMessage({msg:o.a.IO_ERROR,data:{type:t,info:r}})}function w(t,r){e.postMessage({msg:o.a.DEMUX_ERROR,data:{type:t,info:r}})}function S(t){e.postMessage({msg:o.a.RECOMMEND_SEEKPOINT,data:t})}n.a.install(),e.addEventListener("message",(function(n){switch(n.data.cmd){case"init":(t=new a.a(n.data.param[0],n.data.param[1])).on(o.a.IO_ERROR,b.bind(this)),t.on(o.a.DEMUX_ERROR,w.bind(this)),t.on(o.a.INIT_SEGMENT,s.bind(this)),t.on(o.a.MEDIA_SEGMENT,l.bind(this)),t.on(o.a.LOADING_COMPLETE,u.bind(this)),t.on(o.a.RECOVERED_EARLY_EOF,c.bind(this)),t.on(o.a.MEDIA_INFO,d.bind(this)),t.on(o.a.METADATA_ARRIVED,h.bind(this)),t.on(o.a.SCRIPTDATA_ARRIVED,p.bind(this)),t.on(o.a.TIMED_ID3_METADATA_ARRIVED,f.bind(this)),t.on(o.a.SMPTE2038_METADATA_ARRIVED,m.bind(this)),t.on(o.a.SCTE35_METADATA_ARRIVED,g.bind(this)),t.on(o.a.PES_PRIVATE_DATA_DESCRIPTOR,y.bind(this)),t.on(o.a.PES_PRIVATE_DATA_ARRIVED,_.bind(this)),t.on(o.a.STATISTICS_INFO,v.bind(this)),t.on(o.a.RECOMMEND_SEEKPOINT,S.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(n.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var E=n.data.param;i.a.applyConfig(E),!0===E.enableCallback?i.a.addLogListener(r):i.a.removeLogListener(r)}}))}},function(e,t,r){"use strict";r.r(t);var i=r(12),n=r(11),a={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function o(){return Object.assign({},a)}var s=function(){function e(){}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},e.supportMSEH265Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"')},e.supportNetworkStreamIO=function(){var e=new n.a({},o()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new n.a({},o()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var r=e.videoElement.canPlayType(t);return"probably"===r||"maybe"==r},e.getFeatureList=function(){var t={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.msePlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLivePlayback=t.msePlayback&&t.networkStreamIO,t.mseH265Playback=e.supportMSEH265Playback(),t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeMP4H265Playback=e.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e}(),l=r(2),u=r(6),c=r.n(u),d=r(0),h=r(4),p={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SMPTE2038_METADATA_ARRIVED:"smpte2038_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info"},f=r(13),m=r.n(f),g=r(9),y=r(10),_=r(1),v=r(8),b=function(){function e(e,t){if(this.TAG="Transmuxer",this._emitter=new c.a,t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=m()(18),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},g.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:g.a.getConfig()})}catch(r){d.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new y.a(e,t)}else this._controller=new y.a(e,t);if(this._controller){var r=this._controller;r.on(_.a.IO_ERROR,this._onIOError.bind(this)),r.on(_.a.DEMUX_ERROR,this._onDemuxError.bind(this)),r.on(_.a.INIT_SEGMENT,this._onInitSegment.bind(this)),r.on(_.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),r.on(_.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),r.on(_.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),r.on(_.a.MEDIA_INFO,this._onMediaInfo.bind(this)),r.on(_.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),r.on(_.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),r.on(_.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),r.on(_.a.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),r.on(_.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),r.on(_.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),r.on(_.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),r.on(_.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),r.on(_.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),g.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var r=this;Promise.resolve().then((function(){r._emitter.emit(_.a.INIT_SEGMENT,e,t)}))},e.prototype._onMediaSegment=function(e,t){var r=this;Promise.resolve().then((function(){r._emitter.emit(_.a.MEDIA_SEGMENT,e,t)}))},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(_.a.LOADING_COMPLETE)}))},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(_.a.RECOVERED_EARLY_EOF)}))},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.MEDIA_INFO,e)}))},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.METADATA_ARRIVED,e)}))},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.SCRIPTDATA_ARRIVED,e)}))},e.prototype._onTimedID3MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.TIMED_ID3_METADATA_ARRIVED,e)}))},e.prototype._onSMPTE2038MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.SMPTE2038_METADATA_ARRIVED,e)}))},e.prototype._onSCTE35MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.SCTE35_METADATA_ARRIVED,e)}))},e.prototype._onPESPrivateDataDescriptor=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.PES_PRIVATE_DATA_DESCRIPTOR,e)}))},e.prototype._onPESPrivateDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.PES_PRIVATE_DATA_ARRIVED,e)}))},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.STATISTICS_INFO,e)}))},e.prototype._onIOError=function(e,t){var r=this;Promise.resolve().then((function(){r._emitter.emit(_.a.IO_ERROR,e,t)}))},e.prototype._onDemuxError=function(e,t){var r=this;Promise.resolve().then((function(){r._emitter.emit(_.a.DEMUX_ERROR,e,t)}))},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(_.a.RECOMMEND_SEEKPOINT,e)}))},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,r=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case _.a.INIT_SEGMENT:case _.a.MEDIA_SEGMENT:this._emitter.emit(t.msg,r.type,r.data);break;case _.a.LOADING_COMPLETE:case _.a.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case _.a.MEDIA_INFO:Object.setPrototypeOf(r,v.a.prototype),this._emitter.emit(t.msg,r);break;case _.a.METADATA_ARRIVED:case _.a.SCRIPTDATA_ARRIVED:case _.a.TIMED_ID3_METADATA_ARRIVED:case _.a.SMPTE2038_METADATA_ARRIVED:case _.a.SCTE35_METADATA_ARRIVED:case _.a.PES_PRIVATE_DATA_DESCRIPTOR:case _.a.PES_PRIVATE_DATA_ARRIVED:case _.a.STATISTICS_INFO:this._emitter.emit(t.msg,r);break;case _.a.IO_ERROR:case _.a.DEMUX_ERROR:this._emitter.emit(t.msg,r.type,r.info);break;case _.a.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,r);break;case"logcat_callback":d.a.emitter.emit("log",r.type,r.logcat)}},e}(),w="error",S="source_open",E="update_end",A="buffer_full",x=r(7),k=r(3),T=function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new c.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new x.a}return e.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaSource)throw new k.a("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL},e.prototype.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var r=this._pendingSegments[t];r.splice(0,r.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var i=this._sourceBuffers[t];if(i){if("closed"!==e.readyState){try{e.removeSourceBuffer(i)}catch(e){d.a.e(this.TAG,e.message)}i.removeEventListener("error",this.e.onSourceBufferError),i.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){d.a.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var r=e,i=""+r.container;r.codec&&r.codec.length>0&&(i+=";codecs="+r.codec);var n=!1;if(d.a.v(this.TAG,"Received Initialization Segment, mimeType: "+i),this._lastInitSegments[r.type]=r,i!==this._mimeTypes[r.type]){if(this._mimeTypes[r.type])d.a.v(this.TAG,"Notice: "+r.type+" mimeType changed, origin: "+this._mimeTypes[r.type]+", target: "+i);else{n=!0;try{var a=this._sourceBuffers[r.type]=this._mediaSource.addSourceBuffer(i);a.addEventListener("error",this.e.onSourceBufferError),a.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return d.a.e(this.TAG,e.message),void this._emitter.emit(w,{code:e.code,msg:e.message})}}this._mimeTypes[r.type]=i}t||this._pendingSegments[r.type].push(r),n||this._sourceBuffers[r.type]&&!this._sourceBuffers[r.type].updating&&this._doAppendSegments(),h.a.safari&&"audio/mpeg"===r.container&&r.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=r.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var r=this._sourceBuffers[t.type];!r||r.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var r=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{r.abort()}catch(e){d.a.e(this.TAG,e.message)}this._idrList.clear();var i=this._pendingSegments[t];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(var n=0;n<r.buffered.length;n++){var a=r.buffered.start(n),o=r.buffered.end(n);this._pendingRemoveRanges[t].push({start:a,end:o})}if(r.updating||this._doRemoveRanges(),h.a.safari){var s=this._lastInitSegments[t];s&&(this._pendingSegments[t].push(s),r.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var r=this._sourceBuffers[t];if(r){var i=r.buffered;if(i.length>=1&&e-i.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var r=this._sourceBuffers[t];if(r){for(var i=r.buffered,n=!1,a=0;a<i.length;a++){var o=i.start(a),s=i.end(a);if(o<=e&&e<s+3){if(e-o>=this._config.autoCleanupMaxBackwardDuration){n=!0;var l=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:o,end:l})}}else s<e&&(n=!0,this._pendingRemoveRanges[t].push({start:o,end:s}))}n&&!r.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,r=this._pendingMediaDuration;r>0&&(isNaN(t)||r>t)&&(d.a.v(this.TAG,"Update MediaSource duration from "+t+" to "+r),this._mediaSource.duration=r),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],r=this._pendingRemoveRanges[e];r.length&&!t.updating;){var i=r.shift();t.remove(i.start,i.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var r=e[t].shift();if(r.timestampOffset){var i=this._sourceBuffers[t].timestampOffset,n=r.timestampOffset/1e3;Math.abs(i-n)>.1&&(d.a.v(this.TAG,"Update MPEG audio timestampOffset from "+i+" to "+n),this._sourceBuffers[t].timestampOffset=n),delete r.timestampOffset}if(!r.data||0===r.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(r.data),this._isBufferFull=!1,"video"===t&&r.hasOwnProperty("info")&&this._idrList.appendArray(r.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(r),22===e.code?(this._isBufferFull||this._emitter.emit(A),this._isBufferFull=!0):(d.a.e(this.TAG,e.message),this._emitter.emit(w,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(d.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(S)},e.prototype._onSourceEnded=function(){d.a.v(this.TAG,"MediaSource onSourceEnded")},e.prototype._onSourceClose=function(){d.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(E)},e.prototype._onSourceBufferError=function(e){d.a.e(this.TAG,"SourceBuffer Error: "+e)},e}(),M=r(5),L={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},R={NETWORK_EXCEPTION:l.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:M.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:M.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:M.a.CODEC_UNSUPPORTED},I=function(){function e(e,t){this.TAG="MSEPlayer",this._type="MSEPlayer",this._emitter=new c.a,this._config=o(),"object"==typeof t&&Object.assign(this._config,t);var r=e.type.toLowerCase();if("mse"!==r&&"mpegts"!==r&&"m2ts"!==r&&"flv"!==r)throw new k.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var i=h.a.chrome&&(h.a.version.major<50||50===h.a.version.major&&h.a.version.build<2661);this._alwaysSeekKeyframe=!!(i||h.a.msedge||h.a.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return e.prototype.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var r=this;e===p.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then((function(){r._emitter.emit(p.MEDIA_INFO,r.mediaInfo)})):e===p.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then((function(){r._emitter.emit(p.STATISTICS_INFO,r.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new T(this._config),this._msectl.on(E,this._onmseUpdateEnd.bind(this)),this._msectl.on(A,this._onmseBufferFull.bind(this)),this._msectl.on(S,(function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())})),this._msectl.on(w,(function(e){t._emitter.emit(p.ERROR,L.MEDIA_ERROR,R.MEDIA_MSE_ERROR,e)})),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},e.prototype.load=function(){var e=this;if(!this._mediaElement)throw new k.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new k.a("MSEPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new b(this._mediaDataSource,this._config),this._transmuxer.on(_.a.INIT_SEGMENT,(function(t,r){e._msectl.appendInitSegment(r)})),this._transmuxer.on(_.a.MEDIA_SEGMENT,(function(t,r){if(e._msectl.appendMediaSegment(r),e._config.lazyLoad&&!e._config.isLive){var i=e._mediaElement.currentTime;r.info.endDts>=1e3*(i+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(d.a.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}})),this._transmuxer.on(_.a.LOADING_COMPLETE,(function(){e._msectl.endOfStream(),e._emitter.emit(p.LOADING_COMPLETE)})),this._transmuxer.on(_.a.RECOVERED_EARLY_EOF,(function(){e._emitter.emit(p.RECOVERED_EARLY_EOF)})),this._transmuxer.on(_.a.IO_ERROR,(function(t,r){e._emitter.emit(p.ERROR,L.NETWORK_ERROR,t,r)})),this._transmuxer.on(_.a.DEMUX_ERROR,(function(t,r){e._emitter.emit(p.ERROR,L.MEDIA_ERROR,t,{code:-1,msg:r})})),this._transmuxer.on(_.a.MEDIA_INFO,(function(t){e._mediaInfo=t,e._emitter.emit(p.MEDIA_INFO,Object.assign({},t))})),this._transmuxer.on(_.a.METADATA_ARRIVED,(function(t){e._emitter.emit(p.METADATA_ARRIVED,t)})),this._transmuxer.on(_.a.SCRIPTDATA_ARRIVED,(function(t){e._emitter.emit(p.SCRIPTDATA_ARRIVED,t)})),this._transmuxer.on(_.a.TIMED_ID3_METADATA_ARRIVED,(function(t){e._emitter.emit(p.TIMED_ID3_METADATA_ARRIVED,t)})),this._transmuxer.on(_.a.SMPTE2038_METADATA_ARRIVED,(function(t){e._emitter.emit(p.SMPTE2038_METADATA_ARRIVED,t)})),this._transmuxer.on(_.a.SCTE35_METADATA_ARRIVED,(function(t){e._emitter.emit(p.SCTE35_METADATA_ARRIVED,t)})),this._transmuxer.on(_.a.PES_PRIVATE_DATA_DESCRIPTOR,(function(t){e._emitter.emit(p.PES_PRIVATE_DATA_DESCRIPTOR,t)})),this._transmuxer.on(_.a.PES_PRIVATE_DATA_ARRIVED,(function(t){e._emitter.emit(p.PES_PRIVATE_DATA_ARRIVED,t)})),this._transmuxer.on(_.a.STATISTICS_INFO,(function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(p.STATISTICS_INFO,Object.assign({},e._statisticsInfo))})),this._transmuxer.on(_.a.RECOMMEND_SEEKPOINT,(function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)})),this._transmuxer.open()))},e.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),e.prototype._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,r=0,i=0;if(this._mediaElement.getVideoPlaybackQuality){var n=this._mediaElement.getVideoPlaybackQuality();r=n.totalVideoFrames,i=n.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(r=this._mediaElement.webkitDecodedFrameCount,i=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=r,e.droppedFrames=i),e},e.prototype._onmseUpdateEnd=function(){var e=this._mediaElement.buffered,t=this._mediaElement.currentTime;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&e.length>0&&!this._mediaElement.paused){var r=e.end(e.length-1);if(r>this._config.liveBufferLatencyMaxLatency&&r-t>this._config.liveBufferLatencyMaxLatency){var i=r-this._config.liveBufferLatencyMinRemain;this.currentTime=i}}if(this._config.lazyLoad&&!this._config.isLive){for(var n=0,a=0;a<e.length;a++){var o=e.start(a),s=e.end(a);if(o<=t&&t<s){n=s;break}}n>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(d.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},e.prototype._onmseBufferFull=function(){d.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()},e.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},e.prototype._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,r=!1,i=0;i<t.length;i++){var n=t.start(i),a=t.end(i);if(e>=n&&e<a){e>=a-this._config.lazyLoadRecoverDuration&&(r=!0);break}}r&&(window.clearInterval(this._progressChecker),this._progressChecker=null,r&&(d.a.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},e.prototype._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,r=0;r<t.length;r++){var i=t.start(r),n=t.end(r);if(e>=i&&e<n)return!0}return!1},e.prototype._internalSeek=function(e){var t=this._isTimepointBuffered(e),r=!1,i=0;if(e<1&&this._mediaElement.buffered.length>0){var n=this._mediaElement.buffered.start(0);(n<1&&e<n||h.a.safari)&&(r=!0,i=h.a.safari?.1:n)}if(r)this._requestSetTime=!0,this._mediaElement.currentTime=i;else if(t){if(this._alwaysSeekKeyframe){var a=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=a?a.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},e.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var r=t.buffered;r.length>0&&t.currentTime<r.start(0)&&(d.a.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+r.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=r.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},e.prototype._onvSeeking=function(e){var t=this._mediaElement.currentTime,r=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&r.length>0){var i=r.start(0);if(i<1&&t<i||h.a.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=h.a.safari?.1:i)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var n=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=n&&(this._requestSetTime=!0,this._mediaElement.currentTime=n.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},e.prototype._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},e.prototype._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},e.prototype._onvProgress=function(e){this._checkAndResumeStuckPlayback()},e}(),C=function(){function e(e,t){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new c.a,this._config=o(),"object"==typeof t&&Object.assign(this._config,t);var r=e.type.toLowerCase();if("mse"===r||"mpegts"===r||"m2ts"===r||"flv"===r)throw new k.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new k.b("NativePlayer("+e.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var r=this;e===p.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){r._emitter.emit(p.MEDIA_INFO,r.mediaInfo)})):e===p.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){r._emitter.emit(p.STATISTICS_INFO,r.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new k.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,r=0,i=0;if(this._mediaElement.getVideoPlaybackQuality){var n=this._mediaElement.getVideoPlaybackQuality();r=n.totalVideoFrames,i=n.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(r=this._mediaElement.webkitDecodedFrameCount,i=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=r,e.droppedFrames=i),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(p.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(p.STATISTICS_INFO,this.statisticsInfo)},e}();i.a.install();var D={createPlayer:function(e,t){var r=e;if(null==r||"object"!=typeof r)throw new k.b("MediaDataSource must be an javascript object!");if(!r.hasOwnProperty("type"))throw new k.b("MediaDataSource must has type field to indicate video file type!");switch(r.type){case"mse":case"mpegts":case"m2ts":case"flv":return new I(r,t);default:return new C(r,t)}},isSupported:function(){return s.supportMSEH264Playback()},getFeatureList:function(){return s.getFeatureList()}};D.BaseLoader=l.a,D.LoaderStatus=l.c,D.LoaderErrors=l.b,D.Events=p,D.ErrorTypes=L,D.ErrorDetails=R,D.MSEPlayer=I,D.NativePlayer=C,D.LoggingControl=g.a,Object.defineProperty(D,"version",{enumerable:!0,get:function(){return"1.7.3"}}),t.default=D}])},8859:(e,t,r)=>{var i="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=i&&n&&"function"==typeof n.get?n.get:null,o=i&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,_=String.prototype.slice,v=String.prototype.replace,b=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,A=Array.prototype.join,x=Array.prototype.slice,k=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"==typeof Symbol.iterator,I="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,C=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function O(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-k(-e):k(e);if(i!==e){var n=String(i),a=_.call(t,n.length+1);return v.call(n,r,"$&_")+"."+v.call(v.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,r,"$&_")}var j=r(2634),P=j.custom,B=V(P)?P:null;function N(e,t,r){var i="double"===(r.quoteStyle||t)?'"':"'";return i+e+i}function U(e){return v.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==q(e)||I&&"object"==typeof e&&I in e)}function z(e){return!("[object RegExp]"!==q(e)||I&&"object"==typeof e&&I in e)}function V(e){if(R)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!L)return!1;try{return L.call(e),!0}catch(e){}return!1}e.exports=function e(t,i,n,s){var l=i||{};if(G(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!G(l,"customInspect")||l.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Y(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return b?O(t,S):S}if("bigint"==typeof t){var k=String(t)+"n";return b?O(t,k):k}var M=void 0===l.depth?5:l.depth;if(void 0===n&&(n=0),n>=M&&M>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var P,H=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=A.call(Array(e.indent+1)," ")}return{base:r,prev:A.call(Array(t+1),r)}}(l,n);if(void 0===s)s=[];else if(W(s,t)>=0)return"[Circular]";function $(t,r,i){if(r&&(s=x.call(s)).push(r),i){var a={depth:l.depth};return G(l,"quoteStyle")&&(a.quoteStyle=l.quoteStyle),e(t,a,n+1,s)}return e(t,l,n+1,s)}if("function"==typeof t&&!z(t)){var ee=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=J(t,$);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+A.call(te,", ")+" }":"")}if(V(t)){var re=R?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):L.call(t);return"object"!=typeof t||R?re:Z(re)}if((P=t)&&"object"==typeof P&&("undefined"!=typeof HTMLElement&&P instanceof HTMLElement||"string"==typeof P.nodeName&&"function"==typeof P.getAttribute)){for(var ie="<"+w.call(String(t.nodeName)),ne=t.attributes||[],ae=0;ae<ne.length;ae++)ie+=" "+ne[ae].name+"="+N(U(ne[ae].value),"double",l);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+"</"+w.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var oe=J(t,$);return H&&!function(e){for(var t=0;t<e.length;t++)if(W(e[t],"\n")>=0)return!1;return!0}(oe)?"["+Q(oe,H)+"]":"[ "+A.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==q(e)||I&&"object"==typeof e&&I in e)}(t)){var se=J(t,$);return"cause"in Error.prototype||!("cause"in t)||C.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+A.call(se,", ")+" }":"{ ["+String(t)+"] "+A.call(E.call("[cause]: "+$(t.cause),se),", ")+" }"}if("object"==typeof t&&m){if(B&&"function"==typeof t[B]&&j)return j(t,{depth:M-n});if("symbol"!==m&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!a||!e||"object"!=typeof e)return!1;try{a.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var le=[];return o&&o.call(t,(function(e,r){le.push($(r,t,!0)+" => "+$(e,t))})),X("Map",a.call(t),le,H)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{a.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return c&&c.call(t,(function(e){ue.push($(e,t))})),X("Set",u.call(t),ue,H)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==q(e)||I&&"object"==typeof e&&I in e)}(t))return Z($(Number(t)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return Z($(T.call(t)));if(function(e){return!("[object Boolean]"!==q(e)||I&&"object"==typeof e&&I in e)}(t))return Z(f.call(t));if(function(e){return!("[object String]"!==q(e)||I&&"object"==typeof e&&I in e)}(t))return Z($(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==q(e)||I&&"object"==typeof e&&I in e)}(t)&&!z(t)){var ce=J(t,$),de=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,he=t instanceof Object?"":"null prototype",pe=!de&&I&&Object(t)===t&&I in t?_.call(q(t),8,-1):he?"Object":"",fe=(de||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||he?"["+A.call(E.call([],pe||[],he||[]),": ")+"] ":"");return 0===ce.length?fe+"{}":H?fe+"{"+Q(ce,H)+"}":fe+"{ "+A.call(ce,", ")+" }"}return String(t)};var H=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return H.call(e,t)}function q(e){return m.call(e)}function W(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function Y(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return Y(_.call(e,0,t.maxStringLength),t)+i}return N(v.call(v.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$),"single",t)}function $(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function Z(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function X(e,t,r,i){return e+" ("+t+") {"+(i?Q(r,i):A.call(r,", "))+"}"}function Q(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+A.call(e,","+r)+"\n"+t.prev}function J(e,t){var r=F(e),i=[];if(r){i.length=e.length;for(var n=0;n<e.length;n++)i[n]=G(e,n)?t(e[n],e):""}var a,o="function"==typeof M?M(e):[];if(R){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in e)G(e,l)&&(r&&String(Number(l))===l&&l<e.length||R&&a["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof M)for(var u=0;u<o.length;u++)C.call(e,o[u])&&i.push("["+t(o[u])+"]: "+t(e[o[u]],e));return i}},5606:e=>{var t,r,i=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,l=[],u=!1,c=-1;function d(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&h())}function h(){if(!u){var e=o(d);u=!0;for(var t=l.length;t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||u||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},9655:function(e,t,r){var i;e=r.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var n="object"==typeof r.g&&r.g;n.global!==n&&n.window!==n&&n.self;var a,o=2147483647,s=36,l=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function f(e){throw new RangeError(d[e])}function m(e,t){for(var r=e.length,i=[];r--;)i[r]=t(e[r]);return i}function g(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+m((e=e.replace(c,".")).split("."),t).join(".")}function y(e){for(var t,r,i=[],n=0,a=e.length;n<a;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<a?56320==(64512&(r=e.charCodeAt(n++)))?i.push(((1023&t)<<10)+(1023&r)+65536):(i.push(t),n--):i.push(t);return i}function _(e){return m(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)})).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,r){var i=0;for(e=r?h(e/700):e>>1,e+=h(e/t);e>455;i+=s)e=h(e/35);return h(i+36*e/(e+38))}function w(e){var t,r,i,n,a,l,u,c,d,p,m,g=[],y=e.length,v=0,w=128,S=72;for((r=e.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)e.charCodeAt(i)>=128&&f("not-basic"),g.push(e.charCodeAt(i));for(n=r>0?r+1:0;n<y;){for(a=v,l=1,u=s;n>=y&&f("invalid-input"),((c=(m=e.charCodeAt(n++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||c>h((o-v)/l))&&f("overflow"),v+=c*l,!(c<(d=u<=S?1:u>=S+26?26:u-S));u+=s)l>h(o/(p=s-d))&&f("overflow"),l*=p;S=b(v-a,t=g.length+1,0==a),h(v/t)>o-w&&f("overflow"),w+=h(v/t),v%=t,g.splice(v++,0,w)}return _(g)}function S(e){var t,r,i,n,a,l,u,c,d,m,g,_,w,S,E,A=[];for(_=(e=y(e)).length,t=128,r=0,a=72,l=0;l<_;++l)(g=e[l])<128&&A.push(p(g));for(i=n=A.length,n&&A.push("-");i<_;){for(u=o,l=0;l<_;++l)(g=e[l])>=t&&g<u&&(u=g);for(u-t>h((o-r)/(w=i+1))&&f("overflow"),r+=(u-t)*w,t=u,l=0;l<_;++l)if((g=e[l])<t&&++r>o&&f("overflow"),g==t){for(c=r,d=s;!(c<(m=d<=a?1:d>=a+26?26:d-a));d+=s)E=c-m,S=s-m,A.push(p(v(m+E%S,0))),c=h(E/S);A.push(p(v(c,0))),a=b(r,w,i==n),r=0,++i}++r,++t}return A.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:_},decode:w,encode:S,toASCII:function(e){return g(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,r,t,e))||(e.exports=i)}()},4765:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:i}},5373:(e,t,r)=>{"use strict";var i=r(8636),n=r(2642),a=r(4765);e.exports={formats:a,parse:n,stringify:i}},2642:(e,t,r)=>{"use strict";var i=r(7720),n=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,i){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(a),u=s?a.slice(0,s.index):a,c=[];if(u){if(!r.plainObjects&&n.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var d=0;r.depth>0&&null!==(s=o.exec(a))&&d<r.depth;){if(d+=1,!r.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+a.slice(s.index)+"]"),function(e,t,r,i){for(var n=i?t:l(t,r),a=e.length-1;a>=0;--a){var o,s=e[a];if("[]"===s&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(u,10);r.parseArrays||""!==u?!isNaN(c)&&s!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=n:"__proto__"!==u&&(o[u]=n):o={0:n}}n=o}return n}(c,t,r,i)}};e.exports=function(e,t){var r=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,u={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=c.split(t.delimiter,d),p=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?f="utf-8":"utf8=%26%2310003%3B"===h[r]&&(f="iso-8859-1"),p=r,r=h.length);for(r=0;r<h.length;++r)if(r!==p){var m,g,y=h[r],_=y.indexOf("]="),v=-1===_?y.indexOf("="):_+1;-1===v?(m=t.decoder(y,o.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(y.slice(0,v),o.decoder,f,"key"),g=i.maybeMap(l(y.slice(v+1),t),(function(e){return t.decoder(e,o.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=s(g)),y.indexOf("[]=")>-1&&(g=a(g)?[g]:g),n.call(u,m)?u[m]=i.combine(u[m],g):u[m]=g}return u}(e,r):e,d=r.plainObjects?Object.create(null):{},h=Object.keys(c),p=0;p<h.length;++p){var f=h[p],m=u(f,c[f],r,"string"==typeof e);d=i.merge(d,m,r)}return!0===r.allowSparse?d:i.compact(d)}},8636:(e,t,r)=>{"use strict";var i=r(920),n=r(7720),a=r(4765),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,h=a.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:h,formatter:a.formatters[h],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f={},m=function e(t,r,a,o,s,u,d,h,m,g,y,_,v,b,w,S){for(var E,A=t,x=S,k=0,T=!1;void 0!==(x=x.get(f))&&!T;){var M=x.get(t);if(k+=1,void 0!==M){if(M===k)throw new RangeError("Cyclic object value");T=!0}void 0===x.get(f)&&(k=0)}if("function"==typeof h?A=h(r,A):A instanceof Date?A=y(A):"comma"===a&&l(A)&&(A=n.maybeMap(A,(function(e){return e instanceof Date?y(e):e}))),null===A){if(s)return d&&!b?d(r,p.encoder,w,"key",_):r;A=""}if("string"==typeof(E=A)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||n.isBuffer(A))return d?[v(b?r:d(r,p.encoder,w,"key",_))+"="+v(d(A,p.encoder,w,"value",_))]:[v(r)+"="+v(String(A))];var L,R=[];if(void 0===A)return R;if("comma"===a&&l(A))b&&d&&(A=n.maybeMap(A,d)),L=[{value:A.length>0?A.join(",")||null:void 0}];else if(l(h))L=h;else{var I=Object.keys(A);L=m?I.sort(m):I}for(var C=o&&l(A)&&1===A.length?r+"[]":r,D=0;D<L.length;++D){var O=L[D],j="object"==typeof O&&void 0!==O.value?O.value:A[O];if(!u||null!==j){var P=l(A)?"function"==typeof a?a(C,O):C:C+(g?"."+O:"["+O+"]");S.set(t,k);var B=i();B.set(f,S),c(R,e(j,P,a,o,s,u,"comma"===a&&b&&l(A)?null:d,h,m,g,y,_,v,b,w,B))}}return R};e.exports=function(e,t){var r,n=e,u=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if(void 0!==e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=a.formatters[r],n=p.filter;return("function"==typeof e.filter||l(e.filter))&&(n=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:n,format:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof u.filter?n=(0,u.filter)("",n):l(u.filter)&&(r=u.filter);var d,h=[];if("object"!=typeof n||null===n)return"";d=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=s[d];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===f&&t&&t.commaRoundTrip;r||(r=Object.keys(n)),u.sort&&r.sort(u.sort);for(var y=i(),_=0;_<r.length;++_){var v=r[_];u.skipNulls&&null===n[v]||c(h,m(n[v],v,f,g,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,y))}var b=h.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},7720:(e,t,r)=>{"use strict";var i=r(4765),n=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],o=n.obj[n.prop],s=Object.keys(o),l=0;l<s.length;++l){var u=s[l],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:u}),r.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var i=[],n=0;n<r.length;++n)void 0!==r[n]&&i.push(r[n]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,r,n,a){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",u=0;u<s.length;++u){var c=s.charCodeAt(u);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===i.RFC1738&&(40===c||41===c)?l+=s.charAt(u):c<128?l+=o[c]:c<2048?l+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?l+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(u+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(u)),l+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(a(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var o=t;return a(t)&&!a(r)&&(o=s(t,i)),a(t)&&a(r)?(r.forEach((function(r,a){if(n.call(t,a)){var o=t[a];o&&"object"==typeof o&&r&&"object"==typeof r?t[a]=e(o,r,i):t.push(r)}else t[a]=r})),t):Object.keys(r).reduce((function(t,a){var o=r[a];return n.call(t,a)?t[a]=e(t[a],o,i):t[a]=o,t}),o)}}},6048:e=>{"use strict";var t={};function r(e,r,i){i||(i=Error);var n=function(e){var t,i;function n(t,i,n){return e.call(this,function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(t,i,n))||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,a,o,s,l;if("string"==typeof t&&(a="not ",t.substr(0,4)===a)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var u=("number"!=typeof l&&(l=0),l+1>(s=e).length||-1===s.indexOf(".",l)?"argument":"property");o='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(i(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},5382:(e,t,r)=>{"use strict";var i=r(5606),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var a=r(5412),o=r(6708);r(6698)(c,a);for(var s=n(o.prototype),l=0;l<s.length;l++){var u=s[l];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},3600:(e,t,r)=>{"use strict";e.exports=n;var i=r(4610);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(6698)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},5412:(e,t,r)=>{"use strict";var i,n=r(5606);e.exports=x,x.ReadableState=A,r(7007).EventEmitter;var a,o=function(e,t){return e.listeners(t).length},s=r(345),l=r(8287).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=r(9838);a=c&&c.debuglog?c.debuglog("stream"):function(){};var d,h,p,f=r(2726),m=r(5896),g=r(5291).getHighWaterMark,y=r(6048).F,_=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,b=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(6698)(x,s);var S=m.errorOrDestroy,E=["error","close","destroy","pause","resume"];function A(e,t,n){i=i||r(5382),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(3141).I),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function x(e){if(i=i||r(5382),!(this instanceof x))return new x(e);var t=this instanceof i;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,r,i,n){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}}(e,s);else if(n||(o=function(e,t){var r,i;return i=t,l.isBuffer(i)||i instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),o)S(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i)s.endEmitted?S(e,new w):T(e,s,t,!0);else if(s.ended)S(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?T(e,s,t,!1):C(e,s)):T(e,s,t,!1)}else i||(s.reading=!1,C(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function T(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),C(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=m.destroy,x.prototype._undestroy=m.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},x.prototype.unshift=function(e){return k(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){d||(d=r(3141).I);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var M=1073741824;function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(I,e))}function I(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function j(e){a("readable nexttick read 0"),e.read(0)}function P(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(F,t,e))}function F(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}x.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):R(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,n=t.needReadable;return a("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",n=!0),t.ended||t.reading?a("reading or ended",n=!1):n&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},x.prototype._read=function(e){S(this,new b("_read()"))},x.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===n.stdout||e===n.stderr?m:l;function l(){a("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",(function t(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",l),r.removeListener("end",m),r.removeListener("data",d),c=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",u);var c=!1;function d(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!c&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){a("onerror",t),m(),e.removeListener("error",h),0===o(e,"error")&&S(e,t)}function p(){e.removeListener("finish",f),m()}function f(){a("onfinish"),e.removeListener("close",p),m()}function m(){a("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=z(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},x.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?R(this):i.reading||n.nextTick(j,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(O,this),r},x.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(O,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){a("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){a("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(2955)),h(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=N,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===p&&(p=r(5157)),p(x,e,t)})},4610:(e,t,r)=>{"use strict";e.exports=c;var i=r(6048).F,n=i.ERR_METHOD_NOT_IMPLEMENTED,a=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,l=r(5382);function u(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r(6698)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new n("_transform()"))},c.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},6708:(e,t,r)=>{"use strict";var i,n=r(5606);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=x,x.WritableState=A;var o,s={deprecate:r(4643)},l=r(345),u=r(8287).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=r(5896),h=r(5291).getHighWaterMark,p=r(6048).F,f=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,b=p.ERR_STREAM_WRITE_AFTER_END,w=p.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function E(){}function A(e,t,o){i=i||r(5382),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,a){--t.pendingcb,r?(n.nextTick(a,i),n.nextTick(I,e,t),e._writableState.errorEmitted=!0,S(e,i)):(a(i),e._writableState.errorEmitted=!0,S(e,i),I(e,t))}(e,r,i,t,a);else{var o=L(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||M(e,r),i?n.nextTick(T,e,r,o,a):T(e,r,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function x(e){var t=this instanceof(i=i||r(5382));if(!t&&!o.call(x,this))return new x(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function k(e,t,r,i,n,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}function T(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),I(e,t)}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var s=0,l=!0;r;)n[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;n.allBuffers=l,k(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,d=r.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,c,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function L(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var r=L(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(6698)(x,l),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===x&&e&&e._writableState instanceof A}})):o=function(e){return e instanceof this},x.prototype.pipe=function(){S(this,new y)},x.prototype.write=function(e,t,r){var i,a=this._writableState,o=!1,s=!a.objectMode&&(i=e,u.isBuffer(i)||i instanceof c);return s&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=E),a.ending?function(e,t){var r=new b;S(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var a;return null===r?a=new v:"string"==typeof r||t.objectMode||(a=new f("chunk",["string","Buffer"],r)),!a||(S(e,a),n.nextTick(i,a),!1)}(this,a,e,r))&&(a.pendingcb++,o=function(e,t,r,i,n,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var s=t.objectMode?1:i.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,s,i,n,a);return l}(this,a,s,e,t,r)),o},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new m("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,I(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)}},2955:(e,t,r)=>{"use strict";var i,n=r(5606);function a(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(6238),s=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function f(e,t){return{value:e,done:t}}function m(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[d]=null,e[s]=null,e[l]=null,t(f(r,!1)))}}function g(e){n.nextTick(m,e)}var y=Object.getPrototypeOf((function(){})),_=Object.setPrototypeOf((a(i={get stream(){return this[p]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(void 0,!0));if(this[p].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(f(void 0,!0))}))}));var r,i=this[d];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[c]?r(f(void 0,!0)):t[h](r,i)}),i)}}(i,this));else{var a=this[p].read();if(null!==a)return Promise.resolve(f(a,!1));r=new Promise(this[h])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),a(i,"return",(function(){var e=this;return new Promise((function(t,r){e[p].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),i),y);e.exports=function(e){var t,r=Object.create(_,(a(t={},p,{value:e,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,l,{value:null,writable:!0}),a(t,u,{value:null,writable:!0}),a(t,c,{value:e._readableState.endEmitted,writable:!0}),a(t,h,{value:function(e,t){var i=r[p].read();i?(r[d]=null,r[s]=null,r[l]=null,e(f(i,!1))):(r[s]=e,r[l]=t)},writable:!0}),t));return r[d]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];return null!==t&&(r[d]=null,r[s]=null,r[l]=null,t(e)),void(r[u]=e)}var i=r[s];null!==i&&(r[d]=null,r[s]=null,r[l]=null,i(f(void 0,!0))),r[c]=!0})),e.on("readable",g.bind(null,r)),r}},2726:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var l=r(8287).Buffer,u=r(5340).inspect,c=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,r,i,n=l.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,r=n,i=o,l.prototype.copy.call(t,r,i),o+=a.data.length,a=a.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,a=e>n.length?n.length:e;if(a===n.length?i+=n:i+=n.slice(0,e),0==(e-=a)){a===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(a));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,a=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,a),0==(e-=a)){a===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(a));break}++i}return this.length-=i,t}},{key:c,value:function(e,t){return u(this,n(n({},t),{},{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},5896:(e,t,r)=>{"use strict";var i=r(5606);function n(e,t){o(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,e)):i.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(a,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(a,r),t(e)):i.nextTick(a,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},6238:(e,t,r)=>{"use strict";var i=r(6048).F.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(a||n);var o=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||c()},u=t._writableState&&t._writableState.finished,c=function(){s=!1,u=!0,o||a.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,d=!0,s||a.call(t)},p=function(e){a.call(t,e)},f=function(){var e;return o&&!d?(t._readableState&&t._readableState.ended||(e=new i),a.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new i),a.call(t,e)):void 0},m=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",f),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",h),t.on("finish",c),!1!==r.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",c),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},5157:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},7758:(e,t,r)=>{"use strict";var i,n=r(6048).F,a=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c,d=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var h=t.map((function(e,n){var a=n<t.length-1;return function(e,t,n,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;e.on("close",(function(){s=!0})),void 0===i&&(i=r(6238)),i(e,{readable:t,writable:n},(function(e){if(e)return a(e);s=!0,a()}));var l=!1;return function(t){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new o("pipe"))}}(e,a,n>0,(function(e){c||(c=e),e&&h.forEach(l),a||(h.forEach(l),d(c))}))}));return t.reduce(u)}},5291:(e,t,r)=>{"use strict";var i=r(6048).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new i(n?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},345:(e,t,r)=>{e.exports=r(7007).EventEmitter},8399:(e,t,r)=>{(t=e.exports=r(5412)).Stream=t,t.Readable=t,t.Writable=r(6708),t.Duplex=r(5382),t.Transform=r(4610),t.PassThrough=r(3600),t.finished=r(6238),t.pipeline=r(7758)},2861:(e,t,r)=>{var i=r(8287),n=i.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(a(i,t),t.Buffer=o),o.prototype=Object.create(n.prototype),a(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},6897:(e,t,r)=>{"use strict";var i=r(453),n=r(41),a=r(592)(),o=r(5795),s=i("%TypeError%"),l=i("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,u=!0;if("length"in e&&o){var c=o(e,"length");c&&!c.configurable&&(i=!1),c&&!c.writable&&(u=!1)}return(i||u||!r)&&(a?n(e,"length",t,!0,!0):n(e,"length",t)),e}},920:(e,t,r)=>{"use strict";var i=r(453),n=r(8075),a=r(8859),o=i("%TypeError%"),s=i("%WeakMap%",!0),l=i("%Map%",!0),u=n("WeakMap.prototype.get",!0),c=n("WeakMap.prototype.set",!0),d=n("WeakMap.prototype.has",!0),h=n("Map.prototype.get",!0),p=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),m=function(e,t){for(var r,i=e;null!==(r=i.next);i=r)if(r.key===t)return i.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,i={assert:function(e){if(!i.has(e))throw new o("Side channel does not contain "+a(e))},get:function(i){if(s&&i&&("object"==typeof i||"function"==typeof i)){if(e)return u(e,i)}else if(l){if(t)return h(t,i)}else if(r)return function(e,t){var r=m(e,t);return r&&r.value}(r,i)},has:function(i){if(s&&i&&("object"==typeof i||"function"==typeof i)){if(e)return d(e,i)}else if(l){if(t)return f(t,i)}else if(r)return function(e,t){return!!m(e,t)}(r,i);return!1},set:function(i,n){s&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new s),c(e,i,n)):l?(t||(t=new l),p(t,i,n)):(r||(r={key:{},next:null}),function(e,t,r){var i=m(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}}(r,i,n))}};return i}},1568:(e,t,r)=>{var i=r(5537),n=r(6917),a=r(7510),o=r(6866),s=r(8835),l=t;l.request=function(e,t){e="string"==typeof e?s.parse(e):a(e);var n=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",o=e.protocol||n,l=e.hostname||e.host,u=e.port,c=e.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),e.url=(l?o+"//"+l:"")+(u?":"+u:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var d=new i(e);return t&&d.on("response",t),d},l.get=function(e,t){var r=l.request(e,t);return r.end(),r},l.ClientRequest=i,l.IncomingMessage=n.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=o,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(e,t,r)=>{var i;function n(){if(void 0!==i)return i;if(r.g.XMLHttpRequest){i=new r.g.XMLHttpRequest;try{i.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function a(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}t.fetch=o(r.g.fetch)&&o(r.g.ReadableStream),t.writableStream=o(r.g.WritableStream),t.abortController=o(r.g.AbortController),t.arraybuffer=t.fetch||a("arraybuffer"),t.msstream=!t.fetch&&a("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&o(n().overrideMimeType),i=null},5537:(e,t,r)=>{var i=r(8287).Buffer,n=r(5606),a=r(6688),o=r(6698),s=r(6917),l=r(8399),u=s.IncomingMessage,c=s.readyStates,d=e.exports=function(e){var t,r=this;l.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":"text"}(t,n),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};o(d,l.Writable),d.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var i=e._headers,o=null;"GET"!==t.method&&"HEAD"!==t.method&&(o=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var s=[];if(Object.keys(i).forEach((function(e){var t=i[e].name,r=i[e].value;Array.isArray(r)?r.forEach((function(e){s.push([t,e])})):s.push([t,r])})),"fetch"===e._mode){var l=null;if(a.abortController){var u=new AbortController;l=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:s,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var d=e._xhr=new r.g.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}"responseType"in d&&(d.responseType=e._mode),"withCredentials"in d&&(d.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(d.timeout=t.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),s.forEach((function(e){d.setRequestHeader(e[0],e[1])})),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case c.LOADING:case c.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{d.send(o)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}}}},d.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},d.prototype._write=function(e,t,r){this._body.push(e),r()},d.prototype._resetTimers=function(e){var t=this;r.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(r.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=r.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},d.prototype.abort=d.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},d.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),l.Writable.prototype.end.call(this,e,t,r)},d.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)},d.prototype.flushHeaders=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(e,t,r)=>{var i=r(5606),n=r(8287).Buffer,a=r(6688),o=r(6698),s=r(8399),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(e,t,r,o){var l=this;if(s.Readable.call(l),l._mode=r,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){i.nextTick((function(){l.emit("close")}))})),"fetch"===r){if(l._fetchResponse=t,l.url=t.url,l.statusCode=t.status,l.statusMessage=t.statusText,t.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)})),a.writableStream){var u=new WritableStream({write:function(e){return o(!1),new Promise((function(t,r){l._destroyed?r():l.push(n.from(e))?t():l._resumeFetch=t}))},close:function(){o(!0),l._destroyed||l.push(null)},abort:function(e){o(!0),l._destroyed||l.emit("error",e)}});try{return void t.body.pipeTo(u).catch((function(e){o(!0),l._destroyed||l.emit("error",e)}))}catch(e){}}var c=t.body.getReader();!function e(){c.read().then((function(t){l._destroyed||(o(t.done),t.done?l.push(null):(l.push(n.from(t.value)),e()))})).catch((function(e){o(!0),l._destroyed||l.emit("error",e)}))}()}else if(l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===l.headers[r]&&(l.headers[r]=[]),l.headers[r].push(t[2])):void 0!==l.headers[r]?l.headers[r]+=", "+t[2]:l.headers[r]=t[2],l.rawHeaders.push(t[1],t[2])}})),l._charset="x-user-defined",!a.overrideMimeType){var d=l.rawHeaders["mime-type"];if(d){var h=d.match(/;\s*charset=([^;])(;|$)/);h&&(l._charset=h[1].toLowerCase())}l._charset||(l._charset="utf-8")}};o(u,s.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(e){var t=this,i=t._xhr,a=null;switch(t._mode){case"text":if((a=i.responseText).length>t._pos){var o=a.substr(t._pos);if("x-user-defined"===t._charset){for(var s=n.alloc(o.length),u=0;u<o.length;u++)s[u]=255&o.charCodeAt(u);t.push(s)}else t.push(o,t._charset);t._pos=a.length}break;case"arraybuffer":if(i.readyState!==l.DONE||!i.response)break;a=i.response,t.push(n.from(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":if(a=i.response,i.readyState!==l.LOADING||!a)break;t.push(n.from(new Uint8Array(a)));break;case"ms-stream":if(a=i.response,i.readyState!==l.LOADING)break;var c=new r.g.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(n.from(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){e(!0),t.push(null)},c.readAsArrayBuffer(a)}t._xhr.readyState===l.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},3141:(e,t,r)=>{"use strict";var i=r(2861).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.I=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=o(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},8835:(e,t,r)=>{"use strict";var i=r(9655);function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),c=["%","/","?",";","#"].concat(u),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(5373);function _(e,t,r){if(e&&"object"==typeof e&&e instanceof n)return e;var i=new n;return i.parse(e,t,r),i}n.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",l=e.split(o);l[0]=l[0].replace(/\\/g,"/");var _=e=l.join(o);if(_=_.trim(),!r&&1===e.split("#").length){var v=s.exec(_);if(v)return this.path=_,this.href=_,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=a.exec(_);if(b){var w=(b=b[0]).toLowerCase();this.protocol=w,_=_.substr(b.length)}if(r||b||_.match(/^\/\/[^@/]+@[^@/]+/)){var S="//"===_.substr(0,2);!S||b&&m[b]||(_=_.substr(2),this.slashes=!0)}if(!m[b]&&(S||b&&!g[b])){for(var E,A,x=-1,k=0;k<d.length;k++)-1!==(T=_.indexOf(d[k]))&&(-1===x||T<x)&&(x=T);for(-1!==(A=-1===x?_.lastIndexOf("@"):_.lastIndexOf("@",x))&&(E=_.slice(0,A),_=_.slice(A+1),this.auth=decodeURIComponent(E)),x=-1,k=0;k<c.length;k++){var T;-1!==(T=_.indexOf(c[k]))&&(-1===x||T<x)&&(x=T)}-1===x&&(x=_.length),this.host=_.slice(0,x),_=_.slice(x),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var L=this.hostname.split(/\./),R=(k=0,L.length);k<R;k++){var I=L[k];if(I&&!I.match(h)){for(var C="",D=0,O=I.length;D<O;D++)I.charCodeAt(D)>127?C+="x":C+=I[D];if(!C.match(h)){var j=L.slice(0,k),P=L.slice(k+1),B=I.match(p);B&&(j.push(B[1]),P.unshift(B[2])),P.length&&(_="/"+P.join(".")+_),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=i.toASCII(this.hostname));var N=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+N,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!f[w])for(k=0,R=u.length;k<R;k++){var F=u[k];if(-1!==_.indexOf(F)){var z=encodeURIComponent(F);z===F&&(z=escape(F)),_=_.split(F).join(z)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var H=_.indexOf("?");if(-1!==H?(this.search=_.substr(H),this.query=_.substr(H+1),t&&(this.query=y.parse(this.query)),_=_.slice(0,H)):t&&(this.search="",this.query={}),_&&(this.pathname=_),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var G=this.search||"";this.path=N+G}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,a="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(a=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+n+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+i},n.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if("string"==typeof e){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var u=s[l];"protocol"!==u&&(r[u]=e[u])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var h=c[d];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var f=r.pathname||"",y=r.search||"";r.path=f+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=v||_||r.host&&e.pathname,w=b,S=r.pathname&&r.pathname.split("/")||[],E=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===S[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),r.search=e.search,r.query=e.query;else if(null!=e.search)return E&&(r.host=S.shift(),r.hostname=r.host,(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.hostname=M.shift(),r.host=r.hostname)),r.search=e.search,r.query=e.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=S.slice(-1)[0],x=(r.host||e.host||S.length>1)&&("."===A||".."===A)||""===A,k=0,T=S.length;T>=0;T--)"."===(A=S[T])?S.splice(T,1):".."===A?(S.splice(T,1),k++):k&&(S.splice(T,1),k--);if(!b&&!w)for(;k--;k)S.unshift("..");!b||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),x&&"/"!==S.join("/").substr(-1)&&S.push("");var M,L=""===S[0]||S[0]&&"/"===S[0].charAt(0);return E&&(r.hostname=L?"":S.length?S.shift():"",r.host=r.hostname,(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.hostname=M.shift(),r.host=r.hostname)),(b=b||r.host&&S.length)&&!L&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=_,t.resolve=function(e,t){return _(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?_(e,!1,!0).resolveObject(t):t},t.format=function(e){return"string"==typeof e&&(e=_(e)),e instanceof n?e.format():n.prototype.format.call(e)},t.Url=n},4643:(e,t,r)=>{function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},7510:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var i=arguments[r];for(var n in i)t.call(i,n)&&(e[n]=i[n])}return e};var t=Object.prototype.hasOwnProperty},477:()=>{},2634:()=>{},5340:()=>{},9838:()=>{}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=r(8708),t=r.n(e),i=r(8579),n=r.n(i),a=r(2148),o=r.n(a),s=r(1568),l=r.n(s),u=r(4636),c=r.n(u);(()=>{class e{#e;#t=!1;#r;#i=0;#n=1;#a="FIFO"+(new Date).getTime();#o="fifo"+(new Date).getTime();constructor(e=e=>{}){const t=this;this.#e=window.indexedDB,this.#e||console.error("IndexedDB could not be found in this browser."),this.close().catch();const r=this.#e.open(this.#a,1);r.onerror=function(e){console.error("An error occurred with IndexedDB"),console.error(e)},r.onupgradeneeded=function(){t.#r=r.result,t.#r.createObjectStore(t.#o,{keyPath:"id",autoIncrement:!0})},r.onsuccess=function(){console.log("Database opened successfully"),t.#r=r.result,t.#t=!0,e&&e(t)}}#s(e,t){if(!this.#t)return;const r=this.#r.transaction(this.#o,e);return r.onerror=e=>{console.error("An error occurred with put"),console.error(e)},r.oncomplete=function(){},t(r,r.objectStore(this.#o))}#l(e,t){return t(e,e.objectStore(this.#o))}size(){return new Promise((e=>e(this.#i)))}showSize(){return this.#s("readonly",((e,t)=>{t.count().onsuccess=function(){console.log(this.#i)}}))}put(e){const t=this;return this.#s("readwrite",((r,i)=>new Promise((r=>{i.put({data:e}),t.#i+=1,r(t.#i)}))))}get(){const e=this;return this.#s("readwrite",((t,r)=>new Promise(((i,n)=>{const a=r.get(e.#n);a.onsuccess=async function(){a.result?(e.#i-=1,e.#n+=1,await e.#l(t,((e,t)=>new Promise((r=>{e.oncomplete=function(){r()},t.delete(a.result.id)})))),i({size:e.#i,data:a.result.data})):n()}}))))}close(){return this.#t&&this.#r.close(),new Promise(((e,t)=>{const r=this.#e.deleteDatabase(this.#a);r.onerror=e=>{t("Error deleting database.")},r.onsuccess=r=>{void 0===r.result?e("Database deleted successfully."):t("Error deleting fail.")}}))}deleteOnExit(){let e=this;window.addEventListener("beforeunload",(function(t){e.close().catch((()=>{}))}))}static test(){new e((async e=>{e.put(1).then((e=>1!=e?console.error("size:1 ",e):console.log("1ok"))),e.put(2).then((e=>2!=e?console.error("size:2 ",e):console.log("2ok"))),e.put(3).then((e=>3!=e?console.error("size:3 ",e):console.log("3ok"))),e.put(4).then((e=>4!=e?console.error("size:4 ",e):console.log("4ok"))),e.size().then((e=>4!=e?console.error("size:4 ",e):console.log("5ok"))),console.log("1!"),await e.get().then((e=>1!=e.id?console.error(e):console.log("6ok"))).catch((()=>{})),console.log("2!"),await e.get().then((e=>2!=e.id?console.error(e):console.log("7ok"))).catch((()=>{})),console.log("3!"),e.close().then((e=>console.log(e))).catch((e=>console.error(e))),console.log("fin")}))}}class r{#u=document.createElement("_");eventCall(e,t=void 0,r=this.#u){let i=new Event(e,{bubbles:!0,cancelable:!1});i.detail=t,r.dispatchEvent(i)}promise(e,t=({event:e})=>{}){return r.toPromise(this,e,t)}static toPromise(e,t,r=({event:e})=>{}){return new Promise(((i,n)=>{let a=e.addEventListener(t,(r=>{e.removeEventListener(t,a),i({object:e,name:t,event:a,data:r})}));try{r({event:a})}catch(r){e.removeEventListener(t,a),n({object:e,name:t,event:a,error:r})}}))}addEventListener(e,t,r=this.#u){let i=e=>t(e.detail);return r.addEventListener(e,i),i}removeEventListener(e,t,r=this.#u){r.addEventListener(e,t)}constructor(e){this.#u=document.createElement(e)}static test(){let e=new r;e.addEventListener("test",(e=>{"ss"==e?console.log("event ok"):console.error(e)})),e.promise("test").then((e=>{"ss"==e?console.log("promise ok"):console.error(e)})),e.eventCall("test","ss")}}class i extends r{#c=!1;#d=!1;#h=()=>this.#d||this.#p<=1&&0==this.#f&&this.#c;#m;#g=(new Date).getTime();#y="";#_=0;#v;#f=0;#p=0;#b;#w;#S=20;#E=30;#A=1e3;#x=2e3;#k(e,t=1e3,r=!1){return new Promise(((i,n)=>{if(e())return i();let a=()=>setTimeout((()=>e()?i():r?n():a()),t);a()}))}#T=()=>{let e=this;var t=new Headers;t.append("Range","bytes="+e.#_+"-"),fetch(new Request(e.#y,{method:"GET",headers:t,mode:"cors",cache:"default"})).then((t=>{const r=t.body.getReader();r.read().then((function t({done:i,value:n}){return i?e.eventCall("fetch.done","ok"):e.#h()?void 0:(e.#_+=n.length,e.#m.put(n).then((t=>{e.#f=t})),e.#f>e.#x?(r.cancel(),e.#k((()=>e.#h()||e.#f<e.#A)).then((()=>e.#T()))):r.read().then(t))}))})).catch((({event:t,error:r})=>e.eventCall("error",{altmsg:r})))};#M=()=>{let e=this,t=()=>{if(0!=e.#w.sourceBuffers.length&&0!=e.#b.buffered.length?e.#p=e.#b.buffered.end(e.#b.buffered.length-1)-e.#v.currentTime:e.#p=0,!e.#h())return e.#p<e.#E?e.#m.get().then((({size:t,data:r})=>{e.#f=t,e.#b.appendBuffer(r)})).catch((()=>setTimeout(t,1e3))):e.#k((()=>(0!=e.#w.sourceBuffers.length&&0!=e.#b.buffered.length?e.#p=e.#b.buffered.end(e.#b.buffered.length-1)-e.#v.currentTime:e.#p=0,e.#h()||e.#p<e.#S))).then(t);try{e.eventCall("mediaSource.sourceended"),e.#w.endOfStream()}catch{}};e.#b.addEventListener("updateend",t),t()};#L(){let e=this;setTimeout((()=>{e.#h()||(console.log("[%s] fifo: %d buf: %d",e.#g,e.#f,e.#p),e.#L())}),2e3)}#R(){let e=t=>{this.#d=!0,this.removeEventListener("mediaSource.sourceended",e),this.removeEventListener("beforeunload",e,window),this.removeEventListener("mediaSource.error",e),this.removeEventListener("error",e,this.#v),this.removeEventListener("error",e,this.#b),t.event&&t.event.name&&-1!=t.event.name.indexOf("error")?console.error(t):console.log(t),t.event&&t.event.altmsg&&alert(t.altmsg)};this.promise("mediaSource.sourceended").then(e).catch((()=>{})),this.promise("mediaSource.error").then(e).catch((()=>{})),r.toPromise(window,"beforeunload").then(e).catch((()=>{})),r.toPromise(this.#v,"error").then(e).catch((()=>{})),r.toPromise(this.#b,"error").then(e).catch((()=>{}))}constructor({video:t,url:r,mimeType:i='video/mp4; codecs="avc1.640032,mp4a.40.2"',mode:n="sequence",mp4LoadFromDB:a=20,mp4StopFromDB:o=30,mp4LoadFromWeb:s=1e3,mp4StopFromWeb:l=2e3}){super();let u=this;u.#y=r,u.#v=t,u.#S=a,u.#E=o,u.#A=s,u.#x=l,MediaSource.isTypeSupported(i)?(this.#w=new MediaSource,this.#w.addEventListener("sourceopen",(()=>{u.eventCall("mediaSource.sourceopen"),u.#b=u.#w.addSourceBuffer(i),u.#b.mode=n,0!=u.#w.sourceBuffers.length?(this.promise("fetch.done").then((()=>{u.#c=!0,console.log("[%s] fetch.done",u.#g)})),u.#R(),u.#L(),u.#M(),u.#T()):u.eventCall("mediaSource.error",{altmsg:"addSourceBuffer error"})})),new e((e=>{e.deleteOnExit(),u.#m=e,u.#v.src=URL.createObjectURL(u.#w)}))):u.eventCall("mediaSource.error",{altmsg:i+" not Supported"})}}console.log("init 31");let a,s=new URL(window.location.href).searchParams,u=null,d={container:".artplayer-app",url:"../stream?_="+(new Date).getTime()+"&ref="+s.get("ref")+"&st="+(s.get("st")?s.get("st"):"")+"&dur="+(s.get("dur")?s.get("dur"):""),title:""+(new Date).getTime(),type:s.get("format")||"flv",volume:.5,hotkey:!0,isLive:!0,muted:!1,autoplay:"now"==s.get("ref"),autoMini:!0,screenshot:!0,setting:!0,loop:!1,flip:!0,playbackRate:!0,aspectRatio:!0,fullscreen:!0,fullscreenWeb:!0,subtitleOffset:!0,miniProgressBar:!0,mutex:!0,backdrop:!0,playsInline:!0,autoPlayback:!1,theme:"#23ade5",lang:navigator.language.toLowerCase(),whitelist:["*"],moreVideoAttr:{crossOrigin:"anonymous"},settings:[],contextmenu:[],layers:[],quality:[],thumbnails:{},subtitle:{},highlight:[],controls:[{name:"翻转",index:10,position:"right",html:'<img width="22" heigth="22" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjczOTc5NTQ2Mjk4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI1MzkiIGlkPSJteF9uXzE2NzM5Nzk1NDYyOTkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTUxMiA3MTkuMzZjNy42OCAwIDEyLjgtMi41NiAxNy45Mi03LjY4bDE4MS43Ni0xODEuNzZjMTAuMjQtMTAuMjQgMTAuMjQtMjUuNiAwLTM1Ljg0bC0xODEuNzYtMTgxLjc2Yy01LjEyLTUuMTItMTIuOC03LjY4LTE3LjkyLTcuNjhzLTEyLjggMi41Ni0xNy45MiA3LjY4bC0xODEuNzYgMTgxLjc2Yy0xMC4yNCAxMC4yNC0xMC4yNCAyNS42IDAgMzUuODRsMTgxLjc2IDE4MS43NmM1LjEyIDUuMTIgMTAuMjQgNy42OCAxNy45MiA3LjY4eiBtMC0zNTMuMjhsMTQ1LjkyIDE0NS45Mi0xNDUuOTIgMTQ1LjkyLTE0NS45Mi0xNDUuOTIgMTQ1LjkyLTE0NS45MnoiIHAtaWQ9IjI1NDAiIGZpbGw9IiNlNmU2ZTYiPjwvcGF0aD48cGF0aCBkPSJNNTEyIDUxLjJjLTEwMi40IDAtMjAyLjI0IDMzLjI4LTI4MS42IDk3LjI4VjEwMi40YzAtMTIuOC0xMC4yNC0yNS42LTI1LjYtMjUuNi0xMi44IDAtMjUuNiAxMC4yNC0yNS42IDI1LjZ2OTkuODRjMCA3LjY4IDIuNTYgMTUuMzYgNy42OCAyMC40OCAyLjU2IDIuNTYgNS4xMiA1LjEyIDEwLjI0IDUuMTIgMi41NiAwIDUuMTIgMi41NiA3LjY4IDIuNTZoMTAyLjRjMTIuOCAwIDI1LjYtMTAuMjQgMjUuNi0yNS42IDAtMTIuOC0xMC4yNC0yNS42LTI1LjYtMjUuNmgtMzMuMjhjNjkuMTItNDguNjQgMTUxLjA0LTc2LjggMjM4LjA4LTc2LjggMjI1LjI4IDAgNDA5LjYgMTg0LjMyIDQwOS42IDQwOS42IDAgMTUuMzYgMTAuMjQgMjUuNiAyNS42IDI1LjZzMjUuNi0xMC4yNCAyNS42LTI1LjZjMC0yNTMuNDQtMjA3LjM2LTQ2MC44LTQ2MC44LTQ2MC44ek04MzcuMTIgODAxLjI4Yy01LjEyLTUuMTItMTIuOC03LjY4LTIwLjQ4LTcuNjhoLTEwMi40Yy0xMi44IDAtMjUuNiAxMC4yNC0yNS42IDI1LjYgMCAxMi44IDEwLjI0IDI1LjYgMjUuNiAyNS42aDMzLjI4Yy02OS4xMiA0OC42NC0xNTEuMDQgNzYuOC0yMzguMDggNzYuOC0yMjUuMjggMC00MDkuNi0xODQuMzItNDA5LjYtNDA5LjYgMC0xNS4zNi0xMC4yNC0yNS42LTI1LjYtMjUuNnMtMjUuNiAxMC4yNC0yNS42IDI1LjZjMCAyNTMuNDQgMjA3LjM2IDQ2MC44IDQ2MC44IDQ2MC44IDEwMi40IDAgMjAyLjI0LTMzLjI4IDI4MS42LTk3LjI4djQ2LjA4YzAgMTIuOCAxMC4yNCAyNS42IDI1LjYgMjUuNiAxMi44IDAgMjUuNi0xMC4yNCAyNS42LTI1LjZ2LTEwMi40YzIuNTYtNS4xMiAwLTEyLjgtNS4xMi0xNy45MnoiIHAtaWQ9IjI1NDEiIGZpbGw9IiNlNmU2ZTYiPjwvcGF0aD48L3N2Zz4=">',click:function(...e){let t=function(...e){r(document.querySelector(".art-video")),r(document.querySelector(".art-danmuku"))},r=function(e){"rotateZ(0deg)"==e.style.transform||""==e.style.transform?e.style.transform="rotateZ(180deg)":e.style.transform="rotateZ(0deg)"};switch(screen.orientation.type){case"landscape-primary":screen.orientation.lock("landscape-secondary").catch((e=>{t()}));break;case"landscape-secondary":screen.orientation.lock("landscape-primary").catch((e=>{t()}));break;case"portrait-secondary":screen.orientation.lock("portrait-primary").catch((e=>{t()}));break;case"portrait-primary":screen.orientation.lock("portrait-secondary").catch((e=>{t()}));break;default:t()}}}],plugins:[o()({danmuku:[],speed:10,fontSize:"4%",emitter:document.body.clientWidth>800,opacity:.7,...JSON.parse(localStorage.getItem("danmuku")||"{}")})],icons:{loading:"<img src=data:image/gif;base64,R0lGODlhWgBaALMOAHR0dAICAnd3dwEBAXh4eAMDAwkJCQ0NDQsLCxwcHA4ODggICHl5eQAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiYWE1ODg5ZS1jN2RmLTRmZmUtYjkzOS0wMmVkMTZhNmNjZDIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0I2ODI2NjA1NzhGMTFFNkEyMEVDNzhEOUY1RkQxRjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0I2ODI2NUY1NzhGMTFFNkEyMEVDNzhEOUY1RkQxRjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjljYjgzNjY2LWYxYWUtNGMyZi1hMGEwLThhODJmYjIxM2U0MyIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmU1NDE3YzFmLTllODAtMTE3OS04NjdiLWUyN2Y3M2VkMTZkOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkKAA4ALAAAAABaAFoAAAT/0MlJq7046827/2AojmRpnmiqrmzrvnAsz3Ta3HW+3bjuV7wbg/H7BYXEYu7YGCaVjuDr6Hwqjy2qEzphNlTaIZfi/ZqY2zHZW0KL1RVGeRS2wiXD+ad+x8jZHXx9GX9MO2GDG3mGGG52iX5ojUFVRWWXmJmam1IknJ+goXoioqWmnHSnqquUpDxVsLGys7S1tk6Uj4dIt72+v7K5IcKQF8R7r1asPC7HHs7L0Z3Ogclr0tES1BzH2NiLSMPWUcnAsd7gTboaxLnm77e527vq2uMm8FXy98/j8z77woFoxw9Fp2pI/mUgKBDMQXrp3iATqNBeD3rMIBaqN9BfwWsZ/7kBmpTwo0aLHIF4kchupIWAKftRLHgpDYeND7skq2jMY0NyjlgqwnlRZ8mfCDlCqyO0A1E7MJueBBrTnc0RG1lGXbfQZ0w8sFLEAhmRK0khKJtWConv6lZXaKlKNWpmyk6TJxVqoWvw7iu49fQyLOrJWitx4QTzQhnX4sTAeLsmjuyO8cWcLScjFan5K9kkl9KapSuG50vDlFtlkjtaNGvEkDeDXIlprsrOts+WjkzVUZmrkmN7zsu7dzkiK3OTRl78NO7WQenK7vkc9u7pt9UJrZz0+vDMwpVPGGuBPOfwrbO/8SbNu3j1oNkvc5/+s3T5oraYhn8f/6e1zfFHQZY+BPbiWkdIFajgLMs9ZgoX+1nmn0upYOfchPK95iCG+L034HHpAAAAh6V4OOAsQYh4hAAC3EJAMO3VV55WmLBYiwAv+pKiirzoE+CGDbAoZFu4eCGiiOdYCBgPQrK4wiVHXlDJk0w4mUUZAGgAXApNDtmMkVn+0KWVLhxppojFsHBmlGm26eabcMYp55x01mnnnXjSEAEAIfkECQoADgAsAAAAAFoAWgAABP/QyUmrvTjrzbv/YCiOZGmeaKqubOu+cCxbTT3fX23jfKbXDEZvSPk1gkSiMShM8pZMZ1HngjalEiPLip1qUdZr12Hcmbhj73eETlMY5QbpxxS7JfCyqH2v5NccfH1+cR6CgxVxchqHiIR6GGGOG38/kXRIkxyVR2SKn6CFbKGkpaangDmoq6ytdh2tsbKhmaqzpHW5uru8lbWGOr3Cw8TFvJghmMbLUVvBrxvImmq/sM+Jt9mWE9K2R2La4VRZ1yDdnuLaTefWQFfp4kjsgeXo38z4xMjz0fXK+QB37asHzB03gkqu8WPkD+GQgQbNNYxIY1zBRf0MLvQx8duFVBn/zXDU6DBkrXllqo3cdokkxYsnEaZUudJiRZceJVI8N5NmTZsHcfpcGXOnpBCcRJITCo2h0afuhlISFdTjxpY57RW91/QDJ3AKSzrNyi5XCl/vwr5sB6RqtToZPZhdalXs2LRrvXwEqgEuXXl2ia4Ty7Jq1qX0mO4pt7DbTDWJ6+aNnKkx48duu2oVchVrZcKXqW6+yzmw58GTR4eie/im5NZsP6emhUsqRNiUUeO2F4cJqGanRycLvfs3kqSmb0sNLnxvzyvIlyvXzPyqMD9oqU9fHLEzLwy7TJZOTfovdRF+y3d2ThZeNsDkBRt272r87vLz6Z+Kst71L/2x8GcapHsqBWTgMOZxB9uBDIbXnDcAAricaxFKeB42FUY4IYbpHJCAAgYYsEABoQRgYgA6nIiicaNw9VUQ/zCoIhMz6tKfBcco84MAAjTIQI0/npjjfZtspQiPKdTogJI4AgcGKDwKoIKQKprok5MpCFBGlEgmWSWTPPBoBJctBCkklmFyKaULZgYwVxJqwnDmhtN4hWadJtyJ55589unnn4AGKuigG0QAACH5BAkKAA4ALAAAAABaAFoAAAT/0MlJq7046827/2AojmRpnmiqrmzrvnAsW009319t43ym1wxGb0j5NYJEojEoTPKWTOfzF5VOfi1o0yoxNlTaLdf7PXmr3CvZpE1bGORyKOx+x+Udev0CX3vaexhBcRyAgRmDXhp6U3ghfVQ+VEhDd5aXmJmajjmbnp+gOiShpKWWlCCmqqtHYn86TLGys7S1tre3kyKTuL2+v7mwrnnChxi6c8VqrFnKqc4OrNJ4yM9AYtPSy627xaLZzNHQr9fiNsC22ULVneWR6PC/k+zk3PQk8bHz48Tu/ErC7hXy9q9SwIKLCJZbgaVeooXW7CHsImpgww37ILaTqLGIIotG/zAe7NiPI7cKd1BJ8nMh48mISNidUomIUMuRLzfGdJYyloeHsG5eEyjSH8Qzsx5Byklx6MRjCl/y8olPFg2cNEvu7Jg0BVWPTkmC3MrUZ8VlYLAOG7sO4cWmnEa4zMrWHFOwJ5egmLu2qEm6dvMS1bkUcEKjd+FWOYNyh9bCfQ//7csr8Fm7hAevnAx14Z1thvECDd2Zs1DBmkgrhtwNMWBFS2ZGFs06mevIsnvOBl0bZluxcJEKWfqUt+bSZEP3nDBa9erjp5PvBtrKFS2HvQnbVW2LDxq20K+6BqeqeWuT5Mtnxx48/SdZ4RtDJO4+tb7i4nPm2/+L9/ms/AVYi3Z/tiVmTHx41Vefc/IpuOBupzmYHoMJZoPAAQ5SWEEtwkCGDgHBXOMhEwhuSEuHU+FCAIi48JIiJN/ttVxaQBjCXIxmKPKVjHHgiGOOYUAYERQGlbhRZUNc98KLSXT1woDGtLBjlFRWaeWVWGap5ZZcdumlChEAACH5BAkKAA4ALAAAAABaAFoAAAT/0MlJq7046827/2AojmRpnmiqrmzrvnAsW009319t43ym1wxGbzj5AYXEoTGITOKWTOfzx2xKHb8W1Ho1NlTba8X7PW25YnJ55I2KLQw1mxp8Y+LyHL1uv6vXGmd9GkF5gXuDHIVkPoiJHYtGF4JEf5aXmJmZJZqdnp+GIaCjpJloHKWpqlCiOlWvsLGys7S1THStR7a7vL2xuCDAj5Oup4dHwxjCHsvJRcW5DXxYqzouzajQ1NXc1hLYG8Dd4zvgx9JI5ONC5o3I2+i+sOSR6NF8e/L6tXTtytr+POyr0k+bnncBbxR8d9AevGkpsjArlnAMQIPEdmTzthFdRQri/zA+k9SBUTiKIjviE/kHojuS/458HOlwCc02Ll9KzOgx5UmGVL6pefUBjxee9XL+dPiQ3Rk3RY3upJnU2MtpuPJBFSEViEWZPs9hNQhLhVSIC5lOBErWDccSZal2tRqTqbmpQgFB2prV1b0mdzHCBKlRrFOGJQ0GRjw4r966dWY2lQvZCivKhic3HIuYMGObjtUiPSx6KWevoz3vdHSVtNLWqo0JGwovnmnXdGkI9smo09bKmteqBafqd2rJyxYP7Vost+PIYYFjvsBcF5kqiZEh3925wq3mSGQJh949881UEmJtxh2Mu7pU5EubD/1+VPzX0unX10R0e2fw+nDTX5l0qXk30IG0xOacgtThtxeCaBGoW3nO+LffhRTWheF+Dk64IYcLqjZOACQGUEABJA6g4orVdNjgPDoAIKNWENYDwA8y/pIhITA2cCNONRIUI44A2MLCj17IyIIRSCp5h4sgIBmjjAAsqYaTPTBJZZUrXInlEFt+CQYZVDoRZgwzTunMCmGWuWYLW74p55x01mnnnXjmqecNEQAAIfkEBQoADgAsAAAAAFoAWgAABP/QyUmrvTjrzbv/YCiOZGmeaKqubOu+cCzP9Nrcdb7duO5XvBuD8fsFhcSi7jhMKh3BF7P5lBxb02HVelUdG9Qtt3vKiinfRjnYdJ6h31LW/XYw0qJvuE65x0FmfBdpah1zghh+ZBmHiIl4jIGOGYo8kTx7NYSbnJ2en5t5oKOkpaEhpqmqo1ofq6+wenQ7mG22t7i5uru8TWyzGr+9w8TFub+AtZODyq7NY7AwyM5IaLHXURPTHttw2NjW1dRgSd/m5NCt3M3Cxm3nrd0c0+3u9rr0z4bs+iP37/zErRMnz0hAdOPi9TNIcGGwg+qY9dg38WFDgRQRFtSWLWNFiRr/HV4KiTGcSCCEMOQrSesiQpO1gIH8Y1IhS4skX0KLKfNCpUXeckacB9FNmjYhhhytWe4kSJsvZWUC4evZSp1EXaqb09MDLo5au1pgks5JOxZIy6pNJmTtBFuXUCCbgkqZPKSWUH4UVU1Y3b4nO4IFY2JuzL/oNroNOpRtYqcq7QbWRzZcRi2KcWJ2ygZmIWiXiWQeufnm4M8pFz8VDXk1466lVI+VbFoz69o7SzXW+xh3ZMC+g07ZNHU2cKyhX3f4aYtQcd6lkWftLd1nrtzVmSpHHH03pbRv/bak7t228HOvuot1jR6ber7U2696z72p/Pm3s5N28q9/se2OReTffYC7AJjQemeMZpx8MSjI230Q6rdghPeV9xuF8lmYyC48kcMLhhJuiIsw9RDo3IitOQbJBsawwQMAANxymA2cwEjjFzZapyFiL8Lo4404iojFET4WCSSRPgRRJABSEJKjDksyGUOUP/pg5AxUPrnMllx26eWXYIYp5phkjhkBADs=>",state:'<img width="150" heigth="150" src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQsAAAELCAYAAADOVaNSAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGaGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMDUtMDZUMjE6Mzk6MzErMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTA1LTA2VDIxOjQwOjU1KzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTA1LTA2VDIxOjQwOjU1KzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNhN2I0MGQwLTlkN2ItNDAwOS04YmMwLTY1NjZmY2I2OGQ5MyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjllYTQ0NDEzLTA5YWMtNGE0YS05OGI4LTZmMjQ1ZTViYmI4NiIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjlmZmM1YzJkLTA4ODEtNGU2My1hYTdhLWJmMDhiZTU3YzQ5ZSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OWZmYzVjMmQtMDg4MS00ZTYzLWFhN2EtYmYwOGJlNTdjNDllIiBzdEV2dDp3aGVuPSIyMDE5LTA1LTA2VDIxOjM5OjMxKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozYTdiNDBkMC05ZDdiLTQwMDktOGJjMC02NTY2ZmNiNjhkOTMiIHN0RXZ0OndoZW49IjIwMTktMDUtMDZUMjE6NDA6NTUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph7aCJkAADakSURBVHic7Z15mBTV1f+/VdVd3T09+8DAMMzCNjAgDPu+CQgq/lzAgBolRN8YQUTDi7yuPC4JwdckAhoNcUtIBH0TFMH4aCIGBRQBwxNBEFDRwCCLCA7M0vvvj+4abp0uuqt7umd6ps/neUo53VW3aupWnb7n3HPOlQKBABiGYaIht/QFMAzTOmBlwTCMKVhZMAxjClYWDMOYgpUFwzCmYGXBMIwpWFkwDMMwDMMwDNPMSC19ASlKS9wXDqWNjebuo7TvH/ZZMK0R/pFrAVhZMAxjClYWDMOYwtLSF9BCRBvG0u+N9o9lKGzG3vUnoI22QnP3DxB+f2O9322+f9JRWZh5EKM9jPGMyKI9jPQcRt+3+QfyAsTaH/H4NIz6J9r9Fr9v8/3DZgjDMKZgZcEwjCnS0QwxItZhbqzDXqPhKfVRmBnySkRui5gxA+k+Rv0RqylC+4N9SARWFsGHSo4gA+H3SUHkh9UI+vB5Da6D7i8+kNSGNrKRW+sDLJF/03uhGMhSBFk2aINC7xXtDx/Zh8pmaK39YQibIQzDmIKVBcMwpmBlwTCMKdLBZxHNOSZBbxPLAKzkGAeRVegVrcXgPCIBBG1eEReRG4jsht7P4SdtmLGHU9FmNuoP6jOiPgobken9txJZMWhDxEx/uKC//x5E749UvN8Jg0cWDMOYIh1GFgnn7rvvbvfDH/5wdKdOnQY4HI4Sv98vBwIB+Hy+ujNnzhx45513Nv70pz890NLXmc6sXLmyYuzYsSMLCwurFEXJ0D53u92nvvvuu/1PP/306ytWrPi2Ja+xtZEOqb4JNUN27949pbS0dJosy07tM01ZiNTU1By48cYbn3n//ffrkDwzJNrUaSoOi5NqhkyZMiXjqaeeuqF9+/ajIl6EJAW++OKL9QMHDlwf+igRZkissTOtinRUFjL0DxpVDgrCfRTZALB3795ZnTp1GmGz2TyyLDc+GBaLxSfLcuOD4ff7Zb/fL/l8vq8ef/zxhx988EE/gE5RrvMskeugfxi9CD6wGj7E/rC2xMMbLWBKgn6EKyNcOWQSOQN6haICkKuqqhyvvvrq3Hbt2nVQVbXxXsmyHBDlQCAg+f1+CQA8Hs8/HQ7HkwBKyTmosqhH5P4w+kGIFtjVqmCfhUlWr15d1alTpxGxHKMoSvmiRYv+96WXXipP0mUxIebPn1+8YcOG/87Ozi6O5Tir1XpxTU3NFcm6rrYEKwuTTJw48QfxHCfLcvurrrrq/oULF8b0EDPmueuuu4rvvffeuQ6HIz+e4x0Ox8yxY8dmRN8zvYk0vdRWaLLP4umnn+47YMCACZpssVj8kiQ1DullWQ5I0vkmA4GAFAgExHOogwYNGgZg3wcffEDNDQ03kT3Qmw1+6Ie1ZnwWqYCZ+099FtTxrhK50Udxzz33dF64cOF8i8XS+LIriuJXFKXxXkmSBFEGoOsfSZLUzMzMw3/961+PCfvQ8G4vIvcH0Dr6I27SdTYkkrKwgDycFRUVfT0eT+O9cjgcLovF0mifiv4KAJAkya8oivgwBnJzc5WHH374JzNnzvzdkCFDPgLQlVxTHpEt0OcruKB3whnZzKIMNE8yVDxJeFQ5i/fbyGeUS2QrAPmpp57qM3369OszMzNlRVHqGxsgygLk75QkKSDL+ssqLi4uB/ApOQ9VFjSRL5LPqE0pCiA9lUWsv3Twer0KGSmEKQhdg8FRhjjygMVi8VksFnXAgAHzv//++ydzcnJOksOMfj1FfNArDz+5Tj9S12EdKcmL3m8F4c8lvReWF154YcjUqVNnAoAsy3VUeYsOaMMLEkaGABByeNLr0I1GDK47Ve93UmCfRQvgdDrv+POf/zy0pa+jtfLiiy8O1hQF03ywsjDBgQMHqhPd5pQpU65ft27duES329Z57bXXxl5++eXXJbrdL7744kii22xrpMMwyqhQCrWZRRvZglBchUbv3r3L3n777XusVqsDAPLy8mpUVaX1DyKizetrNDQ02ADg6NGj23r06PEMgBJyCHWo1Yc2DRf0TlEfjJ2kussgcjwOuVh9FLTWhAX6+099FBYAWaSNbAD48MMPr+3SpcsQu93uFs1Au93uJg7NADUzolArSdJj5DMahFUD/f10Q3+//Qj3IbWpOIt08FnEU3VJN0u0d+9e344dO7YNHz58AhCc7Yj1IqiPIyMjowEAunfv3j8QCMyQJGkrOcSO8FmCSC+3jPCgoFiDhBJRdNaocA1VFhYi2wXZCsAJPeqmTZuml5WVDfT7/VBV1SMq69BsVFOuew3C/SL0ZafBfOnwQ6uDzRCTTJs2beOBAwf+laTmJ27fvv36JLXd6tm0adP0ioqKgUlqfqMkSeuj78awsoiB8ePHr02WwigvLx/y+eef/3dVVRWdNkxb+vbt6zh48OCCJCuK5Ulqu82RikOpRF9TNDOD2sxWhM/r6/I69uzZM7Fbt26ND7Cqqp5IU6lmqK2ttQPA2bNnq3/yk58seeONN7KgH557oTcr6hHMH9HwEVnbR8SMDyPa3xHNR0GH8zTpS4V+mpj6iBQAzsrKSvu6det+kp2dXayZbBoOh6NB9FHEeu8DgYBUU1OzOTc39ynh4yFkt3PQT1Wfhv7+0biX5vBZtGjsRqopi0RcTzQfBS2MYkZZ0FDtYx999NGknj17XgEATqezQZznTwCHhg0b9qft27fTYDHR1q8NbRpeBB9wkH1EaGZltKLARkQrpkvjRajvxQ59ohi933JFRUXOq6++enNeXl4RAHTo0OE7scGm+ijq6uredDqdfyEfU2XxHfQOzDNEjkdZJOJlbzGFwWZInAwbNuyNrVu3/jFJzXd54403HpkzZ060TNU2x3/9138VvfHGG7driiIJLHc6nc8nqe02TarlhjTHyMJMiroderKJfA6Ad/Xq1UfGjBlzqlu3bhc11QyhuN1u58iRIwfW19fv37lz51mD6/ZA/0vmR/SpUzr6ieeazUyVitCSg3SE1Hi/b7311k6LFy++zWaz6aZOMzMzdeaUJEkQc3FiYLkkSRtD56Rp8HT0SFPSG4gcT4mAVk1LKAspwhbte6NNNvGZTP5NZasga2aJeHy2wXWqAOyrV6/+dsKECUeKi4sHhOpYyEDsdjTF6/VaFEWxjBs3rp8kSZ9s3bq1JnRtmqmgPZiaWSUhaIoowuYV/l4Z50PERcXT1PttIW1aiWzD+dgK7SW1CbIVgBpSFD9VVdWu5XZoW0ZGhktTEKEtEIuyCAQC0pEjR1bm5ua+HzqfA0AHBKdotS2f/F31OB9CLyGoLERZUxbiMX6EPyeJft7NtJkUku2zMBPjEElORBtGNjbNAaDz/HQkQX91OpBjPrvrrruy/+d//meexWJxZGRkuKhTronUbty48Y1JkybtFz7TXjoND4J2tchpIlMHqBfhyU+RnHJGD2S04sZO6EcSTgSL1zTyq1/9qnLmzJk/sFqtDqvV6s3JydH5XkhSWKzU7ty589EhQ4aI/ZEHYDDZ7xsin4TeJ3EGsQVlaZ+JmAmCi7X6WbNVS0v2yCIVlQVNZJIRPiymQ1SqPDLJMd9u27btW5/P99nIkSMH2mw2yWq1xhThGQW1Q4cOg3v16lXz2muvHQ19RofzfoSX5qOy0cMcy8NlpCzoM2RmNqRxn5UrVw6aMWPG9YqiWIGgYrDb7TpzqgmjtFoA9xUXFx+BPirUgfDKZdQ5TCuVaSMLDTZDEkzaKAsA7m3btp31+XyfjRs3rp/NZkvoqM3j8VjKysoG9O3b97uQwmj1ymLlypWDrrrqqmt1jSVOWdQCuE+SpEOh87GyaCI8G5Jgli1bVr106dLFAA4lo/1LL730+rfffntKMtpuTlavXj2KKooEcgjAnSFFwSSIpvz6xTMKMPpVp3KkRYqpDAPZzDXQ2RBxJGFBeG5CByIXkmM6EPl0cXFx3SuvvDKtsLCwnd1ud5WUlBxHAqmurt7RuXPnNcJHDoT7Vmip+++JbFRBPNKvo+YAFqGjMKMkMHG04fnwww+v6dq162AAsFqt3ry8vAtVD4uHQ5dccsnKd955p0D4rB2AkYLsAnCCHPcfItM4i7PQB2nR2agAwhdXNuOzoHEukXxIRkWBo+X/JKwKPI8skkR1dbVr5syZr544cSIpa1MUFBSM2rdv3+xktJ1M3nvvvR9oiiIJHAJw3zvvvEOD0ZgEwMoiiWgKY//+/V8ko/2ioqIR+/btm91ais2+++6705KY57ENQR8FK4okwcoiyVRXV7suueSSPwPYmIz2i4qKRrz88ssLBg8enLIKo6Kiwr5nz565PXv2HJCkU2yUJGkJK4rkEovPwsysQ7SkIi34SZTpAsO0MA1dgIbW4KA2dDQfhpnZEBrBmWcgizkQ7aC33bOgt93PAfh81apVYwcPHtwDACorK79EAqmtra2eMmXKyq1bt4rRjn3JbjTugkYl0lW2KEY+CxpXkSMKFRUV3nXr1v04Nze3CAhGY2ZlZdF4j6awMVQLROyjAaFNww29/8aFcH/OMSLTYjc0opPWRDWaDTEj04rhkc5hFMtB831oFC+tUm7kBzHlw+CRRTMya9as99977z1aQToh2Gy20ldeeWXBqFGjUibFvUuXLva1a9feoimKJLCeU8ybj1jiLMyMLKLNwdOqSVRujtkQep20TaPRC30BHdD/bRnkGBpd6UbQu46//e1vR1RVPTdlyhQau9EkQmHmBTNnzhxrt9s/fe+992oQPotD4y5o6b5oWadmRo92AJg+fXqHZ5999qa8vLx8MTRbVVWvzWajv47xsFySpLWhf3eCvo+KQpsGTd83SuencRZ0+UKjexVrhKYZOZbZESD67IiZKFFT8MiiBXjiiScOAkjKL6KiKI758+cvWLx4cedktG+G6dOnd1i6dOmNmZmZOdH3jgstIYxpRiL5LGL9RdaSikSo7a8lEInfR6rZ0GijrVixokfv3r07O51Oe0FBQYlWPDcQCOgUHl3NPPSZRL7XyVrylyZ7vV7diMjlcqlU9vl8jce43W6bKHu9XovX6238xZVl2Wez2XS25dChQ/cpitJFkiQnEKyJEXbhMRAIBCTxGnw+X/3+/ftptqbu5lgsFh9dWS1StGQgEIB4jtB5dPfK4/FY2rVr18FqtdqAoI9CrPVhsVh8Tc318Hg8X4t9um/fvuLa2trGkcW5c+ecdXV1jbEysiz7VVV1ibLdbqcFdXT9Eypo1HidiqKErUJH1yYRR1BGRYPF748ePXpAluXArl279q9evfrI1q1b6xDuT6NrqBhlFtMREnXyGsXSUD9VtNGl/qUxIJqyMApuijZ8p8qBrobdqCzmzp3b6eqrr+7dvXv38tzc3B6NJyEdFGvx3Gj7BwKBsH1EZQIAPp9PFvfx+/0RZfoiA0C7du10zsacnJyEe/K///57XXCZ2+3WmQz0gdYyOi/UntG9iXY/c3JyahOcJwOPx6Nb9On48eMFokKnL3JoBTKdrCiKbrhOFZgsy/5I9yLavdLOY/b7urq6I8eOHTv4ySeffDF79ux/hz6mVcWMlAU1n6KZUzRM3SgQz9C8Sqnq3tdee23+LbfcMrx3795DHA5HXqhT21Q5dYYxIiMjo3OXLl1KysvLJ548ebL+m2+++feLL7645YknnqAr17UYkRycZsyQSGYJYLDsHNnHCkC+7rrr8letWjXthhtu+GFRUVF3zcSQJMloHVGqrWMNWTezf8Rfz5AsmZUB0IWSQVPY7XZ7Ipx+Oqj5RE0GWkTGZFEZM8l/jdjtdk+iFX5opNd43tra2gzxb6O/+kYyfa6MnrNI98LMvYrjewmAJMuyNTs7u/OYMWNGz549u3v79u1Pb9q06TSMw73pSMPM1Kkps8Po4oz+bSQb2VM0JoLmCWQSWTdrMHToUPXZZ5+9tqSkZBgQHPrRxWJIJ8ZU9MQI6rOIsI8oU7MkTDmIxxisoh62yBD1UdBMy0TQ0NBAlYVOmUeyqS+EgU8o4kE2m82dDGUhXse5c+ccXq+38bky8hfQ5yjaj5CJtVKjXWZczyoxZxufo1OnTn2xatWqVxYvXkxzjOgPPs2zofEhHuhjN0xnz0ZSFkZTlJECqIxWv6be8OzQcVizZs3oiRMnjlNVtVHBqKrqVVW18Rc29AvAZgiTlojKAggq+3379m2dN2/eG1u2bNGc1zRgsIbItdArB1q0xyi4zDA5TXzZY41PiFbLEjCYDendu7fz3XffvaVPnz7DrVarLGp0rYxa4wlNOJEYpq1iZN5mZmb2mD59+uDMzMwDmzZtqkH4DzSN6KTLMMZTh6P5RxYPPfRQ/1tuueVmzSdBp6d4ZMEw5zEaWdTX1zeOxHft2vWXiy++eBc5LGkji2jKgo4kIsVEKAivA9GoLP76178OGT9+/E1im1RZWCwWn9Vq1Wm9RFfNZpjWAvV9+Xw+iU5/79u375MhQ4b8UfiIvsdUWdD1TrwIzz8xjAqlykAk2urXNujngGnpMiBkT/3jH/+4om/fvqMyMzPrxAAdq9XqZWXAMPHjcrms9fX1Ox944IFnfvvb39YB6Ed2oUV76Ep2bkReLAna8ZF8FtGqWBmZIXQ2xLF58+ZrKysrhwHhy/yFouLAMEx8+Hw+xWq1dpowYUL/mpqaD3bs2JFPdqERnF7olYEZH0aYGZLwkcXmzZt/0qNHj0GazCMLhkksLpfLKvx7b05Ozutkl4SNLGhuR7RNIZuFbFZte/nll0dUVlb2t1gsPm3Tcg+0jUcVDNM0xPfJ4XBUfvDBB9fg/Dq4tQi+t1Zho+8sfaeNFu2SAEji0nL0zaWL8dA49QyELyicBQCLFi3qOnbs2NmZmZk6zyyPJBgmsdC8m4EDB/Y6fPjwgJKSEi19vxv0Ew9Gi2yJ+HCBNPiEp6hfeumlebfffvtNiW6XYRhztG/ffvr777/fO9Htin6JaD4LGt6tDWvE7+3r16+/1el05gHhab/s0GSY5KLlyBQVFQ0+derUOzt37syC3iKgSxhQh6fRkgaJH1m89tprk5JYQo1hGJPIspyxZMmS2xLZpuizoLaLSj5zQO+jyIKQKHbFFVdkjx8/fjQEz2qCyqcxDGMS8Z2z2WxVa9eu3TV9+vS9wi5OAOICTOegf8/pYtnaZ4kbWSxdunRGotpiGCYxjBs3LmHvZUKUxT333NO1sLCwayLaYhgmcdhstoKtW7dOTURbCVEWt956a7IWuGUYpon07NlzwogRI5q8RIRYuSqaz8IO/XytA4B9xYoV/W02WwEAb2Zmpq5ALMMwLYvD4XDZ7XZp3bp1/Tt06PAKgBIAYkg4jatwI3zJiAZAnzVqVL+CBm/QXBB55MiRA7XMODGUm2GYlkerD1NYWDgZwIsIKoeo7zVpRoLBhzFxww03dOzYsWN5U9pgGKZZcAYCgYlNaaBJyuLmm28e3pTjGYZpVpqsLLREEZpgouL8Mnw2BH0UTmFz9+7du6vNZnPbbDa3WOGKYZiU5KJ77rnHCeCksHmgf68zoH/vbQjphEhZpzLZdNlpzz333FC73a5qdTM5QYxhUp+rr756MM5Xy9IWIKIDBfruB5coiPeklZWV3Zp22QzDNDfdunUbGe+xcSuL8vLyhGe1MQyTXJxOZ+ehQ4fGFXNxQTMDpJhNaLMBsN1www1lqqraxcI2dO1IhmFSD0VR/Pfee28JzhfH8UPvn1AR/t4rABQxkYyOMmj1bs3hidGjR/cAEBALb7DPgmFSH1mW/YMHDy4HsCX0UT7CF1+mayDLjf+JlcrKyrJ4jmMYpuVxOp2l8RwXl7IoLCzsGM9xDMO0PA6HozKe42KZOm30azidzlxtJWqh+C6vHMYwKY622PjKlStzcX5pQ1qw94JTpxeq3G3o3Pzxj3/c3efzyZIkBVRV9WgbWUmMYZgURFEUv6qqnltvvdUO4AyCuSJ2sqlka3RwMimIz+eTamtr/3Ps2LHNhw8f/hoAunXrVpmfnz/I6XSWKorCDmWmKRTGekDMymLkyJFxOUcY83i9Xmnv3r3PVlVVvUe+2gtg7TvvvNN74MCB07Kzs3ux0mDiJC5lcaF1Q2iKugRApis7M4nF5/NpiuJTAMXCVw4E4/YxadIkAHhl8eLFXW688cabOnbs6FAUxe9wOMTVsSFJEisSJh6MdAFijbNQfT6fha7uzCSOmpqaz0IjiquhVxY9AVQI8uePPPLI54888sjHixcvvuiaa64pveiii74V2+L6IkwcaEmlIvHHWTDJIRAI4LPPPns71uMeeeSRPZdddtmar7/++kOv18tKnEkKrCxSCLfbLY8cOXJHPMceO3asrnv37s+vXbv28ZMnTx4MBNgCYRILK4sUwuVy7WtqGzfeeONnnTp1emzLli1/qKuro7UUGSZuIvkstGQycV+rz+dTQj6L5ri+dKYfADGz1wXgP4KsAOguyF0BDNWECRMmoFOnThsXLVrUf+rUqUMtFkugvLz8aFKvmGmNqBAWC0NQD7DPIt04evSo66677vpoxowZfzxw4MBRn8/H/gwmblhZpAG7du2qmTJlyqubNm1acu7cue94VMjEAyuLNGLSpEl7s7Ky7jx48ODq+vp6XuOFiYlIQVlaEolO5hiLZuMsgNOCXAdAfME9oS0SdEnJWQDQs2dPFBYW/usPf/hD+bBhwyqsVmsAAFRV9fBi1mkHDb6k7732WewjC20Iywoj6XgRXB1K3BrIVi9sDdAXYnVBX7XZCaBM206cONH+8ssv/9uiRYueOnTo0GGPx6P4/X4eaaYnNOPcEH440pznn3/+aFVV1e/+7//+76+nT58+09LXw6QurCwYAMCcOXN2zpgx4xdffvnlOo/Hw6NGJoxoa51KRGafRfNRC+B7QT4L4Jwga2aHCJ3moFWcs4ncTzxm69attd26dTvXt2/fLffff//o8ePH5+Tl5dVq30uS5Oe6JW0S+p4bvt+xjCwu5AhlkoMX552Y2kZ9EpF8GEYbbS8XwVRlbSsC0Hn37t226667bsfdd9/9+unTp8/4fD4plG3MI9G2h+n3mTufuSB/+tOfvuzYseMDW7ZsebW+vp5Dx9McVhZMVCZPnrzxyiuvfPDLL7/cxv6M9IXL6qUuHgSnSzU0M0ODxl0EEKynKEJ9GvRF9yNYX1X8XtynBKG8gS1btqCysnLPrFmz9t5+++1Xde/evViSJOTk5NQK+0OWZS7c3EZhZZG6aD4KjQYEFYRGHYJOUI0AwoO0aP9SB6gXemWhraKtUQKglyDXrFq1as+qVavemjt3brebb755XFVVlU4ByTIPVtsq3LNMXDz99NNfXHXVVS99+umnGxoaGjh0PA1gZcHETXV1tat///7rlixZ8lB1dfW/Oau1bcPKInUJIOhT0DYf2bxko9Oims9D3GKdeq1D+NRrWAj5L3/5S2d5efnr99xzzyuHDx8+1dDQYHW5XFaXy2X1+/2sQNoI7LNIXaiDU3u5NeqgD9Lyk++NoN/XQv8MOKAP5KI+DBXB3BKRPto/li1bhmXLlv1lxYoVwy677LIxTqfTlp+fX8PJaW0DHlkwCWf+/PkfTZ48+aktW7bs4KnWtgMrCyYpHDp0qGHGjBl/X7Zs2S9Onz69n/0ZrR9WFqlLIMrmR2Sfhhm/RlN9GvUGx+SK24MPPujKz89/8cknn/zL559/HmhoaFC9Xq+ibT6fj5/BVgL7LFIXTQFoaC97JJlOYXqJ7CayC8HCvxo2BP0SGg4EF8rVsELvJwHCl8EbQOQKAN6f/exnWLJkyb8feOCBdtOnT++akZFhA4ILIWVlZdWBSXlYqzPNxsmTJ9133nnnlltvvXX57t27d/FMSeuClQXT7Lz55pvfjRs37pXHH3/898ePHz/GBYRbB6wsmBbjscce+6JHjx6P7d69+zleECn1YZ9F6qI5MkVZTNLSHJga1IcBhCeSUbkB+sQxK/TPBPVhWKAvIgwEi/KInCFyLvT5J30BDBfk+qqqquoOHTpsf/DBBwdedtll3UtLS0+KDfACz6kBjyyYlOD48ePuefPmbZsxY8aLJ06cOMhTrakHKwsmpfj444/PFBcXL3333Xefqqmp4QWRUghWFkxKcvnll/+roKDg7r17925wuVyc1ZoCsM+i9WLk06A/w7QQjdH34nDfC33chRt6f4OM8PwSGstB/SZ10D9nNN9ERtCvoZEJoKMm9O/fHyNGjHhz0aJFY4cMGdJLURTk5+fXqKrK+SbNDCuLtgVVBtGUBxBePSvSuN9otSojp6kIdZrK5JwqggpEww6gndjAhx9++O0111yz6brrrvt83rx547KzsyVVFf2uTHPAZgjTanj55ZePjB49+qW33nprNU+1Nj+sLJhWx/Tp07cuXLjwrq+++ooXRGpG2Axp20QzS4z8HJFkox8X+gwZ1f0UP6O1Ra3Qm0cWhIoEC9D8k8HPPPNM/TPPPPPt0KFD1y1fvnxCnz59CmVZDgCA1Wr1qqpKfSlME2Fl0baI5cUHjB2gEpHFfSSEVxCP9svug95pSov4WEmbVHkA4cqiSDvv9u3bMWLEiHXz58/Pnjt37jV5eXnZTqezgZVF4mEzhGkTrFix4lCvXr1+s3Hjxvdra2up05VJAKwsmDbFDTfc8O7UqVMfOnbs2Fav18v+jATCZkh6Ey080k/2MXr5aI0Mox8g0QyhOSwWcg4xruNCnzlJm6UQYjN27tx5pqio6NMf/vCHgQULFkwuLS215ufnizksAc2/wZiHlUV6YeYFiaQcJIM2zPhFRAVCCxFboPdRGPks6HMqQZ/gVkZkF4CGl156CW+99dYnL7300uCJEyc2/i2SJBldJxMFNkOYNs2pU6c8s2bN+tvp06ePtPS1tHZYWTBtnhMnTtStWbPmBY7JaBqsLBgRs3EZTSkkHGsRYaNCwnSj+wcQNGe0zXnnnXdi+/bt+8+ePZtRV1dni/8WpS/ss2Ao1GdBFQaNs4imYHzQ+z4s0DsnFYT7MOjUp5EfRPRRSAgW6tHIgT45LQtAxxdeeKHkZz/7WeeMjIy6rKysr8HEBI8smLTh8OHDXEW8CbCyYNKGkpKSjOh7MReClQWTNkyePLlzS19Da4Z9FkwkzMQixFpgxwf9j5QMvR9EQbhfhAZlWaD3Wdig91ko0D/brqlTp8oDBgzIkGW5wWaz0UAyxgSsLJg2T35+vrp48eLRsswD6abAd49p0wwcODD7+eefH5WdnW0URs7EAI8smDbLnDlzulx33XXdc3JyZIRPxzIxwsqCSTRG+SRSjDId8RrJ1O/RKF977bXeO+64o2PXrl0LJEk6raqqp3379mfM/wmMEawsmDZDYWGhumTJkqHjxo0rcTgc7MRMMKwsmDbBz3/+8/5TpkypzMrKsiqKwssEJAFWFkyr5o477uh+/fXXX5aXl5cdSj1nkgQrCyYaRj6ISLJiIMtEpuuI2Mn34joiQDC3Q8Q3fPhw29KlS/9f165dO2dkZLgURflW+9JisfisVmtjDU5Jkrh2RQJgZcFEwsxPdTTlQRcVos5JBXoFY0GEiuGlpaX2xx57bNTIkSMHWyyWAICAzWbziMpBURQ/r7yeeFhZMK2GX//610OuuOKK0ZmZmVZwpatmh5UFk/LMnj27bO7cuROLiorac0m8loOVBRPN1IgUEwGE+yhopKQVerNDJfsoCF8o2QYA48ePz3n44Ycvrays7BEK1XYBQZ+E6IdQVdUjFuCVZdloTVemibCySG/MKIpoAVPRlIWNHEOTvizQOzSlLl26OB988MFhkyZNGmOxWAJOp/OcrkGbzaMoCiuEZoaVBZNSLF26tP/UqVPHFxQUZIPNjZSClQWTEsyZM6f8Rz/60fjS0tJSmJuFYZoZVhbpRawxE3TaU0L4M6MSmVajskNvqtjEY7p3725/+umnL+vXr1+VoigBWZa94jQoAFitVt00KC8Q1DKwskhvoiV9GSVs0WeGVsp2EJmuHqaGNjz33HNjx48fP7CgoEBCsNI3LBaLLzMzs970X8A0G6wsmGbn7rvv7nnTTTdNys/Pzw45KjnpqxXAyoJpNiZMmJD385///NqSkpJyrlrV+mBl0bZpqo+C5nUYmSHUZxG2gE+PHj1sv/rVryYOGTJkeChEu9EnIcuyLjSbp0RTF1YWbQszykBEQWTlYIX+GVEQrgyyiZwrCitXrux36aWXjnU6nTYAPrvd7rbb7Y1mhyRJHETVSmBlwSSFW265pey2226bVFpams+jhbYBKwsmoYwcOTL3oYceuqSysrK7LMuQJMkb/SimNcDKgkkIFRUVjkcffXTU8OHDJ4f8Ekwbg5VF6yJaDATN06D9S30WKiL7KHQBVKHvMkkbgaVLl/a/8sorx+Xn52fn5eWd1l2AxeLjIKq2ASsLJm5++tOflv/4xz8eW1ZWVsol7do+rCyYmBkzZkzuvffeO66qqqqfoig8akgTWFkwMfHHP/5x3OjRo4eGpkJZUaQRrCxSl4gL6SC88K2E8BgI2r+01kQG9H4OO8JrTViAYIj27NmzJ5SUlKiSJPkB1AMA53GkD6wsmIhcffXVHRYsWDC5S5cuJVar1SdJUkNLXxPTMrCyYAzp1q2b/bHHHhNDtJk0h5UFE8bvfve7EZMnTx7ncDgcfr+fFQUDgJVFKkPjJqzQxzyo0C/OY7ROBp3PpLUmHOI55s2bV3LHHXdcVVBQkC1JEqxWa72qqo1LAUqSFODQ7fSFlUXqEq1YLk360j4TMQrCorKihWj37du3q81m8yI0y2GxWHw2m43XDWUAsLJIa7p06WJ/4IEHRmhVtGVZ5lW8mAvCyiJNeeKJJwZOnTr1CqfTaQfHSzAmYGWRuligj4tQoY+B8EAoIgPAj+hrePjnz5/f5aabbrq4tLS0zGq1emVZboyTUBTFL/okaOFcJr1hZZG6KAhXFqLPwQ69UzMA4wV+AADDhw/PefTRRwdfdNFF/bUQbYfD4aarjXPSF3MhWFmkAb///e/HjB8/flBubq4MNjmYOGFl0YZZsGBBxY9+9KOJ+fn52aGsUJ7ZYOImFmURIP9nEowkSeICPQrC19sQv6dTqT4AtUAwRHvhwoWTevToUaQoChAqtW+3213i+egCw5xmnpbQ9/mC73ckZREwakiSJIgPGJM47HZ76Zw5c5zPPPNMLcKDsmwIOjE1aCKZu7S0VPrlL385etSoUYNCCwqfFdt3Op2c18EYYUph8OINKYTVag3cdtttg+M59qGHHhrw97///bZx48YN5FwOJhmwzyLF6Nq16zQA75ndf9q0acULFy4cX1hYmCGW2GeYRBOzz+Lo0aM1SboWBoDT6cyvrq6+rbi4+BsAZ4SvdGZhnz59Mh599NHRVVVV5bIsBxRF8Yp5HAAv2MNE5MQFPo/os7iQ45L6LAIA/F9//TUriyQiSRKKiopGbd68+dh99923cfPmzWdCX7UH0H7MmDEFs2fP7n3xxRcXZ2dn1wM4BwSdlTk5ObUtdd1Mq0NTFgHofWGGvkogDjNk//79rCySjCRJ6N27d8WaNWv6HD169Gu/34+6uroMVVULCwoKnLIsw2KxsLOSaQrHYz0gZmWxa9eus9H3YhKBxWIJlJaWlgJAQ0ODzeVy0axRhokLSZIuZIZckLhmQ/7zn/9Ux3McwzApwZ54DhJ9FtQZ5oc+98CnyUeOHDlRVVWV6fP5GpUNL3CbWPLz89ncYxKO3++X6uvrD+N84SQZ+oREL8ILKfm1HWPm4MGD38ZzHMMwLU9NTc2n8RwXl7J466232AxhmFbK66+/3nzK4l//+lfNiRMneHTBMK0Mv9//1Zw5c+KaYo/ks2j0UYTwQsha3L9//9GSkpJejQ1ZLP6MjAyezmOYFOazzz7bAaBI+CgD4T4LWvQozGcRMLH5tW3t2rU7fD6fImycZ8IwKc769es/RtC5qW0WCO81Irz/Es6nPeeSdguhL+NWACBfkL/55ptv5thstgIgGEGYlZVVl7g/i2GYBHNIkqSfA2gnfNYJ+pFGPYDD5LgjQBOzTnfv3v3PphzPMEyzsr4pB2tl1nQmRmjzkM0NwCVsGbfffvvh+vp6e319vd3lctH6jwzDpA61ALYhaEF0EbYs6N9rF8LffR8AXzSfBVUg4qYcPHgwsHv37j0+n0/2+/3ss2CY1GW9JEm1CFZccwob9VkYbQEAgSa/4L/4xS/eb2obDMMknY1NbaDJymLz5s1n9u7d+0lT22EYJmmsiSdxjBLJZ+Elm+a30DYrgDwAeQ888MAnZ8+e9Xu9XkXcmnpxDMM0Dbfb7Vq4cOEmANmhLZNsCvTvtRvh774fgF+sIK0FaGmbDcEK0pryUBFUEFqwVhaCU6n2o0ePShUVFcqAAQNyA4GApG0Wi4UTyximBdm7d+/rs2bNOoTg+2wDUBzatEWrGgCcxfn32hWSxYFDLUJxFloshZOcJw/6Fa5yAeQIcjsEYy80jtfW1k5VFKW99gGvwM0wLcoeSZJ+A328VGVo0zgFQEzdaEB4YZyTQIKre7/99ttPJLI9hmHiphbAs4lsMNLUKfVh+MhG7Rp52rRptdu3b3+3oaFBbWho4KpODNNyrJEk6RCC1kCBsNkQ/u7Sd9tw6lSbYwXCC164he+AYBioWIbPBr2ZYgEwauzYsd9u3LixvrS0tJgLyDJMi7BRkiQtWrMPgiHdGm4AYmGlcwitZCd8r1u5DqHEsqQEUs2aNeuNmpoarvTEMM3PIQDPJaPhpCiL6upq1/333/836DUWwzDJpRbAfaFIzYRDp05FrAhOnWo+DGto02Rt6kWzaxCSJQDS559/Xl9cXLy+e/fuYwKBgN3r9VoURQnwOqkMkxQ0RQHow7m7Qr+gtmZmiNOi9Tj/XnsA1EHvv2wAgopCUwhiTIUfwVGH6NjURiFacokma8knQHB61aJtGzZssH/66acnhg4dOqi+vj7b4XC4rFYr9Y0wDNM0NEVxCMAV0CeK5eL8ey4h6KM4g/Pv7dnQpr3XrlB7osPThUTkhkRjw4YNJxYtWvSy2+2mThOGYZrOIZxXFEmlWTJFN2zYcGL27Nl/rKmpOdoc52OYNKHZFAXQTMoCAD766KPv58+f/wgSkP3GMAzWS5J0Z7KcmUZIOK8wqINThV6Z2KEPG9UcKBo2BEvxiZQTuQ6A9/bbb+962223XVJWVnbW4XA0mieyLAd4oSKGMSYQCEgej+fUl19++dvKykqtnP9Msls2kY8h5KAMUQN9nEUtQotrh/AifBazAWjGkYXIb3/72y8vvfTSPxw9evTDljg/w7RGvF7vhmXLlt0tKIpmJeaFkRNFdXW1q1evXs/v27dvfVlZ2Q+sVmuflroWhklx9gBYpqrqKehH981KiykLjZCW/HTfvn19unTpMtZms41r6WtimBRhI4K+Cc2B2aI1YrS5V6MLsUBvplgR9GNoOHB+cVWEvssjbXQmcib0+SQN0OefnJoyZYoyc+bMfiNGjOjXvn37dllZWfWNFytJfo7TYNoqPp9Prq+vP3L8+PH3ly9fvunJJ5/MANBe2CUDQAk5zEHk00T+FvpcD5oLUh/aGi8Deh8HEFpcTFQW1H9hEb4DzkdwamiLlIjf55I2OhG5HfTDqEzoRzfHEXTIAAAmT55sefzxx6UOHTpUOhyOUrvdXqqqKtfIYNoShwB8CWDP66+//sXVV18tOhs7Q/+DmwmgOzn+DJGPEPkUglGbGrXQK4sG6JWDH+GJZKmvLBD02orOHE8gELAB6BCSuyC8aE80ro9x/6awphnPxZwnVfu4FkHlAADHDepiZkAfmp1SyqLFfRaxErrB2k3eHevxgUBgIsKneJOCJEmsLFqAQCDQXMriRDr1sbgwMk3w8kE/spAM9hH9DUbOF7rwkBd6v0c22UeBXpMGAPQk10DPYyeyDfpRkk085h//+EfxoEGDGu08q9XqTfSyi36/X/L5fN8K11YOYDbZjZ6TanMf9Pc7gPD731aRiGyU5Cj2sQqhj3fs2FFQUVHR+GtpsVh8TqczoYt2+/1+yePxnMKF+9jI9qd9TmvG+IgsxkEBwf6no5FTRP6WyGcgLGiO8JGEVqRXPAf1CwYAfSfQB9FIMYidqFXLEqH+BPoCNJALsUF/czKgd9hYoDczFIQ7dKgZ4oBeoWSI8qZNmyz9+vVL9ohKcrvdXwvnzQbQl+xzlsj1RNaqKmsYKYu2qDxE01iD/ujQHwRdn2/fvt3TtWvXZM8cSLW1tftw4T42Cm6ifU7fB1p4xgX9i+2BPqAKCH9ujEwI8b2kq6RTBXXB5yztVhFbt27dzuY4z5kzZ3Y0x3mYcD744IMvm+M8Bw4cSKs+TjtlsXfv3tMnT55M6sPk9/tPdO7ceVMyz8FcmNWrV+9uaGj4Lpnn8Hq9n44YMeKrZJ4j1Yg0HI9mhlATxI9wfwIdhsnQDykDRK6H3sxQoLfzjMwQagdSM0Rbz7Gxjfvvv3/H8uXLewOA3+9PeOr8Rx999DaAUuGjPAD04f2eyPTv8CDy8LAtmiCAsRlCiz9TM8QJfZ+ry5cv3zFv3rxrAMBms7kTXQ/2zTfffAvhfSz6D7zQ51wAxiaE2Mcu6P0HVPaYaJP+nfUIN3ViNUMAhHeKCB11yGR/hewjIzwUNZPItFPpi0yT1ahyUBDu0KQ+C52PAsHFkMRzfA/gzG9+85vBl1122SCHw9FQVlb2DRLHHkmSngfQTfisAMAwst8ZItOHwEhZ0CS7tqIwqCM9mrKwQ//s0Sn47wGc+fOf/zx+0KBBFUno4/WSJP0T+j7Oh76PvQj3UdAfCKMX2R1BNvKD0DapTP0i2uqCGj6EOzTpc+YH0tAM0ViwYMHOjz/+eH+Cmz0E4BcJbpOJk7vvvvuD48eP09mCpnJIkqSkFMRNddJWWQDAjTfeuCmBCkMrRMJFilOEb775xn399ddv+OqrrxJVdGkbgPsS1FarI5IZQoeDVJahH+7LCB8uZhDZAf1wkZoM2nqMGtTsUBBu6sRqhtBY+OPbtm1z9urV60pVVe2yLPtVVdX5Y6IVGT5+/Pg7jz/++F9+/etfa4qia2gTr6EnOewMkaOZIdpiLxptxQQBwp9D+iNm5LMQ+5iaIWF9/O9//7tdRUXFVCBYN8VqtcbUx4cPH95QWlr6F+Ej2seZAHoIcjxmiLb4uIYb4dOe1LdFz0F9GFpxXrGNWH0WfiC6sogmU2ViVECHyrSgDk1WE9ugfhAzCimasqAhtQ0AviktLbU99dRTE/v27VvWuXNnXYdYLJYLJa9tQ3DlJ3voPBrlAMoE2YfwTqYJP+nssxChgUiAsc8ikrKgfVwH4KsxY8bk3nfffWP79+9f2a5duzNigxH6eCOCfVwE/Vq/ZdD3sQf6HwAvwl9cKkfzJ1DZKBSbPlc0EIzG62hFuDXMxO8EAFYWQEhZaEKPHj0aNm/e7M3MzOyjKEp7RVHKrVarNrrZg2D+yiEA24TY/kqwskgUSVMWmtCrVy/3pk2bZIM+1nI3jiPY19sEs7IKaa4sWl1uSLI5ePBgbceOHT8A8E/hYxolx7RiPvvss9qOHTvuBPdxTMSiLLS1RUTZaB8R+ktI8x08CI/NEL+n07VG+Sn0V4iOcCxEpiMiD/neAaCYtOlGZHKh/yWTof8F8CL8YaQy/UVwQ/+3Up8FDOS2gNHIwqguq7iPgsh97IZ+dOKEuT4W728O9P4xCfo+dBPZi/A+NZIj+ROo7Ed4fJOZac9Iz5HpZyqSGRKNaGYJEK4IFLIPTYOnsRv0xTcydajDkw5RaSwHzT+xQm9C0HwUIHwYTG94HfSdRh1sRjH9Z4hMZ1E4N+Q8ZoKyqMKnfSwWsrUg3Hyl56A/bLH2sVFQFpWNEsnEcxiZDNHysYyCJaMlJJp6jtJ66pRhGPOwsmAYxhSsLBiGMUVTfBZm2osmGzknIwWCGTm/aK0Do+nZSIFfRjUzaP4JPQe1A2ngi7hYNGAc00/tV6MpLy5+E8TMAljR+lj0UcTbxz4iR+pjH6I7sY38UtGmy6PJZvwRcT1HPLJgGMYUrCwYhjEFKwuGYUyRaJ+FmfZjCTE3+iyaPUsXR6L2LV3SQIbefjWqy0HPQe1ZD5FpApBR8VYq0zBeI1s0XX0WRgtgiftE62OagBhPH9MgOdrHfkQvqU8Dv8wUZY41JiJpsTjJDvemF2oUgRlPGyI0gk1C5ArJtE0aJSobnNMoylTchzqqjGL6owXPGFVUZgenuX3M9DGIHGsf01ydaH1sNtoy1j5u6vdxw2YIwzCmYGXBMIwpku2ziIdYr8lMrVAqi0NOCXr71ij/JNo10ZgIGuMfT0x/OuSBmKUl+pjeb+pfMOpjD5HNmJqRZEqLPgOpmKLeVJ+Gkd0X6UEwcqBS52I0ZUEfJKMEoGjZgUkLpmkDtEQfG2VQx9LHZuqPtKo+ZjOEYRhTsLJgGMYUqWiGNBW6GBKVtc80jKZz6TSamSEqlRNdEi9lh6ctQDL62Mw5qRwtr6NN9XEqOjhjJdrfYJSsRuVoi9xEUxZmbOpY7deUfnCamebo42ikfR+zGcIwjClYWTAMY4pY7bZUJNbQ4GjQwsTaZ+JmdIzR/kxiaI4+NnMMlSP1cZvr/7bgs4hGPH9jIu5LSgfYtDG4j5sBNkMYhjEFKwuGYUzByoJhGIZhGIZhmGbm/wMD91GhpxHALQAAAABJRU5ErkJggg==>',indicator:'<img width="16" heigth="16" src=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMiAyMiI+DQogICAgPHBhdGggZD0iTTE2LjExOCAzLjY2N2guMzgyYTMuNjY3IDMuNjY3IDAgMDEzLjY2NyAzLjY2N3Y3LjMzM2EzLjY2NyAzLjY2NyAwIDAxLTMuNjY3IDMuNjY3aC0xMWEzLjY2NyAzLjY2NyAwIDAxLTMuNjY3LTMuNjY3VjcuMzMzQTMuNjY3IDMuNjY3IDAgMDE1LjUgMy42NjZoLjM4Mkw0Ljk1IDIuMDUzYTEuMSAxLjEgMCAwMTEuOTA2LTEuMWwxLjU2NyAyLjcxNGg1LjE1NkwxNS4xNDYuOTUzYTEuMTAxIDEuMTAxIDAgMDExLjkwNiAxLjFsLS45MzQgMS42MTR6IiBmaWxsPSIjMzMzIj48L3BhdGg+DQogICAgPHBhdGggZD0iTTUuNTYxIDUuMTk0aDEwLjg3OGEyLjIgMi4yIDAgMDEyLjIgMi4ydjcuMjExYTIuMiAyLjIgMCAwMS0yLjIgMi4ySDUuNTYxYTIuMiAyLjIgMCAwMS0yLjItMi4yVjcuMzk0YTIuMiAyLjIgMCAwMTIuMi0yLjJ6IiBmaWxsPSIjZmZmIj48L3BhdGg+DQogICAgPHBhdGggZD0iTTYuOTY3IDguNTU2YTEuMSAxLjEgMCAwMTEuMSAxLjF2Mi42ODlhMS4xIDEuMSAwIDExLTIuMiAwVjkuNjU2YTEuMSAxLjEgMCAwMTEuMS0xLjF6TTE1LjAzMyA4LjU1NmExLjEgMS4xIDAgMDExLjEgMS4xdjIuNjg5YTEuMSAxLjEgMCAxMS0yLjIgMFY5LjY1NmExLjEgMS4xIDAgMDExLjEtMS4xeiIgZmlsbD0iIzMzMyI+PC9wYXRoPg0KPC9zdmc+>'},customType:{mp4:(e,t)=>{-1!=t.indexOf("now")?new i({video:e,url:t}):e.src=t},flv:function(e,t){var r=!0;a&&(r=!1,a.destroy()),n().getFeatureList().mseLivePlayback&&(a=n().createPlayer({type:"flv",isLive:!0,url:t}),a.attachMediaElement(e),a.load(),a.on("error",(function(){a.destroy();var e=d;e.type="mp4",p(e)})),r&&setTimeout((function(){a.paused&&a.unload()}),1e3))}}};function h(e){let t=new URL(window.location.href).searchParams.get("st"),r=new URL(window.location.href).searchParams.get("ref");if(t&&(t=t.replace("m","")),window.WebSocket){let i=new WebSocket("ws://"+window.location.host+window.location.pathname+"ws?ref="+r),n=!0;i.onmessage=function(t){try{let r=JSON.parse(t.data);e.plugins.artplayerPluginDanmuku.emit({text:r.text,color:r.style.color,border:r.style.border,mode:r.style.mode})}catch(e){console.log(e),console.log(t.data)}},i.onopen=function(){i.send("pause");let a=r=>{n=!1,null==u&&(u=e.currentTime),i&&e&&i.send(60*Number(t)+7+(e.currentTime-u)),null!=i&&i.send("play")},o=(...e)=>{n=!0,null!=i&&i.send("pause")},s=setInterval((()=>{e.playing&&n&&a(),e.playing||n||o(),i&&e&&("now"==r||null!=u)&&i.send(60*Number(t)+7+(e.currentTime-u))}),3e3);e.on("video:play",a),e.on("pause",o),e.on("error",((e,t)=>{null!=e.message&&(console.log(e.message),null!=i&&i.close())})),e.on("ended",((...e)=>{console.log("ended"),null!=i&&i.close()})),e.on("artplayerPluginDanmuku:emit",(e=>{null!=i&&i.send("%S"+e.text)})),i.onclose=function(e){console.log("close ws"),i=void 0,clearInterval(s)},i.onerror=()=>{console.log("err ws"),i=void 0,clearInterval(s)}}}}function p(e){let r=new(t())(e);r.on("ready",(()=>{r.autoHeight(),h(r)})),r.on("resize",(()=>{r.autoHeight()})),r.on("error",((e,t)=>{null!=e.message&&(console.log(e.message),console.log("clear danmu"),r.plugins.artplayerPluginDanmuku.config({danmuku:[],speed:10,emitter:document.body.clientWidth>800,fontSize:"4%",opacity:.7,...JSON.parse(localStorage.getItem("danmuku")||"{}")}),r.plugins.artplayerPluginDanmuku.load(),h(r))})),r.on("video:ended",((...e)=>{a&&a.unload()})),r.on("artplayerPluginDanmuku:config",(e=>{const{mount:t,...r}=e;localStorage.setItem("danmuku",JSON.stringify(r))})),r.on("artplayerPluginDanmuku:visible",(e=>{var t=e.$ref.innerText,r="",i="",n=!1;for(let e=0;e<t.length;e++){const a=t[e];(n=!n&&"["==a||n&&"]"!=a)?i+="["==a?"":a:""!=i?(r+='<img src="../emots/'+c()("["+i+"]").toString()+'.png" alt="['+i+']" style="object-fit: scale-down;height: 1.125em;max-width: unset;"></img>',i=""):r+=a}e.$ref.innerHTML=r})),document.addEventListener("resize",r.autoSize),console.log("initPlayer")}l().get("../keepAlive",(function(e){e.on("data",(function(e){d.url+="&key="+e,p(d);let t=setInterval((function(){l().get("../keepAlive?key="+e,(function(e){e.statusCode>=300&&clearInterval(t)}))}),15e3)}))}))})()})()})();
//# sourceMappingURL=bundle.js.map